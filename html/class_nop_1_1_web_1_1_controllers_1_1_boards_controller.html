<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NopCommerce 4.40: Referência à classe Nop.Web.Controllers.BoardsController</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="download.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NopCommerce 4.40
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Gerado por Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Localizar','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Localizar');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_nop.html">Nop</a></li><li class="navelem"><a class="el" href="namespace_nop_1_1_web.html">Web</a></li><li class="navelem"><a class="el" href="namespace_nop_1_1_web_1_1_controllers.html">Controllers</a></li><li class="navelem"><a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html">BoardsController</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Membros públicos</a> &#124;
<a href="#pri-attribs">Atributos Privados</a> &#124;
<a href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller-members.html">Mostrar lista completa dos membros</a>  </div>
  <div class="headertitle">
<div class="title">Referência à classe Nop.Web.Controllers.BoardsController</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Diagrama de heranças da classe Nop.Web.Controllers.BoardsController</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.png" usemap="#Nop.Web.Controllers.BoardsController_map" alt=""/>
  <map id="Nop.Web.Controllers.BoardsController_map" name="Nop.Web.Controllers.BoardsController_map">
<area href="class_nop_1_1_web_1_1_controllers_1_1_base_public_controller.html" alt="Nop.Web.Controllers.BasePublicController" shape="rect" coords="0,112,285,136"/>
<area href="class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller.html" title="Base controller" alt="Nop.Web.Framework.Controllers.BaseController" shape="rect" coords="0,56,285,80"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Membros públicos</h2></td></tr>
<tr class="memitem:aeb1f62937bbfc60e0acf54498ac55df9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#aeb1f62937bbfc60e0acf54498ac55df9">BoardsController</a> (<a class="el" href="class_nop_1_1_core_1_1_domain_1_1_security_1_1_captcha_settings.html">CaptchaSettings</a> captchaSettings, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html">ForumSettings</a> forumSettings, <a class="el" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html">ICustomerService</a> customerService, <a class="el" href="interface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory.html">IForumModelFactory</a> forumModelFactory, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html">IForumService</a> forumService, <a class="el" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html">ILocalizationService</a> localizationService, <a class="el" href="interface_nop_1_1_core_1_1_i_store_context.html">IStoreContext</a> storeContext, <a class="el" href="interface_nop_1_1_core_1_1_i_web_helper.html">IWebHelper</a> webHelper, <a class="el" href="interface_nop_1_1_core_1_1_i_work_context.html">IWorkContext</a> workContext)</td></tr>
<tr class="separator:aeb1f62937bbfc60e0acf54498ac55df9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1ac3bfb915e012487e8af567dd39014"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; IActionResult &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#ae1ac3bfb915e012487e8af567dd39014">Index</a> ()</td></tr>
<tr class="separator:ae1ac3bfb915e012487e8af567dd39014"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a730f7ca8963389e623efd90105111881"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; IActionResult &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a730f7ca8963389e623efd90105111881">ActiveDiscussions</a> (int forumId=0, int pageNumber=1)</td></tr>
<tr class="separator:a730f7ca8963389e623efd90105111881"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0129bbdb3c4901213c2f644b61524cae"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; IActionResult &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a0129bbdb3c4901213c2f644b61524cae">ActiveDiscussionsRss</a> (int forumId=0)</td></tr>
<tr class="separator:a0129bbdb3c4901213c2f644b61524cae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a423ab6f290a24b560f31018caf72e00e"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; IActionResult &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a423ab6f290a24b560f31018caf72e00e">ForumGroup</a> (int id)</td></tr>
<tr class="separator:a423ab6f290a24b560f31018caf72e00e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a47c9133b5e38e548a165fc0911e598"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; IActionResult &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a47c9133b5e38e548a165fc0911e598">Forum</a> (int id, int pageNumber=1)</td></tr>
<tr class="separator:a7a47c9133b5e38e548a165fc0911e598"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca219ca64297a59166908ec7c88d4b4f"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; IActionResult &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#aca219ca64297a59166908ec7c88d4b4f">ForumRss</a> (int id)</td></tr>
<tr class="separator:aca219ca64297a59166908ec7c88d4b4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d703a6f829937c2bbdc0abaeb7b9f22"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; IActionResult &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a3d703a6f829937c2bbdc0abaeb7b9f22">ForumWatch</a> (int id)</td></tr>
<tr class="separator:a3d703a6f829937c2bbdc0abaeb7b9f22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a166af8d3d7556215139e5e25e562d9e4"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; IActionResult &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a166af8d3d7556215139e5e25e562d9e4">Topic</a> (int id, int pageNumber=1)</td></tr>
<tr class="separator:a166af8d3d7556215139e5e25e562d9e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8102bd2cd6d2d04c9b781aadaaa33d5"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; IActionResult &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#ae8102bd2cd6d2d04c9b781aadaaa33d5">TopicWatch</a> (int id)</td></tr>
<tr class="separator:ae8102bd2cd6d2d04c9b781aadaaa33d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a866a4b9c59895233ef7ebd68074614a3"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; IActionResult &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a866a4b9c59895233ef7ebd68074614a3">TopicMove</a> (int id)</td></tr>
<tr class="separator:a866a4b9c59895233ef7ebd68074614a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1894cedc4a2bbadc7a53e7624ff08c1"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; IActionResult &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#ac1894cedc4a2bbadc7a53e7624ff08c1">TopicMove</a> (TopicMoveModel model)</td></tr>
<tr class="separator:ac1894cedc4a2bbadc7a53e7624ff08c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a4fcf71e3b61c41033822b34369aba2"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; IActionResult &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a9a4fcf71e3b61c41033822b34369aba2">TopicDelete</a> (int id)</td></tr>
<tr class="separator:a9a4fcf71e3b61c41033822b34369aba2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedf9e89b077b4c77c00ce3a294ade285"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; IActionResult &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#aedf9e89b077b4c77c00ce3a294ade285">TopicCreate</a> (int id)</td></tr>
<tr class="separator:aedf9e89b077b4c77c00ce3a294ade285"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60f8c61cd3a8fd1d2811ec33a79dae67"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; IActionResult &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a60f8c61cd3a8fd1d2811ec33a79dae67">TopicCreate</a> (EditForumTopicModel model, bool captchaValid)</td></tr>
<tr class="separator:a60f8c61cd3a8fd1d2811ec33a79dae67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a027617e1e5cbda29b0e5686caf143174"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; IActionResult &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a027617e1e5cbda29b0e5686caf143174">TopicEdit</a> (int id)</td></tr>
<tr class="separator:a027617e1e5cbda29b0e5686caf143174"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cfa8bfb23070c4b15fc7b8e6bec1ff0"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; IActionResult &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a0cfa8bfb23070c4b15fc7b8e6bec1ff0">TopicEdit</a> (EditForumTopicModel model, bool captchaValid)</td></tr>
<tr class="separator:a0cfa8bfb23070c4b15fc7b8e6bec1ff0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bd6173cd0fbd8d4c218eafcf8ab63c7"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; IActionResult &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a0bd6173cd0fbd8d4c218eafcf8ab63c7">PostDelete</a> (int id)</td></tr>
<tr class="separator:a0bd6173cd0fbd8d4c218eafcf8ab63c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24a562273c13ae420e13074fcb4158ce"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; IActionResult &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a24a562273c13ae420e13074fcb4158ce">PostCreate</a> (int id, int? quote)</td></tr>
<tr class="separator:a24a562273c13ae420e13074fcb4158ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15032b4ef6122000e0261bb8fbf6e546"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; IActionResult &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a15032b4ef6122000e0261bb8fbf6e546">PostCreate</a> (EditForumPostModel model, bool captchaValid)</td></tr>
<tr class="separator:a15032b4ef6122000e0261bb8fbf6e546"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf05b6668cf3150c04f68c30e17a2da4"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; IActionResult &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#aaf05b6668cf3150c04f68c30e17a2da4">PostEdit</a> (int id)</td></tr>
<tr class="separator:aaf05b6668cf3150c04f68c30e17a2da4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1237fc9d935f7948f80a5e473878639e"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; IActionResult &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1237fc9d935f7948f80a5e473878639e">PostEdit</a> (EditForumPostModel model, bool captchaValid)</td></tr>
<tr class="separator:a1237fc9d935f7948f80a5e473878639e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abaa68d10b2595c55f2c0adfd742f7854"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; IActionResult &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#abaa68d10b2595c55f2c0adfd742f7854">Search</a> (string searchterms, bool? advs, string forumId, string within, string limitDays, int pageNumber=1)</td></tr>
<tr class="separator:abaa68d10b2595c55f2c0adfd742f7854"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0eede466f71407af80a3f8330f89e649"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; IActionResult &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a0eede466f71407af80a3f8330f89e649">CustomerForumSubscriptions</a> (int? pageNumber)</td></tr>
<tr class="separator:a0eede466f71407af80a3f8330f89e649"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf80e3eb6b3d09a17da8edc3d82a2f12"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; IActionResult &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#aaf80e3eb6b3d09a17da8edc3d82a2f12">CustomerForumSubscriptionsPOST</a> (IFormCollection formCollection)</td></tr>
<tr class="separator:aaf80e3eb6b3d09a17da8edc3d82a2f12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31fb70234a20c412bb9fbbb1afa2d0fc"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; IActionResult &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a31fb70234a20c412bb9fbbb1afa2d0fc">PostVote</a> (int postId, bool isUp)</td></tr>
<tr class="separator:a31fb70234a20c412bb9fbbb1afa2d0fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller')"><img src="closed.png" alt="-"/>&#160;Membros públicos herdados de <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller.html">Nop.Web.Framework.Controllers.BaseController</a></td></tr>
<tr class="memitem:a81ec7851145b6ba0bc5aebe6e3be4c17 inherit pub_methods_class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller.html#a81ec7851145b6ba0bc5aebe6e3be4c17">SaveSelectedCardName</a> (string cardName, bool persistForTheNextRequest=true)</td></tr>
<tr class="memdesc:a81ec7851145b6ba0bc5aebe6e3be4c17 inherit pub_methods_class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save selected card name  <a href="class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller.html#a81ec7851145b6ba0bc5aebe6e3be4c17">Mais...</a><br /></td></tr>
<tr class="separator:a81ec7851145b6ba0bc5aebe6e3be4c17 inherit pub_methods_class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3db1ceff409de6599c0b652d5db60e47 inherit pub_methods_class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller.html#a3db1ceff409de6599c0b652d5db60e47">SaveSelectedTabName</a> (string tabName=&quot;&quot;, bool persistForTheNextRequest=true)</td></tr>
<tr class="memdesc:a3db1ceff409de6599c0b652d5db60e47 inherit pub_methods_class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save selected tab name  <a href="class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller.html#a3db1ceff409de6599c0b652d5db60e47">Mais...</a><br /></td></tr>
<tr class="separator:a3db1ceff409de6599c0b652d5db60e47 inherit pub_methods_class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7145f6c833305414e7c911d46d68f66 inherit pub_methods_class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller"><td class="memItemLeft" align="right" valign="top">JsonResult&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller.html#ab7145f6c833305414e7c911d46d68f66">Json&lt; T &gt;</a> (BasePagedListModel&lt; T &gt; model)</td></tr>
<tr class="memdesc:ab7145f6c833305414e7c911d46d68f66 inherit pub_methods_class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates an object that serializes the specified object to JSON Used to serialize data for DataTables  <a href="class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller.html#ab7145f6c833305414e7c911d46d68f66">Mais...</a><br /></td></tr>
<tr class="separator:ab7145f6c833305414e7c911d46d68f66 inherit pub_methods_class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Atributos Privados</h2></td></tr>
<tr class="memitem:af8f90120ca76196ae1b565f5dd405b15"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_security_1_1_captcha_settings.html">CaptchaSettings</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#af8f90120ca76196ae1b565f5dd405b15">_captchaSettings</a></td></tr>
<tr class="separator:af8f90120ca76196ae1b565f5dd405b15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e56e60544bf5517e0ba2a3bbd93b029"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html">ForumSettings</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">_forumSettings</a></td></tr>
<tr class="separator:a6e56e60544bf5517e0ba2a3bbd93b029"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54762e5570aa7cb5c06c93f50ac8b3fd"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html">ICustomerService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a54762e5570aa7cb5c06c93f50ac8b3fd">_customerService</a></td></tr>
<tr class="separator:a54762e5570aa7cb5c06c93f50ac8b3fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a305a169198795c7662a1bed72a7e55ef"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory.html">IForumModelFactory</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a305a169198795c7662a1bed72a7e55ef">_forumModelFactory</a></td></tr>
<tr class="separator:a305a169198795c7662a1bed72a7e55ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1708b52391f8aae1ddb3e892371f4e08"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html">IForumService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a></td></tr>
<tr class="separator:a1708b52391f8aae1ddb3e892371f4e08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ffaa0cbabe0eb5657dc0db3a5cbc614"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html">ILocalizationService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a8ffaa0cbabe0eb5657dc0db3a5cbc614">_localizationService</a></td></tr>
<tr class="separator:a8ffaa0cbabe0eb5657dc0db3a5cbc614"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36672f9f77240e00636db7d67356ba69"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_core_1_1_i_store_context.html">IStoreContext</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a36672f9f77240e00636db7d67356ba69">_storeContext</a></td></tr>
<tr class="separator:a36672f9f77240e00636db7d67356ba69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58f37ce509b0e9593ae248978b289df1"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_core_1_1_i_web_helper.html">IWebHelper</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a58f37ce509b0e9593ae248978b289df1">_webHelper</a></td></tr>
<tr class="separator:a58f37ce509b0e9593ae248978b289df1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a8644f369ceda2614769497e3ab56e3"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_core_1_1_i_work_context.html">IWorkContext</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">_workContext</a></td></tr>
<tr class="separator:a7a8644f369ceda2614769497e3ab56e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Outros membros herdados</h2></td></tr>
<tr class="inherit_header pro_methods_class_nop_1_1_web_1_1_controllers_1_1_base_public_controller"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_class_nop_1_1_web_1_1_controllers_1_1_base_public_controller')"><img src="closed.png" alt="-"/>&#160;Membros protegidos herdados de <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_base_public_controller.html">Nop.Web.Controllers.BasePublicController</a></td></tr>
<tr class="memitem:a0f5015000232710a6c566bce1c1e232a inherit pro_methods_class_nop_1_1_web_1_1_controllers_1_1_base_public_controller"><td class="memItemLeft" align="right" valign="top">virtual IActionResult&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_base_public_controller.html#a0f5015000232710a6c566bce1c1e232a">InvokeHttp404</a> ()</td></tr>
<tr class="separator:a0f5015000232710a6c566bce1c1e232a inherit pro_methods_class_nop_1_1_web_1_1_controllers_1_1_base_public_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller')"><img src="closed.png" alt="-"/>&#160;Membros protegidos herdados de <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller.html">Nop.Web.Framework.Controllers.BaseController</a></td></tr>
<tr class="memitem:a6821e76fe0aa49fb9a7dd1e50ef38a80 inherit pro_methods_class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller.html#a6821e76fe0aa49fb9a7dd1e50ef38a80">RenderViewComponentToStringAsync</a> (string componentName, object arguments=null)</td></tr>
<tr class="memdesc:a6821e76fe0aa49fb9a7dd1e50ef38a80 inherit pro_methods_class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller"><td class="mdescLeft">&#160;</td><td class="mdescRight">Render component to string  <a href="class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller.html#a6821e76fe0aa49fb9a7dd1e50ef38a80">Mais...</a><br /></td></tr>
<tr class="separator:a6821e76fe0aa49fb9a7dd1e50ef38a80 inherit pro_methods_class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d52ab436bd2b3048d4a84ecc0ae5cf2 inherit pro_methods_class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller.html#a7d52ab436bd2b3048d4a84ecc0ae5cf2">RenderPartialViewToStringAsync</a> (string viewName, object model)</td></tr>
<tr class="memdesc:a7d52ab436bd2b3048d4a84ecc0ae5cf2 inherit pro_methods_class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller"><td class="mdescLeft">&#160;</td><td class="mdescRight">Render partial view to string  <a href="class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller.html#a7d52ab436bd2b3048d4a84ecc0ae5cf2">Mais...</a><br /></td></tr>
<tr class="separator:a7d52ab436bd2b3048d4a84ecc0ae5cf2 inherit pro_methods_class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe040afef446050fed6a411d417684a8 inherit pro_methods_class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller"><td class="memItemLeft" align="right" valign="top">JsonResult&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller.html#afe040afef446050fed6a411d417684a8">ErrorJson</a> (string error)</td></tr>
<tr class="memdesc:afe040afef446050fed6a411d417684a8 inherit pro_methods_class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller"><td class="mdescLeft">&#160;</td><td class="mdescRight">Error's JSON data  <a href="class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller.html#afe040afef446050fed6a411d417684a8">Mais...</a><br /></td></tr>
<tr class="separator:afe040afef446050fed6a411d417684a8 inherit pro_methods_class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad02665cdcc90b6b1b546edb3aaa09a55 inherit pro_methods_class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller"><td class="memItemLeft" align="right" valign="top">JsonResult&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller.html#ad02665cdcc90b6b1b546edb3aaa09a55">ErrorJson</a> (object errors)</td></tr>
<tr class="memdesc:ad02665cdcc90b6b1b546edb3aaa09a55 inherit pro_methods_class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller"><td class="mdescLeft">&#160;</td><td class="mdescRight">Error's JSON data  <a href="class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller.html#ad02665cdcc90b6b1b546edb3aaa09a55">Mais...</a><br /></td></tr>
<tr class="separator:ad02665cdcc90b6b1b546edb3aaa09a55 inherit pro_methods_class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b92f22b6ecf3e59e48dbbccb31fe5b0 inherit pro_methods_class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller.html#a0b92f22b6ecf3e59e48dbbccb31fe5b0">DisplayEditLink</a> (string editPageUrl)</td></tr>
<tr class="memdesc:a0b92f22b6ecf3e59e48dbbccb31fe5b0 inherit pro_methods_class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller"><td class="mdescLeft">&#160;</td><td class="mdescRight">Display "Edit" (manage) link (in public store)  <a href="class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller.html#a0b92f22b6ecf3e59e48dbbccb31fe5b0">Mais...</a><br /></td></tr>
<tr class="separator:a0b92f22b6ecf3e59e48dbbccb31fe5b0 inherit pro_methods_class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3347c2144d3a87d39aeb5df0b5177b78 inherit pro_methods_class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller.html#a3347c2144d3a87d39aeb5df0b5177b78">AddLocalesAsync&lt; TLocalizedModelLocal &gt;</a> (<a class="el" href="interface_nop_1_1_services_1_1_localization_1_1_i_language_service.html">ILanguageService</a> languageService, IList&lt; TLocalizedModelLocal &gt; locales)</td></tr>
<tr class="memdesc:a3347c2144d3a87d39aeb5df0b5177b78 inherit pro_methods_class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add locales for localizable entities  <a href="class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller.html#a3347c2144d3a87d39aeb5df0b5177b78">Mais...</a><br /></td></tr>
<tr class="separator:a3347c2144d3a87d39aeb5df0b5177b78 inherit pro_methods_class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03a3806d8fdad244b8fbcb5f2e7189fa inherit pro_methods_class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller.html#a03a3806d8fdad244b8fbcb5f2e7189fa">AddLocalesAsync&lt; TLocalizedModelLocal &gt;</a> (<a class="el" href="interface_nop_1_1_services_1_1_localization_1_1_i_language_service.html">ILanguageService</a> languageService, IList&lt; TLocalizedModelLocal &gt; locales, Action&lt; TLocalizedModelLocal, int &gt; configure)</td></tr>
<tr class="memdesc:a03a3806d8fdad244b8fbcb5f2e7189fa inherit pro_methods_class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add locales for localizable entities  <a href="class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller.html#a03a3806d8fdad244b8fbcb5f2e7189fa">Mais...</a><br /></td></tr>
<tr class="separator:a03a3806d8fdad244b8fbcb5f2e7189fa inherit pro_methods_class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaab3ec122bf4e8d48aced6cf0bcbddba inherit pro_methods_class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller"><td class="memItemLeft" align="right" valign="top">virtual IActionResult&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller.html#aaab3ec122bf4e8d48aced6cf0bcbddba">AccessDeniedView</a> ()</td></tr>
<tr class="memdesc:aaab3ec122bf4e8d48aced6cf0bcbddba inherit pro_methods_class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller"><td class="mdescLeft">&#160;</td><td class="mdescRight">Access denied view  <a href="class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller.html#aaab3ec122bf4e8d48aced6cf0bcbddba">Mais...</a><br /></td></tr>
<tr class="separator:aaab3ec122bf4e8d48aced6cf0bcbddba inherit pro_methods_class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6afe34b44b9a4966c4fb4c0d08718046 inherit pro_methods_class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller"><td class="memItemLeft" align="right" valign="top">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; JsonResult &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller.html#a6afe34b44b9a4966c4fb4c0d08718046">AccessDeniedDataTablesJson</a> ()</td></tr>
<tr class="memdesc:a6afe34b44b9a4966c4fb4c0d08718046 inherit pro_methods_class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller"><td class="mdescLeft">&#160;</td><td class="mdescRight">Access denied JSON data for DataTables  <a href="class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller.html#a6afe34b44b9a4966c4fb4c0d08718046">Mais...</a><br /></td></tr>
<tr class="separator:a6afe34b44b9a4966c4fb4c0d08718046 inherit pro_methods_class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4774371ff0286b683d3d5fc43a0622a inherit pro_methods_class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller.html#ae4774371ff0286b683d3d5fc43a0622a">SaveSelectedTabName</a> (string tabName, string formKey, string dataKeyPrefix, bool persistForTheNextRequest)</td></tr>
<tr class="memdesc:ae4774371ff0286b683d3d5fc43a0622a inherit pro_methods_class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save selected tab name  <a href="class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller.html#ae4774371ff0286b683d3d5fc43a0622a">Mais...</a><br /></td></tr>
<tr class="separator:ae4774371ff0286b683d3d5fc43a0622a inherit pro_methods_class_nop_1_1_web_1_1_framework_1_1_controllers_1_1_base_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Documentação dos Construtores &amp; Destrutor</h2>
<a id="aeb1f62937bbfc60e0acf54498ac55df9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb1f62937bbfc60e0acf54498ac55df9">&#9670;&nbsp;</a></span>BoardsController()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Nop.Web.Controllers.BoardsController.BoardsController </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_security_1_1_captcha_settings.html">CaptchaSettings</a>&#160;</td>
          <td class="paramname"><em>captchaSettings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html">ForumSettings</a>&#160;</td>
          <td class="paramname"><em>forumSettings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html">ICustomerService</a>&#160;</td>
          <td class="paramname"><em>customerService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory.html">IForumModelFactory</a>&#160;</td>
          <td class="paramname"><em>forumModelFactory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html">IForumService</a>&#160;</td>
          <td class="paramname"><em>forumService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html">ILocalizationService</a>&#160;</td>
          <td class="paramname"><em>localizationService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_core_1_1_i_store_context.html">IStoreContext</a>&#160;</td>
          <td class="paramname"><em>storeContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_core_1_1_i_web_helper.html">IWebHelper</a>&#160;</td>
          <td class="paramname"><em>webHelper</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_core_1_1_i_work_context.html">IWorkContext</a>&#160;</td>
          <td class="paramname"><em>workContext</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        {</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#af8f90120ca76196ae1b565f5dd405b15">_captchaSettings</a> = captchaSettings;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">_forumSettings</a> = forumSettings;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a54762e5570aa7cb5c06c93f50ac8b3fd">_customerService</a> = customerService;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a305a169198795c7662a1bed72a7e55ef">_forumModelFactory</a> = forumModelFactory;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a> = forumService;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a8ffaa0cbabe0eb5657dc0db3a5cbc614">_localizationService</a> = localizationService;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a36672f9f77240e00636db7d67356ba69">_storeContext</a> = storeContext;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a58f37ce509b0e9593ae248978b289df1">_webHelper</a> = webHelper;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">_workContext</a> = workContext;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_controllers_1_1_boards_controller_html_a1708b52391f8aae1ddb3e892371f4e08"><div class="ttname"><a href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">Nop.Web.Controllers.BoardsController._forumService</a></div><div class="ttdeci">readonly IForumService _forumService</div><div class="ttdef"><b>Definition:</b> BoardsController.cs:30</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_controllers_1_1_boards_controller_html_a305a169198795c7662a1bed72a7e55ef"><div class="ttname"><a href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a305a169198795c7662a1bed72a7e55ef">Nop.Web.Controllers.BoardsController._forumModelFactory</a></div><div class="ttdeci">readonly IForumModelFactory _forumModelFactory</div><div class="ttdef"><b>Definition:</b> BoardsController.cs:29</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_controllers_1_1_boards_controller_html_a36672f9f77240e00636db7d67356ba69"><div class="ttname"><a href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a36672f9f77240e00636db7d67356ba69">Nop.Web.Controllers.BoardsController._storeContext</a></div><div class="ttdeci">readonly IStoreContext _storeContext</div><div class="ttdef"><b>Definition:</b> BoardsController.cs:32</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_controllers_1_1_boards_controller_html_a54762e5570aa7cb5c06c93f50ac8b3fd"><div class="ttname"><a href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a54762e5570aa7cb5c06c93f50ac8b3fd">Nop.Web.Controllers.BoardsController._customerService</a></div><div class="ttdeci">readonly ICustomerService _customerService</div><div class="ttdef"><b>Definition:</b> BoardsController.cs:28</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_controllers_1_1_boards_controller_html_a58f37ce509b0e9593ae248978b289df1"><div class="ttname"><a href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a58f37ce509b0e9593ae248978b289df1">Nop.Web.Controllers.BoardsController._webHelper</a></div><div class="ttdeci">readonly IWebHelper _webHelper</div><div class="ttdef"><b>Definition:</b> BoardsController.cs:33</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_controllers_1_1_boards_controller_html_a6e56e60544bf5517e0ba2a3bbd93b029"><div class="ttname"><a href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">Nop.Web.Controllers.BoardsController._forumSettings</a></div><div class="ttdeci">readonly ForumSettings _forumSettings</div><div class="ttdef"><b>Definition:</b> BoardsController.cs:27</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_controllers_1_1_boards_controller_html_a7a8644f369ceda2614769497e3ab56e3"><div class="ttname"><a href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">Nop.Web.Controllers.BoardsController._workContext</a></div><div class="ttdeci">readonly IWorkContext _workContext</div><div class="ttdef"><b>Definition:</b> BoardsController.cs:34</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_controllers_1_1_boards_controller_html_a8ffaa0cbabe0eb5657dc0db3a5cbc614"><div class="ttname"><a href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a8ffaa0cbabe0eb5657dc0db3a5cbc614">Nop.Web.Controllers.BoardsController._localizationService</a></div><div class="ttdeci">readonly ILocalizationService _localizationService</div><div class="ttdef"><b>Definition:</b> BoardsController.cs:31</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_controllers_1_1_boards_controller_html_af8f90120ca76196ae1b565f5dd405b15"><div class="ttname"><a href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#af8f90120ca76196ae1b565f5dd405b15">Nop.Web.Controllers.BoardsController._captchaSettings</a></div><div class="ttdeci">readonly CaptchaSettings _captchaSettings</div><div class="ttdef"><b>Definition:</b> BoardsController.cs:26</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#af8f90120ca76196ae1b565f5dd405b15">Nop.Web.Controllers.BoardsController._captchaSettings</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a54762e5570aa7cb5c06c93f50ac8b3fd">Nop.Web.Controllers.BoardsController._customerService</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a305a169198795c7662a1bed72a7e55ef">Nop.Web.Controllers.BoardsController._forumModelFactory</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">Nop.Web.Controllers.BoardsController._forumService</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">Nop.Web.Controllers.BoardsController._forumSettings</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a8ffaa0cbabe0eb5657dc0db3a5cbc614">Nop.Web.Controllers.BoardsController._localizationService</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a36672f9f77240e00636db7d67356ba69">Nop.Web.Controllers.BoardsController._storeContext</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a58f37ce509b0e9593ae248978b289df1">Nop.Web.Controllers.BoardsController._webHelper</a> e <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">Nop.Web.Controllers.BoardsController._workContext</a>.</p>

</div>
</div>
<h2 class="groupheader">Documentação dos métodos</h2>
<a id="a730f7ca8963389e623efd90105111881"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a730f7ca8963389e623efd90105111881">&#9670;&nbsp;</a></span>ActiveDiscussions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;IActionResult&gt; Nop.Web.Controllers.BoardsController.ActiveDiscussions </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>forumId</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pageNumber</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        {</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">_forumSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ad3e439f1bdd36ffd08a615b7c9c58ed2">ForumsEnabled</a>)</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                <span class="keywordflow">return</span> RedirectToRoute(<span class="stringliteral">&quot;Homepage&quot;</span>);</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160; </div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;            var model = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a305a169198795c7662a1bed72a7e55ef">_forumModelFactory</a>.<a class="code" href="interface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory.html#a506b88056f97c3e6882b840ab64fbaf1">PrepareActiveDiscussionsModelAsync</a>(<a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#a576ff210c29de66987a2aa10fc5f7c7e">forumId</a>, <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#ac028601fb938a8cd280f81589753e327">pageNumber</a>);</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;            </div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;            <span class="keywordflow">return</span> View(model);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings_html_ad3e439f1bdd36ffd08a615b7c9c58ed2"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ad3e439f1bdd36ffd08a615b7c9c58ed2">Nop.Core.Domain.Forums.ForumSettings.ForumsEnabled</a></div><div class="ttdeci">bool ForumsEnabled</div><div class="ttdoc">Gets or sets a value indicating whether forums are enabled</div><div class="ttdef"><b>Definition:</b> ForumSettings.cs:13</div></div>
<div class="ttc" id="ainterface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory_html_a506b88056f97c3e6882b840ab64fbaf1"><div class="ttname"><a href="interface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory.html#a506b88056f97c3e6882b840ab64fbaf1">Nop.Web.Factories.IForumModelFactory.PrepareActiveDiscussionsModelAsync</a></div><div class="ttdeci">Task&lt; ActiveDiscussionsModel &gt; PrepareActiveDiscussionsModelAsync()</div><div class="ttdoc">Prepare the active discussions model</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_models_1_1_common_html_a576ff210c29de66987a2aa10fc5f7c7e"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_models_1_1_common.html#a576ff210c29de66987a2aa10fc5f7c7e">Nop.Web.Models.Common.forumId</a></div><div class="ttdeci">string forumId</div><div class="ttdef"><b>Definition:</b> PagerModel.cs:313</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_models_1_1_common_html_ac028601fb938a8cd280f81589753e327"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_models_1_1_common.html#ac028601fb938a8cd280f81589753e327">Nop.Web.Models.Common.pageNumber</a></div><div class="ttdeci">int pageNumber</div><div class="ttdef"><b>Definition:</b> PagerModel.cs:303</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a305a169198795c7662a1bed72a7e55ef">Nop.Web.Controllers.BoardsController._forumModelFactory</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">Nop.Web.Controllers.BoardsController._forumSettings</a>, <a class="el" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#a576ff210c29de66987a2aa10fc5f7c7e">Nop.Web.Models.Common.forumId</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ad3e439f1bdd36ffd08a615b7c9c58ed2">Nop.Core.Domain.Forums.ForumSettings.ForumsEnabled</a>, <a class="el" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#ac028601fb938a8cd280f81589753e327">Nop.Web.Models.Common.pageNumber</a> e <a class="el" href="interface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory.html#a506b88056f97c3e6882b840ab64fbaf1">Nop.Web.Factories.IForumModelFactory.PrepareActiveDiscussionsModelAsync()</a>.</p>

</div>
</div>
<a id="a0129bbdb3c4901213c2f644b61524cae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0129bbdb3c4901213c2f644b61524cae">&#9670;&nbsp;</a></span>ActiveDiscussionsRss()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;IActionResult&gt; Nop.Web.Controllers.BoardsController.ActiveDiscussionsRss </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>forumId</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        {</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">_forumSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ad3e439f1bdd36ffd08a615b7c9c58ed2">ForumsEnabled</a>)</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                <span class="keywordflow">return</span> RedirectToRoute(<span class="stringliteral">&quot;Homepage&quot;</span>);</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160; </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">_forumSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#a0ab032004778bdd9e0173cde73ea7099">ActiveDiscussionsFeedEnabled</a>)</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                <span class="keywordflow">return</span> RedirectToRoute(<span class="stringliteral">&quot;Boards&quot;</span>);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160; </div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;            var topics = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a40a06b0d73464f0a9258077706d7de87">GetActiveTopicsAsync</a>(<a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#a576ff210c29de66987a2aa10fc5f7c7e">forumId</a>, 0, <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">_forumSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ae842f4e52310e23e2fab905ae338c581">ActiveDiscussionsFeedCount</a>);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;            var url = <a class="code" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aafe385d8c4510efed77d5ec1aaff6c1c">Url</a>.RouteUrl(<span class="stringliteral">&quot;ActiveDiscussionsRSS&quot;</span>, <span class="keyword">null</span>, <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a58f37ce509b0e9593ae248978b289df1">_webHelper</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_web_helper.html#af8de123fc32935d3b35faf2dd99c0aae">GetCurrentRequestProtocol</a>());</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160; </div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;            var feedTitle = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a8ffaa0cbabe0eb5657dc0db3a5cbc614">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;Forum.ActiveDiscussionsFeedTitle&quot;</span>);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            var feedDescription = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a8ffaa0cbabe0eb5657dc0db3a5cbc614">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;Forum.ActiveDiscussionsFeedDescription&quot;</span>);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160; </div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            var feed = <span class="keyword">new</span> <a class="code" href="class_nop_1_1_core_1_1_rss_1_1_rss_feed.html">RssFeed</a>(</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                <span class="keywordtype">string</span>.Format(feedTitle, await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a8ffaa0cbabe0eb5657dc0db3a5cbc614">_localizationService</a>.GetLocalizedAsync(await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a36672f9f77240e00636db7d67356ba69">_storeContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_store_context.html#ab98a28cdb13e78df5beea58801148f19">GetCurrentStoreAsync</a>(), x =&gt; x.Name)),</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                feedDescription,</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                <span class="keyword">new</span> Uri(url),</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                DateTime.UtcNow);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            var items = <span class="keyword">new</span> List&lt;RssItem&gt;();</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160; </div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            var viewsText = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a8ffaa0cbabe0eb5657dc0db3a5cbc614">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;Forum.Views&quot;</span>);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            var repliesText = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a8ffaa0cbabe0eb5657dc0db3a5cbc614">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;Forum.Replies&quot;</span>);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160; </div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;            <span class="keywordflow">foreach</span> (var topic <span class="keywordflow">in</span> topics)</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            {</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                var topicUrl = <a class="code" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aafe385d8c4510efed77d5ec1aaff6c1c">Url</a>.RouteUrl(<span class="stringliteral">&quot;TopicSlug&quot;</span>, <span class="keyword">new</span> { <span class="keywordtype">id</span> = topic.Id, <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#a18886e00290b7f1f4711f9277cff7b70">slug</a> = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a1599b5bdfbd8383f22c5244b451339e8">GetTopicSeNameAsync</a>(topic) }, <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a58f37ce509b0e9593ae248978b289df1">_webHelper</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_web_helper.html#af8de123fc32935d3b35faf2dd99c0aae">GetCurrentRequestProtocol</a>());</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                var content = $<span class="stringliteral">&quot;{repliesText}: {(topic.NumPosts &gt; 0 ? topic.NumPosts - 1 : 0)}, {viewsText}: {topic.Views}&quot;</span>;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160; </div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                items.Add(<span class="keyword">new</span> <a class="code" href="class_nop_1_1_core_1_1_rss_1_1_rss_item.html">RssItem</a>(topic.Subject, content, <span class="keyword">new</span> Uri(topicUrl),</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                    $<span class="stringliteral">&quot;urn:store:{(await _storeContext.GetCurrentStoreAsync()).Id}:activeDiscussions:topic:{topic.Id}&quot;</span>, topic.LastPostTime ?? topic.UpdatedOnUtc));</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            }</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            feed.Items = items;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160; </div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_mvc_1_1_rss_action_result.html">RssActionResult</a>(feed, <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a58f37ce509b0e9593ae248978b289df1">_webHelper</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_web_helper.html#a0c2715a0d221c22784ce22d0431b7ed9">GetThisPageUrl</a>(<span class="keyword">false</span>));</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings_html_a0ab032004778bdd9e0173cde73ea7099"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#a0ab032004778bdd9e0173cde73ea7099">Nop.Core.Domain.Forums.ForumSettings.ActiveDiscussionsFeedEnabled</a></div><div class="ttdeci">bool ActiveDiscussionsFeedEnabled</div><div class="ttdoc">Gets or sets the whether the Active Discussions RSS Feed is enabled</div><div class="ttdef"><b>Definition:</b> ForumSettings.cs:158</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings_html_ae842f4e52310e23e2fab905ae338c581"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ae842f4e52310e23e2fab905ae338c581">Nop.Core.Domain.Forums.ForumSettings.ActiveDiscussionsFeedCount</a></div><div class="ttdeci">int ActiveDiscussionsFeedCount</div><div class="ttdoc">Gets or sets the number of items to display for Active Discussions RSS Feed</div><div class="ttdef"><b>Definition:</b> ForumSettings.cs:153</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_rss_1_1_rss_feed_html"><div class="ttname"><a href="class_nop_1_1_core_1_1_rss_1_1_rss_feed.html">Nop.Core.Rss.RssFeed</a></div><div class="ttdoc">Represents the RSS feed</div><div class="ttdef"><b>Definition:</b> RssFeed.cs:14</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_rss_1_1_rss_item_html"><div class="ttname"><a href="class_nop_1_1_core_1_1_rss_1_1_rss_item.html">Nop.Core.Rss.RssItem</a></div><div class="ttdoc">Represents the item of RSS feed</div><div class="ttdef"><b>Definition:</b> RssItem.cs:11</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_framework_1_1_mvc_1_1_rss_action_result_html"><div class="ttname"><a href="class_nop_1_1_web_1_1_framework_1_1_mvc_1_1_rss_action_result.html">Nop.Web.Framework.Mvc.RssActionResult</a></div><div class="ttdoc">RSS action result</div><div class="ttdef"><b>Definition:</b> RssActionResult.cs:15</div></div>
<div class="ttc" id="ainterface_nop_1_1_core_1_1_i_store_context_html_ab98a28cdb13e78df5beea58801148f19"><div class="ttname"><a href="interface_nop_1_1_core_1_1_i_store_context.html#ab98a28cdb13e78df5beea58801148f19">Nop.Core.IStoreContext.GetCurrentStoreAsync</a></div><div class="ttdeci">Task&lt; Store &gt; GetCurrentStoreAsync()</div><div class="ttdoc">Gets the current store</div></div>
<div class="ttc" id="ainterface_nop_1_1_core_1_1_i_web_helper_html_a0c2715a0d221c22784ce22d0431b7ed9"><div class="ttname"><a href="interface_nop_1_1_core_1_1_i_web_helper.html#a0c2715a0d221c22784ce22d0431b7ed9">Nop.Core.IWebHelper.GetThisPageUrl</a></div><div class="ttdeci">string GetThisPageUrl(bool includeQueryString, bool? useSsl=null, bool lowercaseUrl=false)</div><div class="ttdoc">Gets this page URL</div></div>
<div class="ttc" id="ainterface_nop_1_1_core_1_1_i_web_helper_html_af8de123fc32935d3b35faf2dd99c0aae"><div class="ttname"><a href="interface_nop_1_1_core_1_1_i_web_helper.html#af8de123fc32935d3b35faf2dd99c0aae">Nop.Core.IWebHelper.GetCurrentRequestProtocol</a></div><div class="ttdeci">string GetCurrentRequestProtocol()</div><div class="ttdoc">Gets current HTTP request protocol</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_forums_1_1_i_forum_service_html_a1599b5bdfbd8383f22c5244b451339e8"><div class="ttname"><a href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a1599b5bdfbd8383f22c5244b451339e8">Nop.Services.Forums.IForumService.GetTopicSeNameAsync</a></div><div class="ttdeci">Task&lt; string &gt; GetTopicSeNameAsync(ForumTopic forumTopic)</div><div class="ttdoc">Gets ForumTopic SE (search engine) name</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_forums_1_1_i_forum_service_html_a40a06b0d73464f0a9258077706d7de87"><div class="ttname"><a href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a40a06b0d73464f0a9258077706d7de87">Nop.Services.Forums.IForumService.GetActiveTopicsAsync</a></div><div class="ttdeci">Task&lt; IPagedList&lt; ForumTopic &gt; &gt; GetActiveTopicsAsync(int forumId=0, int pageIndex=0, int pageSize=int.MaxValue)</div><div class="ttdoc">Gets active forum topics</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_localization_1_1_i_localization_service_html_ac1ae5d2f3ddfea87ce1f780c9294656a"><div class="ttname"><a href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">Nop.Services.Localization.ILocalizationService.GetResourceAsync</a></div><div class="ttdeci">Task&lt; string &gt; GetResourceAsync(string resourceKey)</div><div class="ttdoc">Gets a resource string based on the specified ResourceKey property.</div></div>
<div class="ttc" id="anamespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log_html_aafe385d8c4510efed77d5ec1aaff6c1c"><div class="ttname"><a href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aafe385d8c4510efed77d5ec1aaff6c1c">Nop.Plugin.Tax.Avalara.Models.Log.Url</a></div><div class="ttdeci">string Url</div><div class="ttdef"><b>Definition:</b> TaxTransactionLogModel.cs:18</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_models_1_1_common_html_a18886e00290b7f1f4711f9277cff7b70"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_models_1_1_common.html#a18886e00290b7f1f4711f9277cff7b70">Nop.Web.Models.Common.slug</a></div><div class="ttdeci">string slug</div><div class="ttdef"><b>Definition:</b> PagerModel.cs:302</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">Nop.Web.Controllers.BoardsController._forumService</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">Nop.Web.Controllers.BoardsController._forumSettings</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a8ffaa0cbabe0eb5657dc0db3a5cbc614">Nop.Web.Controllers.BoardsController._localizationService</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a36672f9f77240e00636db7d67356ba69">Nop.Web.Controllers.BoardsController._storeContext</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a58f37ce509b0e9593ae248978b289df1">Nop.Web.Controllers.BoardsController._webHelper</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ae842f4e52310e23e2fab905ae338c581">Nop.Core.Domain.Forums.ForumSettings.ActiveDiscussionsFeedCount</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#a0ab032004778bdd9e0173cde73ea7099">Nop.Core.Domain.Forums.ForumSettings.ActiveDiscussionsFeedEnabled</a>, <a class="el" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#a576ff210c29de66987a2aa10fc5f7c7e">Nop.Web.Models.Common.forumId</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ad3e439f1bdd36ffd08a615b7c9c58ed2">Nop.Core.Domain.Forums.ForumSettings.ForumsEnabled</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a40a06b0d73464f0a9258077706d7de87">Nop.Services.Forums.IForumService.GetActiveTopicsAsync()</a>, <a class="el" href="interface_nop_1_1_core_1_1_i_web_helper.html#af8de123fc32935d3b35faf2dd99c0aae">Nop.Core.IWebHelper.GetCurrentRequestProtocol()</a>, <a class="el" href="interface_nop_1_1_core_1_1_i_store_context.html#ab98a28cdb13e78df5beea58801148f19">Nop.Core.IStoreContext.GetCurrentStoreAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">Nop.Services.Localization.ILocalizationService.GetResourceAsync()</a>, <a class="el" href="interface_nop_1_1_core_1_1_i_web_helper.html#a0c2715a0d221c22784ce22d0431b7ed9">Nop.Core.IWebHelper.GetThisPageUrl()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a1599b5bdfbd8383f22c5244b451339e8">Nop.Services.Forums.IForumService.GetTopicSeNameAsync()</a>, <a class="el" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#a18886e00290b7f1f4711f9277cff7b70">Nop.Web.Models.Common.slug</a> e <a class="el" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aafe385d8c4510efed77d5ec1aaff6c1c">Nop.Plugin.Tax.Avalara.Models.Log.Url</a>.</p>

</div>
</div>
<a id="a0eede466f71407af80a3f8330f89e649"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0eede466f71407af80a3f8330f89e649">&#9670;&nbsp;</a></span>CustomerForumSubscriptions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;IActionResult&gt; Nop.Web.Controllers.BoardsController.CustomerForumSubscriptions </td>
          <td>(</td>
          <td class="paramtype">int?&#160;</td>
          <td class="paramname"><em>pageNumber</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;        {</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">_forumSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#a197878634d6c8ef44db2443c83dfdce5">AllowCustomersToManageSubscriptions</a>)</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;                <span class="keywordflow">return</span> RedirectToRoute(<span class="stringliteral">&quot;CustomerInfo&quot;</span>);</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160; </div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;            var model = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a305a169198795c7662a1bed72a7e55ef">_forumModelFactory</a>.<a class="code" href="interface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory.html#a130b82c9ad29fc29ff583c5c28fb30ab">PrepareCustomerForumSubscriptionsModelAsync</a>(<a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#ac028601fb938a8cd280f81589753e327">pageNumber</a>);</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;            </div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;            <span class="keywordflow">return</span> View(model);</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings_html_a197878634d6c8ef44db2443c83dfdce5"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#a197878634d6c8ef44db2443c83dfdce5">Nop.Core.Domain.Forums.ForumSettings.AllowCustomersToManageSubscriptions</a></div><div class="ttdeci">bool AllowCustomersToManageSubscriptions</div><div class="ttdoc">Gets or sets a value indicating whether customers are allowed to manage their subscriptions</div><div class="ttdef"><b>Definition:</b> ForumSettings.cs:28</div></div>
<div class="ttc" id="ainterface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory_html_a130b82c9ad29fc29ff583c5c28fb30ab"><div class="ttname"><a href="interface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory.html#a130b82c9ad29fc29ff583c5c28fb30ab">Nop.Web.Factories.IForumModelFactory.PrepareCustomerForumSubscriptionsModelAsync</a></div><div class="ttdeci">Task&lt; CustomerForumSubscriptionsModel &gt; PrepareCustomerForumSubscriptionsModelAsync(int? page)</div><div class="ttdoc">Prepare the customer forum subscriptions model</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a305a169198795c7662a1bed72a7e55ef">Nop.Web.Controllers.BoardsController._forumModelFactory</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">Nop.Web.Controllers.BoardsController._forumSettings</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#a197878634d6c8ef44db2443c83dfdce5">Nop.Core.Domain.Forums.ForumSettings.AllowCustomersToManageSubscriptions</a>, <a class="el" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#ac028601fb938a8cd280f81589753e327">Nop.Web.Models.Common.pageNumber</a> e <a class="el" href="interface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory.html#a130b82c9ad29fc29ff583c5c28fb30ab">Nop.Web.Factories.IForumModelFactory.PrepareCustomerForumSubscriptionsModelAsync()</a>.</p>

</div>
</div>
<a id="aaf80e3eb6b3d09a17da8edc3d82a2f12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf80e3eb6b3d09a17da8edc3d82a2f12">&#9670;&nbsp;</a></span>CustomerForumSubscriptionsPOST()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;IActionResult&gt; Nop.Web.Controllers.BoardsController.CustomerForumSubscriptionsPOST </td>
          <td>(</td>
          <td class="paramtype">IFormCollection&#160;</td>
          <td class="paramname"><em>formCollection</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;        {</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;            <span class="keywordflow">foreach</span> (var key <span class="keywordflow">in</span> formCollection.Keys)</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;            {</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;                var value = formCollection[key];</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160; </div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;                <span class="keywordflow">if</span> (value.Equals(<span class="stringliteral">&quot;on&quot;</span>) &amp;&amp; key.StartsWith(<span class="stringliteral">&quot;fs&quot;</span>, StringComparison.InvariantCultureIgnoreCase))</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;                {</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;                    var <span class="keywordtype">id</span> = key.Replace(<span class="stringliteral">&quot;fs&quot;</span>, <span class="stringliteral">&quot;&quot;</span>).Trim();</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;                    <span class="keywordflow">if</span> (<span class="keywordtype">int</span>.TryParse(<span class="keywordtype">id</span>, out var forumSubscriptionId))</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;                    {</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;                        var forumSubscription = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a1df13fe966df96933aa719f8438586f9">GetSubscriptionByIdAsync</a>(forumSubscriptionId);</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;                        <span class="keywordflow">if</span> (forumSubscription != <span class="keyword">null</span> &amp;&amp; forumSubscription.CustomerId == (await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">GetCurrentCustomerAsync</a>()).Id)</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;                        {</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;                            await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a82c19702303d2c91c9a78b2b38c32ed7">DeleteSubscriptionAsync</a>(forumSubscription);</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;                        }</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;                    }</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;                }</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;            }</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160; </div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;            <span class="keywordflow">return</span> RedirectToRoute(<span class="stringliteral">&quot;CustomerForumSubscriptions&quot;</span>);</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;        }</div>
<div class="ttc" id="ainterface_nop_1_1_core_1_1_i_work_context_html_a1117b7898ed056459a9ff3f0446bbbe1"><div class="ttname"><a href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">Nop.Core.IWorkContext.GetCurrentCustomerAsync</a></div><div class="ttdeci">Task&lt; Customer &gt; GetCurrentCustomerAsync()</div><div class="ttdoc">Gets the current customer</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_forums_1_1_i_forum_service_html_a1df13fe966df96933aa719f8438586f9"><div class="ttname"><a href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a1df13fe966df96933aa719f8438586f9">Nop.Services.Forums.IForumService.GetSubscriptionByIdAsync</a></div><div class="ttdeci">Task&lt; ForumSubscription &gt; GetSubscriptionByIdAsync(int forumSubscriptionId)</div><div class="ttdoc">Gets a forum subscription</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_forums_1_1_i_forum_service_html_a82c19702303d2c91c9a78b2b38c32ed7"><div class="ttname"><a href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a82c19702303d2c91c9a78b2b38c32ed7">Nop.Services.Forums.IForumService.DeleteSubscriptionAsync</a></div><div class="ttdeci">Task DeleteSubscriptionAsync(ForumSubscription forumSubscription)</div><div class="ttdoc">Deletes a forum subscription</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">Nop.Web.Controllers.BoardsController._forumService</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">Nop.Web.Controllers.BoardsController._workContext</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a82c19702303d2c91c9a78b2b38c32ed7">Nop.Services.Forums.IForumService.DeleteSubscriptionAsync()</a>, <a class="el" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">Nop.Core.IWorkContext.GetCurrentCustomerAsync()</a> e <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a1df13fe966df96933aa719f8438586f9">Nop.Services.Forums.IForumService.GetSubscriptionByIdAsync()</a>.</p>

</div>
</div>
<a id="a7a47c9133b5e38e548a165fc0911e598"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a47c9133b5e38e548a165fc0911e598">&#9670;&nbsp;</a></span>Forum()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;IActionResult&gt; Nop.Web.Controllers.BoardsController.Forum </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pageNumber</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        {</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">_forumSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ad3e439f1bdd36ffd08a615b7c9c58ed2">ForumsEnabled</a>)</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                <span class="keywordflow">return</span> RedirectToRoute(<span class="stringliteral">&quot;Homepage&quot;</span>);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160; </div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;            var forum = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a8ab1045619a4018840244ee1f48d7698">GetForumByIdAsync</a>(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;            <span class="keywordflow">if</span> (forum == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                <span class="keywordflow">return</span> RedirectToRoute(<span class="stringliteral">&quot;Boards&quot;</span>);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160; </div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            var model = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a305a169198795c7662a1bed72a7e55ef">_forumModelFactory</a>.<a class="code" href="interface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory.html#a2430d4eaf8fa0dc24b8c69796c7fa7c8">PrepareForumPageModelAsync</a>(forum, <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#ac028601fb938a8cd280f81589753e327">pageNumber</a>);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            </div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            <span class="keywordflow">return</span> View(model);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        }</div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_forums_1_1_i_forum_service_html_a8ab1045619a4018840244ee1f48d7698"><div class="ttname"><a href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a8ab1045619a4018840244ee1f48d7698">Nop.Services.Forums.IForumService.GetForumByIdAsync</a></div><div class="ttdeci">Task&lt; Forum &gt; GetForumByIdAsync(int forumId)</div><div class="ttdoc">Gets a forum</div></div>
<div class="ttc" id="ainterface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory_html_a2430d4eaf8fa0dc24b8c69796c7fa7c8"><div class="ttname"><a href="interface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory.html#a2430d4eaf8fa0dc24b8c69796c7fa7c8">Nop.Web.Factories.IForumModelFactory.PrepareForumPageModelAsync</a></div><div class="ttdeci">Task&lt; ForumPageModel &gt; PrepareForumPageModelAsync(Forum forum, int page)</div><div class="ttdoc">Prepare the forum page model</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a305a169198795c7662a1bed72a7e55ef">Nop.Web.Controllers.BoardsController._forumModelFactory</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">Nop.Web.Controllers.BoardsController._forumService</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">Nop.Web.Controllers.BoardsController._forumSettings</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ad3e439f1bdd36ffd08a615b7c9c58ed2">Nop.Core.Domain.Forums.ForumSettings.ForumsEnabled</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a8ab1045619a4018840244ee1f48d7698">Nop.Services.Forums.IForumService.GetForumByIdAsync()</a>, <a class="el" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#ac028601fb938a8cd280f81589753e327">Nop.Web.Models.Common.pageNumber</a> e <a class="el" href="interface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory.html#a2430d4eaf8fa0dc24b8c69796c7fa7c8">Nop.Web.Factories.IForumModelFactory.PrepareForumPageModelAsync()</a>.</p>

</div>
</div>
<a id="a423ab6f290a24b560f31018caf72e00e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a423ab6f290a24b560f31018caf72e00e">&#9670;&nbsp;</a></span>ForumGroup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;IActionResult&gt; Nop.Web.Controllers.BoardsController.ForumGroup </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        {</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">_forumSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ad3e439f1bdd36ffd08a615b7c9c58ed2">ForumsEnabled</a>)</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                <span class="keywordflow">return</span> RedirectToRoute(<span class="stringliteral">&quot;Homepage&quot;</span>);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160; </div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;            var forumGroup = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#abfd3257086cd760ca84760976fec2c2a">GetForumGroupByIdAsync</a>(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;            <span class="keywordflow">if</span> (forumGroup == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                <span class="keywordflow">return</span> RedirectToRoute(<span class="stringliteral">&quot;Boards&quot;</span>);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160; </div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            var model = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a305a169198795c7662a1bed72a7e55ef">_forumModelFactory</a>.<a class="code" href="interface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory.html#a64856f1540845408cb350b011df69ef0">PrepareForumGroupModelAsync</a>(forumGroup);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            <span class="keywordflow">return</span> View(model);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        }</div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_forums_1_1_i_forum_service_html_abfd3257086cd760ca84760976fec2c2a"><div class="ttname"><a href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#abfd3257086cd760ca84760976fec2c2a">Nop.Services.Forums.IForumService.GetForumGroupByIdAsync</a></div><div class="ttdeci">Task&lt; ForumGroup &gt; GetForumGroupByIdAsync(int forumGroupId)</div><div class="ttdoc">Gets a forum group</div></div>
<div class="ttc" id="ainterface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory_html_a64856f1540845408cb350b011df69ef0"><div class="ttname"><a href="interface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory.html#a64856f1540845408cb350b011df69ef0">Nop.Web.Factories.IForumModelFactory.PrepareForumGroupModelAsync</a></div><div class="ttdeci">Task&lt; ForumGroupModel &gt; PrepareForumGroupModelAsync(ForumGroup forumGroup)</div><div class="ttdoc">Prepare the forum group model</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a305a169198795c7662a1bed72a7e55ef">Nop.Web.Controllers.BoardsController._forumModelFactory</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">Nop.Web.Controllers.BoardsController._forumService</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">Nop.Web.Controllers.BoardsController._forumSettings</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ad3e439f1bdd36ffd08a615b7c9c58ed2">Nop.Core.Domain.Forums.ForumSettings.ForumsEnabled</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#abfd3257086cd760ca84760976fec2c2a">Nop.Services.Forums.IForumService.GetForumGroupByIdAsync()</a> e <a class="el" href="interface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory.html#a64856f1540845408cb350b011df69ef0">Nop.Web.Factories.IForumModelFactory.PrepareForumGroupModelAsync()</a>.</p>

</div>
</div>
<a id="aca219ca64297a59166908ec7c88d4b4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca219ca64297a59166908ec7c88d4b4f">&#9670;&nbsp;</a></span>ForumRss()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;IActionResult&gt; Nop.Web.Controllers.BoardsController.ForumRss </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        {</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">_forumSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ad3e439f1bdd36ffd08a615b7c9c58ed2">ForumsEnabled</a>)</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                <span class="keywordflow">return</span> RedirectToRoute(<span class="stringliteral">&quot;Homepage&quot;</span>);</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160; </div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">_forumSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ac6ccd708822e3863cc0554b61a7ed3ed">ForumFeedsEnabled</a>)</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                <span class="keywordflow">return</span> RedirectToRoute(<span class="stringliteral">&quot;Boards&quot;</span>);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160; </div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            var topicLimit = <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">_forumSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#a0151ba9a6d06babf3d8d4446b187b9a2">ForumFeedCount</a>;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;            var forum = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a8ab1045619a4018840244ee1f48d7698">GetForumByIdAsync</a>(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160; </div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;            <span class="keywordflow">if</span> (forum != <span class="keyword">null</span>)</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                <span class="comment">//Order by newest topic posts &amp; limit the number of topics to return</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                var topics = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#af8d8427eb1a67ac995abc04617f74b25">GetAllTopicsAsync</a>(forum.Id, 0, <span class="keywordtype">string</span>.Empty,</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                     <a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_forums.html#ab31b999797a37f172d1c5d55953f0989">ForumSearchType</a>.All, 0, 0, topicLimit);</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160; </div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                var url = <a class="code" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aafe385d8c4510efed77d5ec1aaff6c1c">Url</a>.RouteUrl(<span class="stringliteral">&quot;ForumRSS&quot;</span>, <span class="keyword">new</span> { <span class="keywordtype">id</span> = forum.Id }, <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a58f37ce509b0e9593ae248978b289df1">_webHelper</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_web_helper.html#af8de123fc32935d3b35faf2dd99c0aae">GetCurrentRequestProtocol</a>());</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160; </div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                var feedTitle = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a8ffaa0cbabe0eb5657dc0db3a5cbc614">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;Forum.ForumFeedTitle&quot;</span>);</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                var feedDescription = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a8ffaa0cbabe0eb5657dc0db3a5cbc614">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;Forum.ForumFeedDescription&quot;</span>);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160; </div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                var feed = <span class="keyword">new</span> <a class="code" href="class_nop_1_1_core_1_1_rss_1_1_rss_feed.html">RssFeed</a>(</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                    <span class="keywordtype">string</span>.Format(feedTitle, await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a8ffaa0cbabe0eb5657dc0db3a5cbc614">_localizationService</a>.GetLocalizedAsync(await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a36672f9f77240e00636db7d67356ba69">_storeContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_store_context.html#ab98a28cdb13e78df5beea58801148f19">GetCurrentStoreAsync</a>(), x =&gt; x.Name), forum.Name),</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                    feedDescription,</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                    <span class="keyword">new</span> Uri(url),</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                    DateTime.UtcNow);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160; </div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                var items = <span class="keyword">new</span> List&lt;RssItem&gt;();</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160; </div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                var viewsText = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a8ffaa0cbabe0eb5657dc0db3a5cbc614">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;Forum.Views&quot;</span>);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                var repliesText = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a8ffaa0cbabe0eb5657dc0db3a5cbc614">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;Forum.Replies&quot;</span>);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160; </div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                <span class="keywordflow">foreach</span> (var topic <span class="keywordflow">in</span> topics)</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                    var topicUrl = <a class="code" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aafe385d8c4510efed77d5ec1aaff6c1c">Url</a>.RouteUrl(<span class="stringliteral">&quot;TopicSlug&quot;</span>, <span class="keyword">new</span> { <span class="keywordtype">id</span> = topic.Id, <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#a18886e00290b7f1f4711f9277cff7b70">slug</a> = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a1599b5bdfbd8383f22c5244b451339e8">GetTopicSeNameAsync</a>(topic) }, <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a58f37ce509b0e9593ae248978b289df1">_webHelper</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_web_helper.html#af8de123fc32935d3b35faf2dd99c0aae">GetCurrentRequestProtocol</a>());</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                    var content = $<span class="stringliteral">&quot;{repliesText}: {(topic.NumPosts &gt; 0 ? topic.NumPosts - 1 : 0)}, {viewsText}: {topic.Views}&quot;</span>;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160; </div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                    items.Add(<span class="keyword">new</span> <a class="code" href="class_nop_1_1_core_1_1_rss_1_1_rss_item.html">RssItem</a>(topic.Subject, content, <span class="keyword">new</span> Uri(topicUrl), $<span class="stringliteral">&quot;urn:store:{(await _storeContext.GetCurrentStoreAsync()).Id}:forum:topic:{topic.Id}&quot;</span>, topic.LastPostTime ?? topic.UpdatedOnUtc));</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                }</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160; </div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                feed.Items = items;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160; </div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_mvc_1_1_rss_action_result.html">RssActionResult</a>(feed, <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a58f37ce509b0e9593ae248978b289df1">_webHelper</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_web_helper.html#a0c2715a0d221c22784ce22d0431b7ed9">GetThisPageUrl</a>(<span class="keyword">false</span>));</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            }</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160; </div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_mvc_1_1_rss_action_result.html">RssActionResult</a>(<span class="keyword">new</span> <a class="code" href="class_nop_1_1_core_1_1_rss_1_1_rss_feed.html">RssFeed</a>(<span class="keyword">new</span> Uri(<a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a58f37ce509b0e9593ae248978b289df1">_webHelper</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_web_helper.html#a9ebfd8c0df9cd91f2c87bd0541f7e1b5">GetStoreLocation</a>())), <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a58f37ce509b0e9593ae248978b289df1">_webHelper</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_web_helper.html#a0c2715a0d221c22784ce22d0431b7ed9">GetThisPageUrl</a>(<span class="keyword">false</span>));</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings_html_a0151ba9a6d06babf3d8d4446b187b9a2"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#a0151ba9a6d06babf3d8d4446b187b9a2">Nop.Core.Domain.Forums.ForumSettings.ForumFeedCount</a></div><div class="ttdeci">int ForumFeedCount</div><div class="ttdoc">Gets or sets the number of items to display for Forum RSS Feed</div><div class="ttdef"><b>Definition:</b> ForumSettings.cs:168</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings_html_ac6ccd708822e3863cc0554b61a7ed3ed"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ac6ccd708822e3863cc0554b61a7ed3ed">Nop.Core.Domain.Forums.ForumSettings.ForumFeedsEnabled</a></div><div class="ttdeci">bool ForumFeedsEnabled</div><div class="ttdoc">Gets or sets the whether Forums have an RSS Feed enabled</div><div class="ttdef"><b>Definition:</b> ForumSettings.cs:163</div></div>
<div class="ttc" id="ainterface_nop_1_1_core_1_1_i_web_helper_html_a9ebfd8c0df9cd91f2c87bd0541f7e1b5"><div class="ttname"><a href="interface_nop_1_1_core_1_1_i_web_helper.html#a9ebfd8c0df9cd91f2c87bd0541f7e1b5">Nop.Core.IWebHelper.GetStoreLocation</a></div><div class="ttdeci">string GetStoreLocation(bool? useSsl=null)</div><div class="ttdoc">Gets store location</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_forums_1_1_i_forum_service_html_af8d8427eb1a67ac995abc04617f74b25"><div class="ttname"><a href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#af8d8427eb1a67ac995abc04617f74b25">Nop.Services.Forums.IForumService.GetAllTopicsAsync</a></div><div class="ttdeci">Task&lt; IPagedList&lt; ForumTopic &gt; &gt; GetAllTopicsAsync(int forumId=0, int customerId=0, string keywords=&quot;&quot;, ForumSearchType searchType=ForumSearchType.All, int limitDays=0, int pageIndex=0, int pageSize=int.MaxValue)</div><div class="ttdoc">Gets all forum topics</div></div>
<div class="ttc" id="anamespace_nop_1_1_core_1_1_domain_1_1_forums_html_ab31b999797a37f172d1c5d55953f0989"><div class="ttname"><a href="namespace_nop_1_1_core_1_1_domain_1_1_forums.html#ab31b999797a37f172d1c5d55953f0989">Nop.Core.Domain.Forums.ForumSearchType</a></div><div class="ttdeci">ForumSearchType</div><div class="ttdoc">Represents a forum search type</div><div class="ttdef"><b>Definition:</b> ForumSearchType.cs:7</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">Nop.Web.Controllers.BoardsController._forumService</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">Nop.Web.Controllers.BoardsController._forumSettings</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a8ffaa0cbabe0eb5657dc0db3a5cbc614">Nop.Web.Controllers.BoardsController._localizationService</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a36672f9f77240e00636db7d67356ba69">Nop.Web.Controllers.BoardsController._storeContext</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a58f37ce509b0e9593ae248978b289df1">Nop.Web.Controllers.BoardsController._webHelper</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#a0151ba9a6d06babf3d8d4446b187b9a2">Nop.Core.Domain.Forums.ForumSettings.ForumFeedCount</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ac6ccd708822e3863cc0554b61a7ed3ed">Nop.Core.Domain.Forums.ForumSettings.ForumFeedsEnabled</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ad3e439f1bdd36ffd08a615b7c9c58ed2">Nop.Core.Domain.Forums.ForumSettings.ForumsEnabled</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#af8d8427eb1a67ac995abc04617f74b25">Nop.Services.Forums.IForumService.GetAllTopicsAsync()</a>, <a class="el" href="interface_nop_1_1_core_1_1_i_web_helper.html#af8de123fc32935d3b35faf2dd99c0aae">Nop.Core.IWebHelper.GetCurrentRequestProtocol()</a>, <a class="el" href="interface_nop_1_1_core_1_1_i_store_context.html#ab98a28cdb13e78df5beea58801148f19">Nop.Core.IStoreContext.GetCurrentStoreAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a8ab1045619a4018840244ee1f48d7698">Nop.Services.Forums.IForumService.GetForumByIdAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">Nop.Services.Localization.ILocalizationService.GetResourceAsync()</a>, <a class="el" href="interface_nop_1_1_core_1_1_i_web_helper.html#a9ebfd8c0df9cd91f2c87bd0541f7e1b5">Nop.Core.IWebHelper.GetStoreLocation()</a>, <a class="el" href="interface_nop_1_1_core_1_1_i_web_helper.html#a0c2715a0d221c22784ce22d0431b7ed9">Nop.Core.IWebHelper.GetThisPageUrl()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a1599b5bdfbd8383f22c5244b451339e8">Nop.Services.Forums.IForumService.GetTopicSeNameAsync()</a>, <a class="el" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#a18886e00290b7f1f4711f9277cff7b70">Nop.Web.Models.Common.slug</a> e <a class="el" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aafe385d8c4510efed77d5ec1aaff6c1c">Nop.Plugin.Tax.Avalara.Models.Log.Url</a>.</p>

</div>
</div>
<a id="a3d703a6f829937c2bbdc0abaeb7b9f22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d703a6f829937c2bbdc0abaeb7b9f22">&#9670;&nbsp;</a></span>ForumWatch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;IActionResult&gt; Nop.Web.Controllers.BoardsController.ForumWatch </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;            var watchTopic = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a8ffaa0cbabe0eb5657dc0db3a5cbc614">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;Forum.WatchForum&quot;</span>);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;            var unwatchTopic = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a8ffaa0cbabe0eb5657dc0db3a5cbc614">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;Forum.UnwatchForum&quot;</span>);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            var returnText = watchTopic;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160; </div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            var forum = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a8ab1045619a4018840244ee1f48d7698">GetForumByIdAsync</a>(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            <span class="keywordflow">if</span> (forum == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                <span class="keywordflow">return</span> Json(<span class="keyword">new</span> { <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_boards.html#a0d4f4a9a8b74956854d631b26a3fd658">Subscribed</a> = <span class="keyword">false</span>, <a class="code" href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a2c7aec4f6e1f8a7946bd8a33c55b2d4d">Text</a> = returnText, <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_boards.html#adebb6f969d4fe48fe21482fbb2d906ca">Error</a> = <span class="keyword">true</span> });</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160; </div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;            <span class="keywordflow">if</span> (!await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a25b5fe723cf5d8493f14e642d95a2462">IsCustomerAllowedToSubscribeAsync</a>(await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">GetCurrentCustomerAsync</a>()))</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                <span class="keywordflow">return</span> Json(<span class="keyword">new</span> { <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_boards.html#a0d4f4a9a8b74956854d631b26a3fd658">Subscribed</a> = <span class="keyword">false</span>, <a class="code" href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a2c7aec4f6e1f8a7946bd8a33c55b2d4d">Text</a> = returnText, <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_boards.html#adebb6f969d4fe48fe21482fbb2d906ca">Error</a> = <span class="keyword">true</span> });</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160; </div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            var forumSubscription = (await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a7b36755f1880ca8f367db8d6228c3566">GetAllSubscriptionsAsync</a>((await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">GetCurrentCustomerAsync</a>()).Id,</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                forum.Id, 0, 0, 1)).FirstOrDefault();</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160; </div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            <span class="keywordtype">bool</span> subscribed;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            <span class="keywordflow">if</span> (forumSubscription == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            {</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                forumSubscription = <span class="keyword">new</span> <a class="code" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_subscription.html">ForumSubscription</a></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                {</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                    SubscriptionGuid = Guid.NewGuid(),</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                    <a class="code" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aaa4303994371e93df77abec6d473c7e8">CustomerId</a> = (await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">GetCurrentCustomerAsync</a>()).<a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a968ff99d09af9aec2bb20d13d463c147">Id</a>,</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_boards.html#a173e6b326dffe341f245a9b512f4408c">ForumId</a> = forum.Id,</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                    CreatedOnUtc = DateTime.UtcNow</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                };</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a137d9ef98770f690212ff0ffdb5449cf">InsertSubscriptionAsync</a>(forumSubscription);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                subscribed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                returnText = unwatchTopic;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;            }</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;            {</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a82c19702303d2c91c9a78b2b38c32ed7">DeleteSubscriptionAsync</a>(forumSubscription);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                subscribed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            }</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160; </div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            <span class="keywordflow">return</span> Json(<span class="keyword">new</span> { <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_boards.html#a0d4f4a9a8b74956854d631b26a3fd658">Subscribed</a> = subscribed, <a class="code" href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a2c7aec4f6e1f8a7946bd8a33c55b2d4d">Text</a> = returnText, <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_boards.html#adebb6f969d4fe48fe21482fbb2d906ca">Error</a> = <span class="keyword">false</span> });</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_subscription_html"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_subscription.html">Nop.Core.Domain.Forums.ForumSubscription</a></div><div class="ttdoc">Represents a forum subscription item</div><div class="ttdef"><b>Definition:</b> ForumSubscription.cs:9</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_forums_1_1_i_forum_service_html_a137d9ef98770f690212ff0ffdb5449cf"><div class="ttname"><a href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a137d9ef98770f690212ff0ffdb5449cf">Nop.Services.Forums.IForumService.InsertSubscriptionAsync</a></div><div class="ttdeci">Task InsertSubscriptionAsync(ForumSubscription forumSubscription)</div><div class="ttdoc">Inserts a forum subscription</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_forums_1_1_i_forum_service_html_a25b5fe723cf5d8493f14e642d95a2462"><div class="ttname"><a href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a25b5fe723cf5d8493f14e642d95a2462">Nop.Services.Forums.IForumService.IsCustomerAllowedToSubscribeAsync</a></div><div class="ttdeci">Task&lt; bool &gt; IsCustomerAllowedToSubscribeAsync(Customer customer)</div><div class="ttdoc">Check whether customer is allowed to watch topics</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_forums_1_1_i_forum_service_html_a7b36755f1880ca8f367db8d6228c3566"><div class="ttname"><a href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a7b36755f1880ca8f367db8d6228c3566">Nop.Services.Forums.IForumService.GetAllSubscriptionsAsync</a></div><div class="ttdeci">Task&lt; IPagedList&lt; ForumSubscription &gt; &gt; GetAllSubscriptionsAsync(int customerId=0, int forumId=0, int topicId=0, int pageIndex=0, int pageSize=int.MaxValue)</div><div class="ttdoc">Gets forum subscriptions</div></div>
<div class="ttc" id="anamespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models_html_a2c7aec4f6e1f8a7946bd8a33c55b2d4d"><div class="ttname"><a href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a2c7aec4f6e1f8a7946bd8a33c55b2d4d">Nop.Plugin.Misc.Sendinblue.Models.Text</a></div><div class="ttdeci">string Text</div><div class="ttdef"><b>Definition:</b> SmsModel.cs:44</div></div>
<div class="ttc" id="anamespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log_html_aaa4303994371e93df77abec6d473c7e8"><div class="ttname"><a href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aaa4303994371e93df77abec6d473c7e8">Nop.Plugin.Tax.Avalara.Models.Log.CustomerId</a></div><div class="ttdeci">int? CustomerId</div><div class="ttdef"><b>Definition:</b> TaxTransactionLogModel.cs:27</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders_html_a968ff99d09af9aec2bb20d13d463c147"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a968ff99d09af9aec2bb20d13d463c147">Nop.Web.Areas.Admin.Models.Orders.Id</a></div><div class="ttdeci">override int Id</div><div class="ttdef"><b>Definition:</b> OrderModel.cs:39</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_models_1_1_boards_html_a0d4f4a9a8b74956854d631b26a3fd658"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_models_1_1_boards.html#a0d4f4a9a8b74956854d631b26a3fd658">Nop.Web.Models.Boards.Subscribed</a></div><div class="ttdeci">bool Subscribed</div><div class="ttdef"><b>Definition:</b> EditForumPostModel.cs:28</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_models_1_1_boards_html_a173e6b326dffe341f245a9b512f4408c"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_models_1_1_boards.html#a173e6b326dffe341f245a9b512f4408c">Nop.Web.Models.Boards.ForumId</a></div><div class="ttdeci">int ForumId</div><div class="ttdef"><b>Definition:</b> EditForumTopicModel.cs:25</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_models_1_1_boards_html_adebb6f969d4fe48fe21482fbb2d906ca"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_models_1_1_boards.html#adebb6f969d4fe48fe21482fbb2d906ca">Nop.Web.Models.Boards.Error</a></div><div class="ttdeci">string Error</div><div class="ttdef"><b>Definition:</b> SearchModel.cs:48</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">Nop.Web.Controllers.BoardsController._forumService</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a8ffaa0cbabe0eb5657dc0db3a5cbc614">Nop.Web.Controllers.BoardsController._localizationService</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">Nop.Web.Controllers.BoardsController._workContext</a>, <a class="el" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aaa4303994371e93df77abec6d473c7e8">Nop.Plugin.Tax.Avalara.Models.Log.CustomerId</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a82c19702303d2c91c9a78b2b38c32ed7">Nop.Services.Forums.IForumService.DeleteSubscriptionAsync()</a>, <a class="el" href="namespace_nop_1_1_web_1_1_models_1_1_boards.html#adebb6f969d4fe48fe21482fbb2d906ca">Nop.Web.Models.Boards.Error</a>, <a class="el" href="namespace_nop_1_1_web_1_1_models_1_1_boards.html#a173e6b326dffe341f245a9b512f4408c">Nop.Web.Models.Boards.ForumId</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a7b36755f1880ca8f367db8d6228c3566">Nop.Services.Forums.IForumService.GetAllSubscriptionsAsync()</a>, <a class="el" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">Nop.Core.IWorkContext.GetCurrentCustomerAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a8ab1045619a4018840244ee1f48d7698">Nop.Services.Forums.IForumService.GetForumByIdAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">Nop.Services.Localization.ILocalizationService.GetResourceAsync()</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a968ff99d09af9aec2bb20d13d463c147">Nop.Web.Areas.Admin.Models.Orders.Id</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a137d9ef98770f690212ff0ffdb5449cf">Nop.Services.Forums.IForumService.InsertSubscriptionAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a25b5fe723cf5d8493f14e642d95a2462">Nop.Services.Forums.IForumService.IsCustomerAllowedToSubscribeAsync()</a>, <a class="el" href="namespace_nop_1_1_web_1_1_models_1_1_boards.html#a0d4f4a9a8b74956854d631b26a3fd658">Nop.Web.Models.Boards.Subscribed</a> e <a class="el" href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a2c7aec4f6e1f8a7946bd8a33c55b2d4d">Nop.Plugin.Misc.Sendinblue.Models.Text</a>.</p>

</div>
</div>
<a id="ae1ac3bfb915e012487e8af567dd39014"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1ac3bfb915e012487e8af567dd39014">&#9670;&nbsp;</a></span>Index()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;IActionResult&gt; Nop.Web.Controllers.BoardsController.Index </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        {</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">_forumSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ad3e439f1bdd36ffd08a615b7c9c58ed2">ForumsEnabled</a>)</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                <span class="keywordflow">return</span> RedirectToRoute(<span class="stringliteral">&quot;Homepage&quot;</span>);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;            var model = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a305a169198795c7662a1bed72a7e55ef">_forumModelFactory</a>.<a class="code" href="interface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory.html#a9a05324406ffbc2b084f29bc3db6d8ad">PrepareBoardsIndexModelAsync</a>();</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;            </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;            <span class="keywordflow">return</span> View(model);</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        }</div>
<div class="ttc" id="ainterface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory_html_a9a05324406ffbc2b084f29bc3db6d8ad"><div class="ttname"><a href="interface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory.html#a9a05324406ffbc2b084f29bc3db6d8ad">Nop.Web.Factories.IForumModelFactory.PrepareBoardsIndexModelAsync</a></div><div class="ttdeci">Task&lt; BoardsIndexModel &gt; PrepareBoardsIndexModelAsync()</div><div class="ttdoc">Prepare the boards index model</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a305a169198795c7662a1bed72a7e55ef">Nop.Web.Controllers.BoardsController._forumModelFactory</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">Nop.Web.Controllers.BoardsController._forumSettings</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ad3e439f1bdd36ffd08a615b7c9c58ed2">Nop.Core.Domain.Forums.ForumSettings.ForumsEnabled</a> e <a class="el" href="interface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory.html#a9a05324406ffbc2b084f29bc3db6d8ad">Nop.Web.Factories.IForumModelFactory.PrepareBoardsIndexModelAsync()</a>.</p>

</div>
</div>
<a id="a15032b4ef6122000e0261bb8fbf6e546"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15032b4ef6122000e0261bb8fbf6e546">&#9670;&nbsp;</a></span>PostCreate() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;IActionResult&gt; Nop.Web.Controllers.BoardsController.PostCreate </td>
          <td>(</td>
          <td class="paramtype">EditForumPostModel&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>captchaValid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        {</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">_forumSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ad3e439f1bdd36ffd08a615b7c9c58ed2">ForumsEnabled</a>)</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;                <span class="keywordflow">return</span> RedirectToRoute(<span class="stringliteral">&quot;Homepage&quot;</span>);</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160; </div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;            var forumTopic = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#abd898201bb2fd3802f89e0c73aa5a045">GetTopicByIdAsync</a>(model.ForumTopicId);</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;            <span class="keywordflow">if</span> (forumTopic == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;                <span class="keywordflow">return</span> RedirectToRoute(<span class="stringliteral">&quot;Boards&quot;</span>);</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160; </div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;            <span class="comment">//validate CAPTCHA</span></div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#af8f90120ca76196ae1b565f5dd405b15">_captchaSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_security_1_1_captcha_settings.html#a624d172514c1aeaa5bacbcb35267de67">Enabled</a> &amp;&amp; <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#af8f90120ca76196ae1b565f5dd405b15">_captchaSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_security_1_1_captcha_settings.html#aaa77dc34a57038fa8394a84b700a081d">ShowOnForum</a> &amp;&amp; !captchaValid)</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;            {</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;                ModelState.AddModelError(<span class="stringliteral">&quot;&quot;</span>, await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a8ffaa0cbabe0eb5657dc0db3a5cbc614">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;Common.WrongCaptchaMessage&quot;</span>));</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;            }</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160; </div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;            <span class="keywordflow">if</span> (ModelState.IsValid)</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;            {</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;                <span class="keywordflow">try</span></div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;                {</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;                    <span class="keywordflow">if</span> (!await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a5a762761a8e6e928fc2d6a430461c170">IsCustomerAllowedToCreatePostAsync</a>(await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">GetCurrentCustomerAsync</a>(), forumTopic))</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;                        <span class="keywordflow">return</span> Challenge();</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160; </div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;                    var text = model.Text;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;                    var maxPostLength = <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">_forumSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ac2f2a29a33db5ac0c7d09488634cdb18">PostMaxLength</a>;</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;                    <span class="keywordflow">if</span> (maxPostLength &gt; 0 &amp;&amp; text.Length &gt; maxPostLength)</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;                        text = text[0..maxPostLength];</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160; </div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;                    var ipAddress = <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a58f37ce509b0e9593ae248978b289df1">_webHelper</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_web_helper.html#ac1757af7d7a624641c0eb47817adf610">GetCurrentIpAddress</a>();</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160; </div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;                    var nowUtc = DateTime.UtcNow;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160; </div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;                    var forumPost = <span class="keyword">new</span> <a class="code" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_post.html">ForumPost</a></div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;                    {</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;                        TopicId = forumTopic.<a class="code" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Id</a>,</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;                        <a class="code" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aaa4303994371e93df77abec6d473c7e8">CustomerId</a> = (await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">GetCurrentCustomerAsync</a>()).<a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a968ff99d09af9aec2bb20d13d463c147">Id</a>,</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;                        <a class="code" href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a2c7aec4f6e1f8a7946bd8a33c55b2d4d">Text</a> = text,</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;                        IPAddress = ipAddress,</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;                        CreatedOnUtc = nowUtc,</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;                        UpdatedOnUtc = nowUtc</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;                    };</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;                    await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a3d6887908c86b13784eb08cd0035004a">InsertPostAsync</a>(forumPost, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160; </div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;                    <span class="comment">//subscription</span></div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;                    <span class="keywordflow">if</span> (await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a25b5fe723cf5d8493f14e642d95a2462">IsCustomerAllowedToSubscribeAsync</a>(await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">GetCurrentCustomerAsync</a>()))</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;                    {</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;                        var forumSubscription = (await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a7b36755f1880ca8f367db8d6228c3566">GetAllSubscriptionsAsync</a>((await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">GetCurrentCustomerAsync</a>()).Id,</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;                            0, forumPost.TopicId, 0, 1)).FirstOrDefault();</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;                        <span class="keywordflow">if</span> (model.Subscribed)</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;                        {</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;                            <span class="keywordflow">if</span> (forumSubscription == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;                            {</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;                                forumSubscription = <span class="keyword">new</span> <a class="code" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_subscription.html">ForumSubscription</a></div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;                                {</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;                                    SubscriptionGuid = Guid.NewGuid(),</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;                                    <a class="code" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aaa4303994371e93df77abec6d473c7e8">CustomerId</a> = (await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">GetCurrentCustomerAsync</a>()).<a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a968ff99d09af9aec2bb20d13d463c147">Id</a>,</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;                                    TopicId = forumPost.TopicId,</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;                                    CreatedOnUtc = nowUtc</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;                                };</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160; </div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;                                await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a137d9ef98770f690212ff0ffdb5449cf">InsertSubscriptionAsync</a>(forumSubscription);</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;                            }</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;                        }</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;                        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;                        {</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;                            <span class="keywordflow">if</span> (forumSubscription != <span class="keyword">null</span>)</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;                            {</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;                                await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a82c19702303d2c91c9a78b2b38c32ed7">DeleteSubscriptionAsync</a>(forumSubscription);</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;                            }</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;                        }</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;                    }</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160; </div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;                    var pageSize = <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">_forumSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#a4f4f90e2c9a26f56c2041aa807b005f4">PostsPageSize</a> &gt; 0 ? <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">_forumSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#a4f4f90e2c9a26f56c2041aa807b005f4">PostsPageSize</a> : 10;</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160; </div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;                    var pageIndex = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#ad60cd67224f3e2e6f3ff17c2a2195989">CalculateTopicPageIndexAsync</a>(forumPost.TopicId, pageSize, forumPost.Id) + 1;</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;                    <span class="keywordtype">string</span> url;</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;                    <span class="keywordflow">if</span> (pageIndex &gt; 1)</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;                        url = <a class="code" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aafe385d8c4510efed77d5ec1aaff6c1c">Url</a>.RouteUrl(<span class="stringliteral">&quot;TopicSlugPaged&quot;</span>, <span class="keyword">new</span> { <span class="keywordtype">id</span> = forumPost.TopicId, <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#a18886e00290b7f1f4711f9277cff7b70">slug</a> = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a1599b5bdfbd8383f22c5244b451339e8">GetTopicSeNameAsync</a>(forumTopic), <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#ac028601fb938a8cd280f81589753e327">pageNumber</a> = pageIndex });</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;                        url = <a class="code" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aafe385d8c4510efed77d5ec1aaff6c1c">Url</a>.RouteUrl(<span class="stringliteral">&quot;TopicSlug&quot;</span>, <span class="keyword">new</span> { <span class="keywordtype">id</span> = forumPost.TopicId, <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#a18886e00290b7f1f4711f9277cff7b70">slug</a> = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a1599b5bdfbd8383f22c5244b451339e8">GetTopicSeNameAsync</a>(forumTopic) });</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;                    <span class="keywordflow">return</span> LocalRedirect($<span class="stringliteral">&quot;{url}#{forumPost.Id}&quot;</span>);</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;                }</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;                <span class="keywordflow">catch</span> (Exception ex)</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;                {</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;                    ModelState.AddModelError(<span class="stringliteral">&quot;&quot;</span>, ex.Message);</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;                }</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;            }</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160; </div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;            <span class="comment">//redisplay form</span></div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;            model = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a305a169198795c7662a1bed72a7e55ef">_forumModelFactory</a>.<a class="code" href="interface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory.html#a7b73b0234816555282b7384c962bdbba">PreparePostCreateModelAsync</a>(forumTopic, 0, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160; </div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;            <span class="keywordflow">return</span> View(model);</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_base_entity_html_a6908f7c042a024f82d7e7947e75bca53"><div class="ttname"><a href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Nop.Core.BaseEntity.Id</a></div><div class="ttdeci">int Id</div><div class="ttdoc">Gets or sets the entity identifier</div><div class="ttdef"><b>Definition:</b> BaseEntity.cs:11</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_post_html"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_post.html">Nop.Core.Domain.Forums.ForumPost</a></div><div class="ttdoc">Represents a forum post</div><div class="ttdef"><b>Definition:</b> ForumPost.cs:9</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings_html_a4f4f90e2c9a26f56c2041aa807b005f4"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#a4f4f90e2c9a26f56c2041aa807b005f4">Nop.Core.Domain.Forums.ForumSettings.PostsPageSize</a></div><div class="ttdeci">int PostsPageSize</div><div class="ttdoc">Gets or sets the page size for posts in topics</div><div class="ttdef"><b>Definition:</b> ForumSettings.cs:78</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings_html_ac2f2a29a33db5ac0c7d09488634cdb18"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ac2f2a29a33db5ac0c7d09488634cdb18">Nop.Core.Domain.Forums.ForumSettings.PostMaxLength</a></div><div class="ttdeci">int PostMaxLength</div><div class="ttdoc">Gets or sets maximum length of post</div><div class="ttdef"><b>Definition:</b> ForumSettings.cs:68</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_security_1_1_captcha_settings_html_a624d172514c1aeaa5bacbcb35267de67"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_security_1_1_captcha_settings.html#a624d172514c1aeaa5bacbcb35267de67">Nop.Core.Domain.Security.CaptchaSettings.Enabled</a></div><div class="ttdeci">bool Enabled</div><div class="ttdoc">Is CAPTCHA enabled?</div><div class="ttdef"><b>Definition:</b> CaptchaSettings.cs:13</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_security_1_1_captcha_settings_html_aaa77dc34a57038fa8394a84b700a081d"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_security_1_1_captcha_settings.html#aaa77dc34a57038fa8394a84b700a081d">Nop.Core.Domain.Security.CaptchaSettings.ShowOnForum</a></div><div class="ttdeci">bool ShowOnForum</div><div class="ttdoc">A value indicating whether CAPTCHA should be displayed on the Forum</div><div class="ttdef"><b>Definition:</b> CaptchaSettings.cs:73</div></div>
<div class="ttc" id="ainterface_nop_1_1_core_1_1_i_web_helper_html_ac1757af7d7a624641c0eb47817adf610"><div class="ttname"><a href="interface_nop_1_1_core_1_1_i_web_helper.html#ac1757af7d7a624641c0eb47817adf610">Nop.Core.IWebHelper.GetCurrentIpAddress</a></div><div class="ttdeci">string GetCurrentIpAddress()</div><div class="ttdoc">Get IP address from HTTP context</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_forums_1_1_i_forum_service_html_a3d6887908c86b13784eb08cd0035004a"><div class="ttname"><a href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a3d6887908c86b13784eb08cd0035004a">Nop.Services.Forums.IForumService.InsertPostAsync</a></div><div class="ttdeci">Task InsertPostAsync(ForumPost forumPost, bool sendNotifications)</div><div class="ttdoc">Inserts a forum post</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_forums_1_1_i_forum_service_html_a5a762761a8e6e928fc2d6a430461c170"><div class="ttname"><a href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a5a762761a8e6e928fc2d6a430461c170">Nop.Services.Forums.IForumService.IsCustomerAllowedToCreatePostAsync</a></div><div class="ttdeci">Task&lt; bool &gt; IsCustomerAllowedToCreatePostAsync(Customer customer, ForumTopic topic)</div><div class="ttdoc">Check whether customer is allowed to create new post</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_forums_1_1_i_forum_service_html_abd898201bb2fd3802f89e0c73aa5a045"><div class="ttname"><a href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#abd898201bb2fd3802f89e0c73aa5a045">Nop.Services.Forums.IForumService.GetTopicByIdAsync</a></div><div class="ttdeci">Task&lt; ForumTopic &gt; GetTopicByIdAsync(int forumTopicId)</div><div class="ttdoc">Gets a forum topic</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_forums_1_1_i_forum_service_html_ad60cd67224f3e2e6f3ff17c2a2195989"><div class="ttname"><a href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#ad60cd67224f3e2e6f3ff17c2a2195989">Nop.Services.Forums.IForumService.CalculateTopicPageIndexAsync</a></div><div class="ttdeci">Task&lt; int &gt; CalculateTopicPageIndexAsync(int forumTopicId, int pageSize, int postId)</div><div class="ttdoc">Calculates topic page index by post identifier</div></div>
<div class="ttc" id="ainterface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory_html_a7b73b0234816555282b7384c962bdbba"><div class="ttname"><a href="interface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory.html#a7b73b0234816555282b7384c962bdbba">Nop.Web.Factories.IForumModelFactory.PreparePostCreateModelAsync</a></div><div class="ttdeci">Task&lt; EditForumPostModel &gt; PreparePostCreateModelAsync(ForumTopic forumTopic, int? quote, bool excludeProperties)</div><div class="ttdoc">Prepare the forum post create model</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#af8f90120ca76196ae1b565f5dd405b15">Nop.Web.Controllers.BoardsController._captchaSettings</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a305a169198795c7662a1bed72a7e55ef">Nop.Web.Controllers.BoardsController._forumModelFactory</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">Nop.Web.Controllers.BoardsController._forumService</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">Nop.Web.Controllers.BoardsController._forumSettings</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a8ffaa0cbabe0eb5657dc0db3a5cbc614">Nop.Web.Controllers.BoardsController._localizationService</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a58f37ce509b0e9593ae248978b289df1">Nop.Web.Controllers.BoardsController._webHelper</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">Nop.Web.Controllers.BoardsController._workContext</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#ad60cd67224f3e2e6f3ff17c2a2195989">Nop.Services.Forums.IForumService.CalculateTopicPageIndexAsync()</a>, <a class="el" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aaa4303994371e93df77abec6d473c7e8">Nop.Plugin.Tax.Avalara.Models.Log.CustomerId</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a82c19702303d2c91c9a78b2b38c32ed7">Nop.Services.Forums.IForumService.DeleteSubscriptionAsync()</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_security_1_1_captcha_settings.html#a624d172514c1aeaa5bacbcb35267de67">Nop.Core.Domain.Security.CaptchaSettings.Enabled</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ad3e439f1bdd36ffd08a615b7c9c58ed2">Nop.Core.Domain.Forums.ForumSettings.ForumsEnabled</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a7b36755f1880ca8f367db8d6228c3566">Nop.Services.Forums.IForumService.GetAllSubscriptionsAsync()</a>, <a class="el" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">Nop.Core.IWorkContext.GetCurrentCustomerAsync()</a>, <a class="el" href="interface_nop_1_1_core_1_1_i_web_helper.html#ac1757af7d7a624641c0eb47817adf610">Nop.Core.IWebHelper.GetCurrentIpAddress()</a>, <a class="el" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">Nop.Services.Localization.ILocalizationService.GetResourceAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#abd898201bb2fd3802f89e0c73aa5a045">Nop.Services.Forums.IForumService.GetTopicByIdAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a1599b5bdfbd8383f22c5244b451339e8">Nop.Services.Forums.IForumService.GetTopicSeNameAsync()</a>, <a class="el" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Nop.Core.BaseEntity.Id</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a968ff99d09af9aec2bb20d13d463c147">Nop.Web.Areas.Admin.Models.Orders.Id</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a3d6887908c86b13784eb08cd0035004a">Nop.Services.Forums.IForumService.InsertPostAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a137d9ef98770f690212ff0ffdb5449cf">Nop.Services.Forums.IForumService.InsertSubscriptionAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a5a762761a8e6e928fc2d6a430461c170">Nop.Services.Forums.IForumService.IsCustomerAllowedToCreatePostAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a25b5fe723cf5d8493f14e642d95a2462">Nop.Services.Forums.IForumService.IsCustomerAllowedToSubscribeAsync()</a>, <a class="el" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#ac028601fb938a8cd280f81589753e327">Nop.Web.Models.Common.pageNumber</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ac2f2a29a33db5ac0c7d09488634cdb18">Nop.Core.Domain.Forums.ForumSettings.PostMaxLength</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#a4f4f90e2c9a26f56c2041aa807b005f4">Nop.Core.Domain.Forums.ForumSettings.PostsPageSize</a>, <a class="el" href="interface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory.html#a7b73b0234816555282b7384c962bdbba">Nop.Web.Factories.IForumModelFactory.PreparePostCreateModelAsync()</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_security_1_1_captcha_settings.html#aaa77dc34a57038fa8394a84b700a081d">Nop.Core.Domain.Security.CaptchaSettings.ShowOnForum</a>, <a class="el" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#a18886e00290b7f1f4711f9277cff7b70">Nop.Web.Models.Common.slug</a>, <a class="el" href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a2c7aec4f6e1f8a7946bd8a33c55b2d4d">Nop.Plugin.Misc.Sendinblue.Models.Text</a> e <a class="el" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aafe385d8c4510efed77d5ec1aaff6c1c">Nop.Plugin.Tax.Avalara.Models.Log.Url</a>.</p>

</div>
</div>
<a id="a24a562273c13ae420e13074fcb4158ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24a562273c13ae420e13074fcb4158ce">&#9670;&nbsp;</a></span>PostCreate() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;IActionResult&gt; Nop.Web.Controllers.BoardsController.PostCreate </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int?&#160;</td>
          <td class="paramname"><em>quote</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        {</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">_forumSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ad3e439f1bdd36ffd08a615b7c9c58ed2">ForumsEnabled</a>)</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;                <span class="keywordflow">return</span> RedirectToRoute(<span class="stringliteral">&quot;Homepage&quot;</span>);</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160; </div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;            var forumTopic = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#abd898201bb2fd3802f89e0c73aa5a045">GetTopicByIdAsync</a>(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;            <span class="keywordflow">if</span> (forumTopic == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;                <span class="keywordflow">return</span> RedirectToRoute(<span class="stringliteral">&quot;Boards&quot;</span>);</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160; </div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;            <span class="keywordflow">if</span> (!await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a5a762761a8e6e928fc2d6a430461c170">IsCustomerAllowedToCreatePostAsync</a>(await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">GetCurrentCustomerAsync</a>(), forumTopic))</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;                <span class="keywordflow">return</span> Challenge();</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160; </div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;            var model = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a305a169198795c7662a1bed72a7e55ef">_forumModelFactory</a>.<a class="code" href="interface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory.html#a7b73b0234816555282b7384c962bdbba">PreparePostCreateModelAsync</a>(forumTopic, quote, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;            </div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;            <span class="keywordflow">return</span> View(model);</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a305a169198795c7662a1bed72a7e55ef">Nop.Web.Controllers.BoardsController._forumModelFactory</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">Nop.Web.Controllers.BoardsController._forumService</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">Nop.Web.Controllers.BoardsController._forumSettings</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">Nop.Web.Controllers.BoardsController._workContext</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ad3e439f1bdd36ffd08a615b7c9c58ed2">Nop.Core.Domain.Forums.ForumSettings.ForumsEnabled</a>, <a class="el" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">Nop.Core.IWorkContext.GetCurrentCustomerAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#abd898201bb2fd3802f89e0c73aa5a045">Nop.Services.Forums.IForumService.GetTopicByIdAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a5a762761a8e6e928fc2d6a430461c170">Nop.Services.Forums.IForumService.IsCustomerAllowedToCreatePostAsync()</a> e <a class="el" href="interface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory.html#a7b73b0234816555282b7384c962bdbba">Nop.Web.Factories.IForumModelFactory.PreparePostCreateModelAsync()</a>.</p>

</div>
</div>
<a id="a0bd6173cd0fbd8d4c218eafcf8ab63c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bd6173cd0fbd8d4c218eafcf8ab63c7">&#9670;&nbsp;</a></span>PostDelete()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;IActionResult&gt; Nop.Web.Controllers.BoardsController.PostDelete </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        {</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">_forumSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ad3e439f1bdd36ffd08a615b7c9c58ed2">ForumsEnabled</a>)</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;                <span class="keywordflow">return</span> Json(<span class="keyword">new</span></div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;                {</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;                    redirect = <a class="code" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aafe385d8c4510efed77d5ec1aaff6c1c">Url</a>.RouteUrl(<span class="stringliteral">&quot;Homepage&quot;</span>),</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;                });</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160; </div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;            var forumPost = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a25c2f27a0de72022bd0331c97966cac9">GetPostByIdAsync</a>(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160; </div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;            <span class="keywordflow">if</span> (forumPost == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;                <span class="keywordflow">return</span> Json(<span class="keyword">new</span> {redirect = <a class="code" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aafe385d8c4510efed77d5ec1aaff6c1c">Url</a>.RouteUrl(<span class="stringliteral">&quot;Boards&quot;</span>)});</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160; </div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;            <span class="keywordflow">if</span> (!await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#ac76fd5327e8fb602b0574b45ad595b16">IsCustomerAllowedToDeletePostAsync</a>(await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">GetCurrentCustomerAsync</a>(), forumPost))</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;                <span class="keywordflow">return</span> Challenge();</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160; </div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;            var forumTopic = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#abd898201bb2fd3802f89e0c73aa5a045">GetTopicByIdAsync</a>(forumPost.TopicId);</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;            var <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#a576ff210c29de66987a2aa10fc5f7c7e">forumId</a> = forumTopic.ForumId;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;            var forum = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a8ab1045619a4018840244ee1f48d7698">GetForumByIdAsync</a>(<a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#a576ff210c29de66987a2aa10fc5f7c7e">forumId</a>);</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;            var forumSlug = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a6ac980df7c566b1391e73d1313180bbb">GetForumSeNameAsync</a>(forum);</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160; </div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;            await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a5a7ad1f2eb4231af807749a9380b03cc">DeletePostAsync</a>(forumPost);</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160; </div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;            <span class="comment">//get topic one more time because it can be deleted (first or only post deleted)</span></div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;            forumTopic = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#abd898201bb2fd3802f89e0c73aa5a045">GetTopicByIdAsync</a>(forumPost.TopicId);</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;            <span class="keywordflow">if</span> (forumTopic == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;                <span class="keywordflow">return</span> Json(<span class="keyword">new</span></div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;                {</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;                    redirect = <a class="code" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aafe385d8c4510efed77d5ec1aaff6c1c">Url</a>.RouteUrl(<span class="stringliteral">&quot;ForumSlug&quot;</span>, <span class="keyword">new</span> { <span class="keywordtype">id</span> = <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#a576ff210c29de66987a2aa10fc5f7c7e">forumId</a>, <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#a18886e00290b7f1f4711f9277cff7b70">slug</a> = forumSlug }),</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;                });</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160; </div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;            <span class="keywordflow">return</span> Json(<span class="keyword">new</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;            {</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                redirect = <a class="code" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aafe385d8c4510efed77d5ec1aaff6c1c">Url</a>.RouteUrl(<span class="stringliteral">&quot;TopicSlug&quot;</span>, <span class="keyword">new</span> { <span class="keywordtype">id</span> = forumTopic.Id, <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#a18886e00290b7f1f4711f9277cff7b70">slug</a> = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a1599b5bdfbd8383f22c5244b451339e8">GetTopicSeNameAsync</a>(forumTopic) }),</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;            });</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160; </div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        }</div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_forums_1_1_i_forum_service_html_a25c2f27a0de72022bd0331c97966cac9"><div class="ttname"><a href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a25c2f27a0de72022bd0331c97966cac9">Nop.Services.Forums.IForumService.GetPostByIdAsync</a></div><div class="ttdeci">Task&lt; ForumPost &gt; GetPostByIdAsync(int forumPostId)</div><div class="ttdoc">Gets a forum post</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_forums_1_1_i_forum_service_html_a5a7ad1f2eb4231af807749a9380b03cc"><div class="ttname"><a href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a5a7ad1f2eb4231af807749a9380b03cc">Nop.Services.Forums.IForumService.DeletePostAsync</a></div><div class="ttdeci">Task DeletePostAsync(ForumPost forumPost)</div><div class="ttdoc">Deletes a forum post</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_forums_1_1_i_forum_service_html_a6ac980df7c566b1391e73d1313180bbb"><div class="ttname"><a href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a6ac980df7c566b1391e73d1313180bbb">Nop.Services.Forums.IForumService.GetForumSeNameAsync</a></div><div class="ttdeci">Task&lt; string &gt; GetForumSeNameAsync(Forum forum)</div><div class="ttdoc">Gets Forum SE (search engine) name</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_forums_1_1_i_forum_service_html_ac76fd5327e8fb602b0574b45ad595b16"><div class="ttname"><a href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#ac76fd5327e8fb602b0574b45ad595b16">Nop.Services.Forums.IForumService.IsCustomerAllowedToDeletePostAsync</a></div><div class="ttdeci">Task&lt; bool &gt; IsCustomerAllowedToDeletePostAsync(Customer customer, ForumPost post)</div><div class="ttdoc">Check whether customer is allowed to delete post</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">Nop.Web.Controllers.BoardsController._forumService</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">Nop.Web.Controllers.BoardsController._forumSettings</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">Nop.Web.Controllers.BoardsController._workContext</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a5a7ad1f2eb4231af807749a9380b03cc">Nop.Services.Forums.IForumService.DeletePostAsync()</a>, <a class="el" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#a576ff210c29de66987a2aa10fc5f7c7e">Nop.Web.Models.Common.forumId</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ad3e439f1bdd36ffd08a615b7c9c58ed2">Nop.Core.Domain.Forums.ForumSettings.ForumsEnabled</a>, <a class="el" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">Nop.Core.IWorkContext.GetCurrentCustomerAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a8ab1045619a4018840244ee1f48d7698">Nop.Services.Forums.IForumService.GetForumByIdAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a6ac980df7c566b1391e73d1313180bbb">Nop.Services.Forums.IForumService.GetForumSeNameAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a25c2f27a0de72022bd0331c97966cac9">Nop.Services.Forums.IForumService.GetPostByIdAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#abd898201bb2fd3802f89e0c73aa5a045">Nop.Services.Forums.IForumService.GetTopicByIdAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a1599b5bdfbd8383f22c5244b451339e8">Nop.Services.Forums.IForumService.GetTopicSeNameAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#ac76fd5327e8fb602b0574b45ad595b16">Nop.Services.Forums.IForumService.IsCustomerAllowedToDeletePostAsync()</a>, <a class="el" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#a18886e00290b7f1f4711f9277cff7b70">Nop.Web.Models.Common.slug</a> e <a class="el" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aafe385d8c4510efed77d5ec1aaff6c1c">Nop.Plugin.Tax.Avalara.Models.Log.Url</a>.</p>

</div>
</div>
<a id="a1237fc9d935f7948f80a5e473878639e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1237fc9d935f7948f80a5e473878639e">&#9670;&nbsp;</a></span>PostEdit() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;IActionResult&gt; Nop.Web.Controllers.BoardsController.PostEdit </td>
          <td>(</td>
          <td class="paramtype">EditForumPostModel&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>captchaValid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;        {</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">_forumSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ad3e439f1bdd36ffd08a615b7c9c58ed2">ForumsEnabled</a>)</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;                <span class="keywordflow">return</span> RedirectToRoute(<span class="stringliteral">&quot;Homepage&quot;</span>);</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160; </div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;            var forumPost = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a25c2f27a0de72022bd0331c97966cac9">GetPostByIdAsync</a>(model.Id);</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;            <span class="keywordflow">if</span> (forumPost == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;                <span class="keywordflow">return</span> RedirectToRoute(<span class="stringliteral">&quot;Boards&quot;</span>);</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160; </div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;            <span class="keywordflow">if</span> (!await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a45d5235ac3eb292e5cb3e0f7d353d285">IsCustomerAllowedToEditPostAsync</a>(await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">GetCurrentCustomerAsync</a>(), forumPost))</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;                <span class="keywordflow">return</span> Challenge();</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160; </div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;            var forumTopic = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#abd898201bb2fd3802f89e0c73aa5a045">GetTopicByIdAsync</a>(forumPost.TopicId);</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;            <span class="keywordflow">if</span> (forumTopic == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;                <span class="keywordflow">return</span> RedirectToRoute(<span class="stringliteral">&quot;Boards&quot;</span>);</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160; </div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;            var forum = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a8ab1045619a4018840244ee1f48d7698">GetForumByIdAsync</a>(forumTopic.ForumId);</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;            <span class="keywordflow">if</span> (forum == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;                <span class="keywordflow">return</span> RedirectToRoute(<span class="stringliteral">&quot;Boards&quot;</span>);</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160; </div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;            <span class="comment">//validate CAPTCHA</span></div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#af8f90120ca76196ae1b565f5dd405b15">_captchaSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_security_1_1_captcha_settings.html#a624d172514c1aeaa5bacbcb35267de67">Enabled</a> &amp;&amp; <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#af8f90120ca76196ae1b565f5dd405b15">_captchaSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_security_1_1_captcha_settings.html#aaa77dc34a57038fa8394a84b700a081d">ShowOnForum</a> &amp;&amp; !captchaValid)</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;            {</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;                ModelState.AddModelError(<span class="stringliteral">&quot;&quot;</span>, await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a8ffaa0cbabe0eb5657dc0db3a5cbc614">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;Common.WrongCaptchaMessage&quot;</span>));</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;            }</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160; </div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;            <span class="keywordflow">if</span> (ModelState.IsValid)</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;            {</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;                <span class="keywordflow">try</span></div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;                {</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;                    var nowUtc = DateTime.UtcNow;</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160; </div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;                    var text = model.Text;</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;                    var maxPostLength = <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">_forumSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ac2f2a29a33db5ac0c7d09488634cdb18">PostMaxLength</a>;</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;                    <span class="keywordflow">if</span> (maxPostLength &gt; 0 &amp;&amp; text.Length &gt; maxPostLength)</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;                    {</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;                        text = text[0..maxPostLength];</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;                    }</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160; </div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;                    forumPost.UpdatedOnUtc = nowUtc;</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;                    forumPost.Text = text;</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;                    await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#af76f1cafe896390d121114df944c2256">UpdatePostAsync</a>(forumPost);</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160; </div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;                    <span class="comment">//subscription</span></div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;                    <span class="keywordflow">if</span> (await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a25b5fe723cf5d8493f14e642d95a2462">IsCustomerAllowedToSubscribeAsync</a>(await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">GetCurrentCustomerAsync</a>()))</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;                    {</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;                        var forumSubscription = (await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a7b36755f1880ca8f367db8d6228c3566">GetAllSubscriptionsAsync</a>((await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">GetCurrentCustomerAsync</a>()).Id,</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;                            0, forumPost.TopicId, 0, 1)).FirstOrDefault();</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;                        <span class="keywordflow">if</span> (model.Subscribed)</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;                        {</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;                            <span class="keywordflow">if</span> (forumSubscription == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;                            {</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                                forumSubscription = <span class="keyword">new</span> <a class="code" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_subscription.html">ForumSubscription</a></div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;                                {</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;                                    SubscriptionGuid = Guid.NewGuid(),</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;                                    <a class="code" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aaa4303994371e93df77abec6d473c7e8">CustomerId</a> = (await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">GetCurrentCustomerAsync</a>()).<a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a968ff99d09af9aec2bb20d13d463c147">Id</a>,</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;                                    TopicId = forumPost.TopicId,</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;                                    CreatedOnUtc = nowUtc</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;                                };</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;                                await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a137d9ef98770f690212ff0ffdb5449cf">InsertSubscriptionAsync</a>(forumSubscription);</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;                            }</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;                        }</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;                        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;                        {</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;                            <span class="keywordflow">if</span> (forumSubscription != <span class="keyword">null</span>)</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;                            {</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;                                await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a82c19702303d2c91c9a78b2b38c32ed7">DeleteSubscriptionAsync</a>(forumSubscription);</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;                            }</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;                        }</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;                    }</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160; </div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;                    var pageSize = <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">_forumSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#a4f4f90e2c9a26f56c2041aa807b005f4">PostsPageSize</a> &gt; 0 ? <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">_forumSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#a4f4f90e2c9a26f56c2041aa807b005f4">PostsPageSize</a> : 10;</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;                    var pageIndex = (await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#ad60cd67224f3e2e6f3ff17c2a2195989">CalculateTopicPageIndexAsync</a>(forumPost.TopicId, pageSize, forumPost.Id) + 1);</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;                    <span class="keywordtype">string</span> url;</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;                    <span class="keywordflow">if</span> (pageIndex &gt; 1)</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;                    {</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;                        url = <a class="code" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aafe385d8c4510efed77d5ec1aaff6c1c">Url</a>.RouteUrl(<span class="stringliteral">&quot;TopicSlugPaged&quot;</span>, <span class="keyword">new</span> { <span class="keywordtype">id</span> = forumPost.TopicId, <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#a18886e00290b7f1f4711f9277cff7b70">slug</a> = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a1599b5bdfbd8383f22c5244b451339e8">GetTopicSeNameAsync</a>(forumTopic), <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#ac028601fb938a8cd280f81589753e327">pageNumber</a> = pageIndex });</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;                    }</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;                    {</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;                        url = <a class="code" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aafe385d8c4510efed77d5ec1aaff6c1c">Url</a>.RouteUrl(<span class="stringliteral">&quot;TopicSlug&quot;</span>, <span class="keyword">new</span> { <span class="keywordtype">id</span> = forumPost.TopicId, <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#a18886e00290b7f1f4711f9277cff7b70">slug</a> = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a1599b5bdfbd8383f22c5244b451339e8">GetTopicSeNameAsync</a>(forumTopic) });</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;                    }</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;                    <span class="keywordflow">return</span> LocalRedirect($<span class="stringliteral">&quot;{url}#{forumPost.Id}&quot;</span>);</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;                }</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;                <span class="keywordflow">catch</span> (Exception ex)</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;                {</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;                    ModelState.AddModelError(<span class="stringliteral">&quot;&quot;</span>, ex.Message);</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;                }</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;            }</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160; </div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;            <span class="comment">//redisplay form</span></div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;            model = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a305a169198795c7662a1bed72a7e55ef">_forumModelFactory</a>.<a class="code" href="interface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory.html#a452e734a3b5aae3f88189212fd1cb0c1">PreparePostEditModelAsync</a>(forumPost, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160; </div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;            <span class="keywordflow">return</span> View(model);</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;        }</div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_forums_1_1_i_forum_service_html_a45d5235ac3eb292e5cb3e0f7d353d285"><div class="ttname"><a href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a45d5235ac3eb292e5cb3e0f7d353d285">Nop.Services.Forums.IForumService.IsCustomerAllowedToEditPostAsync</a></div><div class="ttdeci">Task&lt; bool &gt; IsCustomerAllowedToEditPostAsync(Customer customer, ForumPost post)</div><div class="ttdoc">Check whether customer is allowed to edit post</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_forums_1_1_i_forum_service_html_af76f1cafe896390d121114df944c2256"><div class="ttname"><a href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#af76f1cafe896390d121114df944c2256">Nop.Services.Forums.IForumService.UpdatePostAsync</a></div><div class="ttdeci">Task UpdatePostAsync(ForumPost forumPost)</div><div class="ttdoc">Updates the forum post</div></div>
<div class="ttc" id="ainterface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory_html_a452e734a3b5aae3f88189212fd1cb0c1"><div class="ttname"><a href="interface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory.html#a452e734a3b5aae3f88189212fd1cb0c1">Nop.Web.Factories.IForumModelFactory.PreparePostEditModelAsync</a></div><div class="ttdeci">Task&lt; EditForumPostModel &gt; PreparePostEditModelAsync(ForumPost forumPost, bool excludeProperties)</div><div class="ttdoc">Prepare the forum post edit model</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#af8f90120ca76196ae1b565f5dd405b15">Nop.Web.Controllers.BoardsController._captchaSettings</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a305a169198795c7662a1bed72a7e55ef">Nop.Web.Controllers.BoardsController._forumModelFactory</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">Nop.Web.Controllers.BoardsController._forumService</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">Nop.Web.Controllers.BoardsController._forumSettings</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a8ffaa0cbabe0eb5657dc0db3a5cbc614">Nop.Web.Controllers.BoardsController._localizationService</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">Nop.Web.Controllers.BoardsController._workContext</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#ad60cd67224f3e2e6f3ff17c2a2195989">Nop.Services.Forums.IForumService.CalculateTopicPageIndexAsync()</a>, <a class="el" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aaa4303994371e93df77abec6d473c7e8">Nop.Plugin.Tax.Avalara.Models.Log.CustomerId</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a82c19702303d2c91c9a78b2b38c32ed7">Nop.Services.Forums.IForumService.DeleteSubscriptionAsync()</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_security_1_1_captcha_settings.html#a624d172514c1aeaa5bacbcb35267de67">Nop.Core.Domain.Security.CaptchaSettings.Enabled</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ad3e439f1bdd36ffd08a615b7c9c58ed2">Nop.Core.Domain.Forums.ForumSettings.ForumsEnabled</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a7b36755f1880ca8f367db8d6228c3566">Nop.Services.Forums.IForumService.GetAllSubscriptionsAsync()</a>, <a class="el" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">Nop.Core.IWorkContext.GetCurrentCustomerAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a8ab1045619a4018840244ee1f48d7698">Nop.Services.Forums.IForumService.GetForumByIdAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a25c2f27a0de72022bd0331c97966cac9">Nop.Services.Forums.IForumService.GetPostByIdAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">Nop.Services.Localization.ILocalizationService.GetResourceAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#abd898201bb2fd3802f89e0c73aa5a045">Nop.Services.Forums.IForumService.GetTopicByIdAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a1599b5bdfbd8383f22c5244b451339e8">Nop.Services.Forums.IForumService.GetTopicSeNameAsync()</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a968ff99d09af9aec2bb20d13d463c147">Nop.Web.Areas.Admin.Models.Orders.Id</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a137d9ef98770f690212ff0ffdb5449cf">Nop.Services.Forums.IForumService.InsertSubscriptionAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a45d5235ac3eb292e5cb3e0f7d353d285">Nop.Services.Forums.IForumService.IsCustomerAllowedToEditPostAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a25b5fe723cf5d8493f14e642d95a2462">Nop.Services.Forums.IForumService.IsCustomerAllowedToSubscribeAsync()</a>, <a class="el" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#ac028601fb938a8cd280f81589753e327">Nop.Web.Models.Common.pageNumber</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ac2f2a29a33db5ac0c7d09488634cdb18">Nop.Core.Domain.Forums.ForumSettings.PostMaxLength</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#a4f4f90e2c9a26f56c2041aa807b005f4">Nop.Core.Domain.Forums.ForumSettings.PostsPageSize</a>, <a class="el" href="interface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory.html#a452e734a3b5aae3f88189212fd1cb0c1">Nop.Web.Factories.IForumModelFactory.PreparePostEditModelAsync()</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_security_1_1_captcha_settings.html#aaa77dc34a57038fa8394a84b700a081d">Nop.Core.Domain.Security.CaptchaSettings.ShowOnForum</a>, <a class="el" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#a18886e00290b7f1f4711f9277cff7b70">Nop.Web.Models.Common.slug</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#af76f1cafe896390d121114df944c2256">Nop.Services.Forums.IForumService.UpdatePostAsync()</a> e <a class="el" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aafe385d8c4510efed77d5ec1aaff6c1c">Nop.Plugin.Tax.Avalara.Models.Log.Url</a>.</p>

</div>
</div>
<a id="aaf05b6668cf3150c04f68c30e17a2da4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf05b6668cf3150c04f68c30e17a2da4">&#9670;&nbsp;</a></span>PostEdit() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;IActionResult&gt; Nop.Web.Controllers.BoardsController.PostEdit </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;        {</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">_forumSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ad3e439f1bdd36ffd08a615b7c9c58ed2">ForumsEnabled</a>)</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;                <span class="keywordflow">return</span> RedirectToRoute(<span class="stringliteral">&quot;Homepage&quot;</span>);</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160; </div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;            var forumPost = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a25c2f27a0de72022bd0331c97966cac9">GetPostByIdAsync</a>(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;            <span class="keywordflow">if</span> (forumPost == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;                <span class="keywordflow">return</span> RedirectToRoute(<span class="stringliteral">&quot;Boards&quot;</span>);</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160; </div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;            <span class="keywordflow">if</span> (!await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a45d5235ac3eb292e5cb3e0f7d353d285">IsCustomerAllowedToEditPostAsync</a>(await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">GetCurrentCustomerAsync</a>(), forumPost))</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;                <span class="keywordflow">return</span> Challenge();</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160; </div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;            var model = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a305a169198795c7662a1bed72a7e55ef">_forumModelFactory</a>.<a class="code" href="interface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory.html#a452e734a3b5aae3f88189212fd1cb0c1">PreparePostEditModelAsync</a>(forumPost, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;            </div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;            <span class="keywordflow">return</span> View(model);</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a305a169198795c7662a1bed72a7e55ef">Nop.Web.Controllers.BoardsController._forumModelFactory</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">Nop.Web.Controllers.BoardsController._forumService</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">Nop.Web.Controllers.BoardsController._forumSettings</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">Nop.Web.Controllers.BoardsController._workContext</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ad3e439f1bdd36ffd08a615b7c9c58ed2">Nop.Core.Domain.Forums.ForumSettings.ForumsEnabled</a>, <a class="el" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">Nop.Core.IWorkContext.GetCurrentCustomerAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a25c2f27a0de72022bd0331c97966cac9">Nop.Services.Forums.IForumService.GetPostByIdAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a45d5235ac3eb292e5cb3e0f7d353d285">Nop.Services.Forums.IForumService.IsCustomerAllowedToEditPostAsync()</a> e <a class="el" href="interface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory.html#a452e734a3b5aae3f88189212fd1cb0c1">Nop.Web.Factories.IForumModelFactory.PreparePostEditModelAsync()</a>.</p>

</div>
</div>
<a id="a31fb70234a20c412bb9fbbb1afa2d0fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31fb70234a20c412bb9fbbb1afa2d0fc">&#9670;&nbsp;</a></span>PostVote()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;IActionResult&gt; Nop.Web.Controllers.BoardsController.PostVote </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>postId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isUp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;        {</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">_forumSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#a81d9ed5e62d9ad9d41bfa3f4ed60f7a8">AllowPostVoting</a>)</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_mvc_1_1_null_json_result.html">NullJsonResult</a>();</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160; </div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;            var forumPost = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a25c2f27a0de72022bd0331c97966cac9">GetPostByIdAsync</a>(postId);</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;            <span class="keywordflow">if</span> (forumPost == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_mvc_1_1_null_json_result.html">NullJsonResult</a>();</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160; </div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;            <span class="keywordflow">if</span> (!await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a54762e5570aa7cb5c06c93f50ac8b3fd">_customerService</a>.<a class="code" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#af6b928fad7e1ea6d21e194c5aa74fc6b">IsRegisteredAsync</a>(await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">GetCurrentCustomerAsync</a>()))</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;                <span class="keywordflow">return</span> Json(<span class="keyword">new</span></div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;                {</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_boards.html#adebb6f969d4fe48fe21482fbb2d906ca">Error</a> = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a8ffaa0cbabe0eb5657dc0db3a5cbc614">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;Forum.Votes.Login&quot;</span>),</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_boards.html#a8e504028f751d74603576877afdf0de5">VoteCount</a> = forumPost.VoteCount</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;                });</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160; </div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;            <span class="keywordflow">if</span> ((await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">GetCurrentCustomerAsync</a>()).Id == forumPost.CustomerId)</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;                <span class="keywordflow">return</span> Json(<span class="keyword">new</span></div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;                {</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_boards.html#adebb6f969d4fe48fe21482fbb2d906ca">Error</a> = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a8ffaa0cbabe0eb5657dc0db3a5cbc614">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;Forum.Votes.OwnPost&quot;</span>),</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_boards.html#a8e504028f751d74603576877afdf0de5">VoteCount</a> = forumPost.VoteCount</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;                });</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160; </div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;            var forumPostVote = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a0ed79a576d5e7b314974fafc92137c05">GetPostVoteAsync</a>(postId, await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">GetCurrentCustomerAsync</a>());</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;            <span class="keywordflow">if</span> (forumPostVote != <span class="keyword">null</span>)</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;            {</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;                <span class="keywordflow">if</span> ((forumPostVote.IsUp &amp;&amp; isUp) || (!forumPostVote.IsUp &amp;&amp; !isUp))</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;                    <span class="keywordflow">return</span> Json(<span class="keyword">new</span></div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;                    {</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;                        <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_boards.html#adebb6f969d4fe48fe21482fbb2d906ca">Error</a> = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a8ffaa0cbabe0eb5657dc0db3a5cbc614">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;Forum.Votes.AlreadyVoted&quot;</span>),</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;                        <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_boards.html#a8e504028f751d74603576877afdf0de5">VoteCount</a> = forumPost.VoteCount</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;                    });</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160; </div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;                await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a815959baf74b4e5261bd114e5d6a5762">DeletePostVoteAsync</a>(forumPostVote);</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;                <span class="keywordflow">return</span> Json(<span class="keyword">new</span> { <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_boards.html#a8e504028f751d74603576877afdf0de5">VoteCount</a> = forumPost.VoteCount });</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;            }</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160; </div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;            <span class="keywordflow">if</span> (await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a64e7ad742dbcba1224cb285a795035bb">GetNumberOfPostVotesAsync</a>(await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">GetCurrentCustomerAsync</a>(), DateTime.UtcNow.AddDays(-1)) &gt;= <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">_forumSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#a73125a9a34a8a9057164ecf2d4510565">MaxVotesPerDay</a>)</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;                <span class="keywordflow">return</span> Json(<span class="keyword">new</span></div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;                {</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_boards.html#adebb6f969d4fe48fe21482fbb2d906ca">Error</a> = <span class="keywordtype">string</span>.Format(await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a8ffaa0cbabe0eb5657dc0db3a5cbc614">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;Forum.Votes.MaxVotesReached&quot;</span>), <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">_forumSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#a73125a9a34a8a9057164ecf2d4510565">MaxVotesPerDay</a>),</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_boards.html#a8e504028f751d74603576877afdf0de5">VoteCount</a> = forumPost.VoteCount</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;                });</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160; </div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;            await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a8a82352f4fcefa1205575c2ab0bded8f">InsertPostVoteAsync</a>(<span class="keyword">new</span> <a class="code" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_post_vote.html">ForumPostVote</a></div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;            {</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;                <a class="code" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aaa4303994371e93df77abec6d473c7e8">CustomerId</a> = (await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">GetCurrentCustomerAsync</a>()).Id,</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;                ForumPostId = postId,</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;                IsUp = isUp,</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;                CreatedOnUtc = DateTime.UtcNow</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;            });</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160; </div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;            <span class="keywordflow">return</span> Json(<span class="keyword">new</span> { <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_boards.html#a8e504028f751d74603576877afdf0de5">VoteCount</a> = forumPost.VoteCount, IsUp = isUp });</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_post_vote_html"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_post_vote.html">Nop.Core.Domain.Forums.ForumPostVote</a></div><div class="ttdoc">Represents a forum post vote</div><div class="ttdef"><b>Definition:</b> ForumPostVote.cs:9</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings_html_a73125a9a34a8a9057164ecf2d4510565"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#a73125a9a34a8a9057164ecf2d4510565">Nop.Core.Domain.Forums.ForumSettings.MaxVotesPerDay</a></div><div class="ttdeci">int MaxVotesPerDay</div><div class="ttdoc">Gets or sets the maximum number of votes for user per day</div><div class="ttdef"><b>Definition:</b> ForumSettings.cs:53</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings_html_a81d9ed5e62d9ad9d41bfa3f4ed60f7a8"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#a81d9ed5e62d9ad9d41bfa3f4ed60f7a8">Nop.Core.Domain.Forums.ForumSettings.AllowPostVoting</a></div><div class="ttdeci">bool AllowPostVoting</div><div class="ttdoc">Gets or sets the whether users can vote for posts</div><div class="ttdef"><b>Definition:</b> ForumSettings.cs:48</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_framework_1_1_mvc_1_1_null_json_result_html"><div class="ttname"><a href="class_nop_1_1_web_1_1_framework_1_1_mvc_1_1_null_json_result.html">Nop.Web.Framework.Mvc.NullJsonResult</a></div><div class="ttdoc">Null JSON result</div><div class="ttdef"><b>Definition:</b> NullJsonResult.cs:9</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_customers_1_1_i_customer_service_html_af6b928fad7e1ea6d21e194c5aa74fc6b"><div class="ttname"><a href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#af6b928fad7e1ea6d21e194c5aa74fc6b">Nop.Services.Customers.ICustomerService.IsRegisteredAsync</a></div><div class="ttdeci">Task&lt; bool &gt; IsRegisteredAsync(Customer customer, bool onlyActiveCustomerRoles=true)</div><div class="ttdoc">Gets a value indicating whether customer is registered</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_forums_1_1_i_forum_service_html_a0ed79a576d5e7b314974fafc92137c05"><div class="ttname"><a href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a0ed79a576d5e7b314974fafc92137c05">Nop.Services.Forums.IForumService.GetPostVoteAsync</a></div><div class="ttdeci">Task&lt; ForumPostVote &gt; GetPostVoteAsync(int postId, Customer customer)</div><div class="ttdoc">Get a post vote</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_forums_1_1_i_forum_service_html_a64e7ad742dbcba1224cb285a795035bb"><div class="ttname"><a href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a64e7ad742dbcba1224cb285a795035bb">Nop.Services.Forums.IForumService.GetNumberOfPostVotesAsync</a></div><div class="ttdeci">Task&lt; int &gt; GetNumberOfPostVotesAsync(Customer customer, DateTime сreatedFromUtc)</div><div class="ttdoc">Get post vote made since the parameter date</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_forums_1_1_i_forum_service_html_a815959baf74b4e5261bd114e5d6a5762"><div class="ttname"><a href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a815959baf74b4e5261bd114e5d6a5762">Nop.Services.Forums.IForumService.DeletePostVoteAsync</a></div><div class="ttdeci">Task DeletePostVoteAsync(ForumPostVote postVote)</div><div class="ttdoc">Delete a post vote</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_forums_1_1_i_forum_service_html_a8a82352f4fcefa1205575c2ab0bded8f"><div class="ttname"><a href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a8a82352f4fcefa1205575c2ab0bded8f">Nop.Services.Forums.IForumService.InsertPostVoteAsync</a></div><div class="ttdeci">Task InsertPostVoteAsync(ForumPostVote postVote)</div><div class="ttdoc">Insert a post vote</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_models_1_1_boards_html_a8e504028f751d74603576877afdf0de5"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_models_1_1_boards.html#a8e504028f751d74603576877afdf0de5">Nop.Web.Models.Boards.VoteCount</a></div><div class="ttdeci">int VoteCount</div><div class="ttdef"><b>Definition:</b> ForumPostModel.cs:42</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a54762e5570aa7cb5c06c93f50ac8b3fd">Nop.Web.Controllers.BoardsController._customerService</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">Nop.Web.Controllers.BoardsController._forumService</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">Nop.Web.Controllers.BoardsController._forumSettings</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a8ffaa0cbabe0eb5657dc0db3a5cbc614">Nop.Web.Controllers.BoardsController._localizationService</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">Nop.Web.Controllers.BoardsController._workContext</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#a81d9ed5e62d9ad9d41bfa3f4ed60f7a8">Nop.Core.Domain.Forums.ForumSettings.AllowPostVoting</a>, <a class="el" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aaa4303994371e93df77abec6d473c7e8">Nop.Plugin.Tax.Avalara.Models.Log.CustomerId</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a815959baf74b4e5261bd114e5d6a5762">Nop.Services.Forums.IForumService.DeletePostVoteAsync()</a>, <a class="el" href="namespace_nop_1_1_web_1_1_models_1_1_boards.html#adebb6f969d4fe48fe21482fbb2d906ca">Nop.Web.Models.Boards.Error</a>, <a class="el" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">Nop.Core.IWorkContext.GetCurrentCustomerAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a64e7ad742dbcba1224cb285a795035bb">Nop.Services.Forums.IForumService.GetNumberOfPostVotesAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a25c2f27a0de72022bd0331c97966cac9">Nop.Services.Forums.IForumService.GetPostByIdAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a0ed79a576d5e7b314974fafc92137c05">Nop.Services.Forums.IForumService.GetPostVoteAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">Nop.Services.Localization.ILocalizationService.GetResourceAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a8a82352f4fcefa1205575c2ab0bded8f">Nop.Services.Forums.IForumService.InsertPostVoteAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#af6b928fad7e1ea6d21e194c5aa74fc6b">Nop.Services.Customers.ICustomerService.IsRegisteredAsync()</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#a73125a9a34a8a9057164ecf2d4510565">Nop.Core.Domain.Forums.ForumSettings.MaxVotesPerDay</a> e <a class="el" href="namespace_nop_1_1_web_1_1_models_1_1_boards.html#a8e504028f751d74603576877afdf0de5">Nop.Web.Models.Boards.VoteCount</a>.</p>

</div>
</div>
<a id="abaa68d10b2595c55f2c0adfd742f7854"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abaa68d10b2595c55f2c0adfd742f7854">&#9670;&nbsp;</a></span>Search()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;IActionResult&gt; Nop.Web.Controllers.BoardsController.Search </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>searchterms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool?&#160;</td>
          <td class="paramname"><em>advs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>forumId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>within</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>limitDays</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pageNumber</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;        {</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">_forumSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ad3e439f1bdd36ffd08a615b7c9c58ed2">ForumsEnabled</a>)</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;                <span class="keywordflow">return</span> RedirectToRoute(<span class="stringliteral">&quot;Homepage&quot;</span>);</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160; </div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;            var model = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a305a169198795c7662a1bed72a7e55ef">_forumModelFactory</a>.<a class="code" href="interface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory.html#a24c2822d8aadc278ee78962ac2cc01c3">PrepareSearchModelAsync</a>(searchterms, <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_catalog.html#ab27e72d77e2cd7453b84385a259d9c4c">advs</a>, <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#a576ff210c29de66987a2aa10fc5f7c7e">forumId</a>, <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#a0139423a70a6a52a344721aab2441a2e">within</a>, <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#a4871482fbd1aa3da89961b9bd1457e38">limitDays</a>, <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#ac028601fb938a8cd280f81589753e327">pageNumber</a>);</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;            </div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;            <span class="keywordflow">return</span> View(model);</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;        }</div>
<div class="ttc" id="ainterface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory_html_a24c2822d8aadc278ee78962ac2cc01c3"><div class="ttname"><a href="interface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory.html#a24c2822d8aadc278ee78962ac2cc01c3">Nop.Web.Factories.IForumModelFactory.PrepareSearchModelAsync</a></div><div class="ttdeci">Task&lt; SearchModel &gt; PrepareSearchModelAsync(string searchterms, bool? advs, string forumId, string within, string limitDays, int page)</div><div class="ttdoc">Prepare the search model</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_models_1_1_catalog_html_ab27e72d77e2cd7453b84385a259d9c4c"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_models_1_1_catalog.html#ab27e72d77e2cd7453b84385a259d9c4c">Nop.Web.Models.Catalog.advs</a></div><div class="ttdeci">bool advs</div><div class="ttdoc">A value indicating whether &quot;advanced search&quot; is enabled</div><div class="ttdef"><b>Definition:</b> SearchModel.cs:55</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_models_1_1_common_html_a0139423a70a6a52a344721aab2441a2e"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_models_1_1_common.html#a0139423a70a6a52a344721aab2441a2e">Nop.Web.Models.Common.within</a></div><div class="ttdeci">string within</div><div class="ttdef"><b>Definition:</b> PagerModel.cs:314</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_models_1_1_common_html_a4871482fbd1aa3da89961b9bd1457e38"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_models_1_1_common.html#a4871482fbd1aa3da89961b9bd1457e38">Nop.Web.Models.Common.limitDays</a></div><div class="ttdeci">string limitDays</div><div class="ttdef"><b>Definition:</b> PagerModel.cs:315</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a305a169198795c7662a1bed72a7e55ef">Nop.Web.Controllers.BoardsController._forumModelFactory</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">Nop.Web.Controllers.BoardsController._forumSettings</a>, <a class="el" href="namespace_nop_1_1_web_1_1_models_1_1_catalog.html#ab27e72d77e2cd7453b84385a259d9c4c">Nop.Web.Models.Catalog.advs</a>, <a class="el" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#a576ff210c29de66987a2aa10fc5f7c7e">Nop.Web.Models.Common.forumId</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ad3e439f1bdd36ffd08a615b7c9c58ed2">Nop.Core.Domain.Forums.ForumSettings.ForumsEnabled</a>, <a class="el" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#a4871482fbd1aa3da89961b9bd1457e38">Nop.Web.Models.Common.limitDays</a>, <a class="el" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#ac028601fb938a8cd280f81589753e327">Nop.Web.Models.Common.pageNumber</a>, <a class="el" href="interface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory.html#a24c2822d8aadc278ee78962ac2cc01c3">Nop.Web.Factories.IForumModelFactory.PrepareSearchModelAsync()</a> e <a class="el" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#a0139423a70a6a52a344721aab2441a2e">Nop.Web.Models.Common.within</a>.</p>

</div>
</div>
<a id="a166af8d3d7556215139e5e25e562d9e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a166af8d3d7556215139e5e25e562d9e4">&#9670;&nbsp;</a></span>Topic()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;IActionResult&gt; Nop.Web.Controllers.BoardsController.Topic </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pageNumber</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        {</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">_forumSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ad3e439f1bdd36ffd08a615b7c9c58ed2">ForumsEnabled</a>)</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                <span class="keywordflow">return</span> RedirectToRoute(<span class="stringliteral">&quot;Homepage&quot;</span>);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160; </div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            var forumTopic = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#abd898201bb2fd3802f89e0c73aa5a045">GetTopicByIdAsync</a>(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            <span class="keywordflow">if</span> (forumTopic == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                <span class="keywordflow">return</span> RedirectToRoute(<span class="stringliteral">&quot;Boards&quot;</span>);</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160; </div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            var model = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a305a169198795c7662a1bed72a7e55ef">_forumModelFactory</a>.<a class="code" href="interface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory.html#af6ac7b365143bab08571146a321f9a35">PrepareForumTopicPageModelAsync</a>(forumTopic, <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#ac028601fb938a8cd280f81589753e327">pageNumber</a>);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            <span class="comment">//if no posts loaded, redirect to the first page</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            <span class="keywordflow">if</span> (!model.ForumPostModels.Any() &amp;&amp; <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#ac028601fb938a8cd280f81589753e327">pageNumber</a> &gt; 1)</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                <span class="keywordflow">return</span> RedirectToRoute(<span class="stringliteral">&quot;TopicSlug&quot;</span>, <span class="keyword">new</span> { <span class="keywordtype">id</span> = forumTopic.Id, <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#a18886e00290b7f1f4711f9277cff7b70">slug</a> = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a1599b5bdfbd8383f22c5244b451339e8">GetTopicSeNameAsync</a>(forumTopic) });</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160; </div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            <span class="comment">//update view count</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;            forumTopic.Views += 1;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;            await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a7df4609c6852a0fe96232523ce846484">UpdateTopicAsync</a>(forumTopic);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160; </div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;            <span class="keywordflow">return</span> View(model);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        }</div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_forums_1_1_i_forum_service_html_a7df4609c6852a0fe96232523ce846484"><div class="ttname"><a href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a7df4609c6852a0fe96232523ce846484">Nop.Services.Forums.IForumService.UpdateTopicAsync</a></div><div class="ttdeci">Task UpdateTopicAsync(ForumTopic forumTopic)</div><div class="ttdoc">Updates the forum topic</div></div>
<div class="ttc" id="ainterface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory_html_af6ac7b365143bab08571146a321f9a35"><div class="ttname"><a href="interface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory.html#af6ac7b365143bab08571146a321f9a35">Nop.Web.Factories.IForumModelFactory.PrepareForumTopicPageModelAsync</a></div><div class="ttdeci">Task&lt; ForumTopicPageModel &gt; PrepareForumTopicPageModelAsync(ForumTopic forumTopic, int page)</div><div class="ttdoc">Prepare the forum topic page model</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a305a169198795c7662a1bed72a7e55ef">Nop.Web.Controllers.BoardsController._forumModelFactory</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">Nop.Web.Controllers.BoardsController._forumService</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">Nop.Web.Controllers.BoardsController._forumSettings</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ad3e439f1bdd36ffd08a615b7c9c58ed2">Nop.Core.Domain.Forums.ForumSettings.ForumsEnabled</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#abd898201bb2fd3802f89e0c73aa5a045">Nop.Services.Forums.IForumService.GetTopicByIdAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a1599b5bdfbd8383f22c5244b451339e8">Nop.Services.Forums.IForumService.GetTopicSeNameAsync()</a>, <a class="el" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#ac028601fb938a8cd280f81589753e327">Nop.Web.Models.Common.pageNumber</a>, <a class="el" href="interface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory.html#af6ac7b365143bab08571146a321f9a35">Nop.Web.Factories.IForumModelFactory.PrepareForumTopicPageModelAsync()</a>, <a class="el" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#a18886e00290b7f1f4711f9277cff7b70">Nop.Web.Models.Common.slug</a> e <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a7df4609c6852a0fe96232523ce846484">Nop.Services.Forums.IForumService.UpdateTopicAsync()</a>.</p>

</div>
</div>
<a id="a60f8c61cd3a8fd1d2811ec33a79dae67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60f8c61cd3a8fd1d2811ec33a79dae67">&#9670;&nbsp;</a></span>TopicCreate() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;IActionResult&gt; Nop.Web.Controllers.BoardsController.TopicCreate </td>
          <td>(</td>
          <td class="paramtype">EditForumTopicModel&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>captchaValid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        {</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">_forumSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ad3e439f1bdd36ffd08a615b7c9c58ed2">ForumsEnabled</a>)</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                <span class="keywordflow">return</span> RedirectToRoute(<span class="stringliteral">&quot;Homepage&quot;</span>);</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160; </div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;            var forum = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a8ab1045619a4018840244ee1f48d7698">GetForumByIdAsync</a>(model.ForumId);</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            <span class="keywordflow">if</span> (forum == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                <span class="keywordflow">return</span> RedirectToRoute(<span class="stringliteral">&quot;Boards&quot;</span>);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160; </div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;            <span class="comment">//validate CAPTCHA</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#af8f90120ca76196ae1b565f5dd405b15">_captchaSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_security_1_1_captcha_settings.html#a624d172514c1aeaa5bacbcb35267de67">Enabled</a> &amp;&amp; <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#af8f90120ca76196ae1b565f5dd405b15">_captchaSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_security_1_1_captcha_settings.html#aaa77dc34a57038fa8394a84b700a081d">ShowOnForum</a> &amp;&amp; !captchaValid)</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;            {</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                ModelState.AddModelError(<span class="stringliteral">&quot;&quot;</span>, await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a8ffaa0cbabe0eb5657dc0db3a5cbc614">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;Common.WrongCaptchaMessage&quot;</span>));</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            }</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160; </div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            <span class="keywordflow">if</span> (ModelState.IsValid)</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            {</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                <span class="keywordflow">try</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                {</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                    <span class="keywordflow">if</span> (!await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a108a8d2fb760ab166b2d049c617249bd">IsCustomerAllowedToCreateTopicAsync</a>(await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">GetCurrentCustomerAsync</a>(), forum))</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                    {</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                        <span class="keywordflow">return</span> Challenge();</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                    }</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160; </div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                    var subject = model.Subject;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                    var maxSubjectLength = <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">_forumSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ae569ac588ca02d7f414276fc07cb942c">TopicSubjectMaxLength</a>;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                    <span class="keywordflow">if</span> (maxSubjectLength &gt; 0 &amp;&amp; subject.Length &gt; maxSubjectLength)</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                    {</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                        subject = subject[0..maxSubjectLength];</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                    }</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160; </div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                    var text = model.Text;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                    var maxPostLength = <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">_forumSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ac2f2a29a33db5ac0c7d09488634cdb18">PostMaxLength</a>;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                    <span class="keywordflow">if</span> (maxPostLength &gt; 0 &amp;&amp; text.Length &gt; maxPostLength)</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                        text = text[0..maxPostLength];</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160; </div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                    var topicType = <a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_forums.html#a6db625e6dfd3d5e946554f7c03c16685">ForumTopicType</a>.Normal;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                    var ipAddress = <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a58f37ce509b0e9593ae248978b289df1">_webHelper</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_web_helper.html#ac1757af7d7a624641c0eb47817adf610">GetCurrentIpAddress</a>();</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                    var nowUtc = DateTime.UtcNow;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160; </div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                    <span class="keywordflow">if</span> (await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#aadc246d8e3c9a39398a138a7c937d316">IsCustomerAllowedToSetTopicPriorityAsync</a>(await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">GetCurrentCustomerAsync</a>()))</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                        topicType = (<a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_forums.html#a6db625e6dfd3d5e946554f7c03c16685">ForumTopicType</a>)Enum.ToObject(typeof(<a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_forums.html#a6db625e6dfd3d5e946554f7c03c16685">ForumTopicType</a>), model.TopicTypeId);</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160; </div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                    <span class="comment">//forum topic</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                    var forumTopic = <span class="keyword">new</span> <a class="code" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_topic.html">ForumTopic</a></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                    {</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                        <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_boards.html#a173e6b326dffe341f245a9b512f4408c">ForumId</a> = forum.Id,</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                        <a class="code" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aaa4303994371e93df77abec6d473c7e8">CustomerId</a> = (await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">GetCurrentCustomerAsync</a>()).<a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a968ff99d09af9aec2bb20d13d463c147">Id</a>,</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                        <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_boards.html#afff8fb52a54490db5d84c11245db946c">TopicTypeId</a> = (<span class="keywordtype">int</span>)topicType,</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                        <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_messages.html#abb0de155db90b85fcfc3ce9780fd1a23">Subject</a> = subject,</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                        CreatedOnUtc = nowUtc,</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                        UpdatedOnUtc = nowUtc</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                    };</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                    await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a99b1495d2d86199f27591e085e927c59">InsertTopicAsync</a>(forumTopic, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160; </div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                    <span class="comment">//forum post</span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                    var forumPost = <span class="keyword">new</span> <a class="code" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_post.html">ForumPost</a></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                    {</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                        TopicId = forumTopic.<a class="code" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Id</a>,</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                        <a class="code" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aaa4303994371e93df77abec6d473c7e8">CustomerId</a> = (await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">GetCurrentCustomerAsync</a>()).<a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a968ff99d09af9aec2bb20d13d463c147">Id</a>,</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                        <a class="code" href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a2c7aec4f6e1f8a7946bd8a33c55b2d4d">Text</a> = text,</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                        IPAddress = ipAddress,</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                        CreatedOnUtc = nowUtc,</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                        UpdatedOnUtc = nowUtc</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                    };</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                    await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a3d6887908c86b13784eb08cd0035004a">InsertPostAsync</a>(forumPost, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160; </div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                    <span class="comment">//update forum topic</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                    forumTopic.NumPosts = 1;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                    forumTopic.LastPostId = forumPost.Id;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                    forumTopic.LastPostCustomerId = forumPost.CustomerId;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                    forumTopic.LastPostTime = forumPost.CreatedOnUtc;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                    forumTopic.UpdatedOnUtc = nowUtc;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                    await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a7df4609c6852a0fe96232523ce846484">UpdateTopicAsync</a>(forumTopic);</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160; </div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                    <span class="comment">//subscription                </span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                    <span class="keywordflow">if</span> (await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a25b5fe723cf5d8493f14e642d95a2462">IsCustomerAllowedToSubscribeAsync</a>(await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">GetCurrentCustomerAsync</a>()))</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                    {</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                        <span class="keywordflow">if</span> (model.Subscribed)</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                        {</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                            var forumSubscription = <span class="keyword">new</span> <a class="code" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_subscription.html">ForumSubscription</a></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                            {</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;                                SubscriptionGuid = Guid.NewGuid(),</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                                <a class="code" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aaa4303994371e93df77abec6d473c7e8">CustomerId</a> = (await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">GetCurrentCustomerAsync</a>()).<a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a968ff99d09af9aec2bb20d13d463c147">Id</a>,</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                                TopicId = forumTopic.Id,</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                                CreatedOnUtc = nowUtc</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                            };</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160; </div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                            await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a137d9ef98770f690212ff0ffdb5449cf">InsertSubscriptionAsync</a>(forumSubscription);</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                        }</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                    }</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160; </div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;                    <span class="keywordflow">return</span> RedirectToRoute(<span class="stringliteral">&quot;TopicSlug&quot;</span>, <span class="keyword">new</span> { <span class="keywordtype">id</span> = forumTopic.Id, <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#a18886e00290b7f1f4711f9277cff7b70">slug</a> = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a1599b5bdfbd8383f22c5244b451339e8">GetTopicSeNameAsync</a>(forumTopic) });</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                }</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                <span class="keywordflow">catch</span> (Exception ex)</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                {</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;                    ModelState.AddModelError(<span class="stringliteral">&quot;&quot;</span>, ex.Message);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;                }</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;            }</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160; </div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;            <span class="comment">//redisplay form</span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;            await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a305a169198795c7662a1bed72a7e55ef">_forumModelFactory</a>.<a class="code" href="interface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory.html#a9c135a879f1f0749c4a54b40c2df3c94">PrepareTopicCreateModelAsync</a>(forum, model);</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;            </div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;            <span class="keywordflow">return</span> View(model);</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings_html_ae569ac588ca02d7f414276fc07cb942c"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ae569ac588ca02d7f414276fc07cb942c">Nop.Core.Domain.Forums.ForumSettings.TopicSubjectMaxLength</a></div><div class="ttdeci">int TopicSubjectMaxLength</div><div class="ttdoc">Gets or sets maximum length of topic subject</div><div class="ttdef"><b>Definition:</b> ForumSettings.cs:58</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_topic_html"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_topic.html">Nop.Core.Domain.Forums.ForumTopic</a></div><div class="ttdoc">Represents a forum topic</div><div class="ttdef"><b>Definition:</b> ForumTopic.cs:9</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_forums_1_1_i_forum_service_html_a108a8d2fb760ab166b2d049c617249bd"><div class="ttname"><a href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a108a8d2fb760ab166b2d049c617249bd">Nop.Services.Forums.IForumService.IsCustomerAllowedToCreateTopicAsync</a></div><div class="ttdeci">Task&lt; bool &gt; IsCustomerAllowedToCreateTopicAsync(Customer customer, Forum forum)</div><div class="ttdoc">Check whether customer is allowed to create new topics</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_forums_1_1_i_forum_service_html_a99b1495d2d86199f27591e085e927c59"><div class="ttname"><a href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a99b1495d2d86199f27591e085e927c59">Nop.Services.Forums.IForumService.InsertTopicAsync</a></div><div class="ttdeci">Task InsertTopicAsync(ForumTopic forumTopic, bool sendNotifications)</div><div class="ttdoc">Inserts a forum topic</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_forums_1_1_i_forum_service_html_aadc246d8e3c9a39398a138a7c937d316"><div class="ttname"><a href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#aadc246d8e3c9a39398a138a7c937d316">Nop.Services.Forums.IForumService.IsCustomerAllowedToSetTopicPriorityAsync</a></div><div class="ttdeci">Task&lt; bool &gt; IsCustomerAllowedToSetTopicPriorityAsync(Customer customer)</div><div class="ttdoc">Check whether customer is allowed to set topic priority</div></div>
<div class="ttc" id="ainterface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory_html_a9c135a879f1f0749c4a54b40c2df3c94"><div class="ttname"><a href="interface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory.html#a9c135a879f1f0749c4a54b40c2df3c94">Nop.Web.Factories.IForumModelFactory.PrepareTopicCreateModelAsync</a></div><div class="ttdeci">Task PrepareTopicCreateModelAsync(Forum forum, EditForumTopicModel model)</div><div class="ttdoc">Prepare the forum topic create model</div></div>
<div class="ttc" id="anamespace_nop_1_1_core_1_1_domain_1_1_forums_html_a6db625e6dfd3d5e946554f7c03c16685"><div class="ttname"><a href="namespace_nop_1_1_core_1_1_domain_1_1_forums.html#a6db625e6dfd3d5e946554f7c03c16685">Nop.Core.Domain.Forums.ForumTopicType</a></div><div class="ttdeci">ForumTopicType</div><div class="ttdoc">Represents a forum topic type</div><div class="ttdef"><b>Definition:</b> ForumTopicType.cs:7</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_messages_html_abb0de155db90b85fcfc3ce9780fd1a23"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_messages.html#abb0de155db90b85fcfc3ce9780fd1a23">Nop.Web.Areas.Admin.Models.Messages.Subject</a></div><div class="ttdeci">string Subject</div><div class="ttdef"><b>Definition:</b> CampaignModel.cs:32</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_models_1_1_boards_html_afff8fb52a54490db5d84c11245db946c"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_models_1_1_boards.html#afff8fb52a54490db5d84c11245db946c">Nop.Web.Models.Boards.TopicTypeId</a></div><div class="ttdeci">int TopicTypeId</div><div class="ttdef"><b>Definition:</b> EditForumTopicModel.cs:31</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#af8f90120ca76196ae1b565f5dd405b15">Nop.Web.Controllers.BoardsController._captchaSettings</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a305a169198795c7662a1bed72a7e55ef">Nop.Web.Controllers.BoardsController._forumModelFactory</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">Nop.Web.Controllers.BoardsController._forumService</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">Nop.Web.Controllers.BoardsController._forumSettings</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a8ffaa0cbabe0eb5657dc0db3a5cbc614">Nop.Web.Controllers.BoardsController._localizationService</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a58f37ce509b0e9593ae248978b289df1">Nop.Web.Controllers.BoardsController._webHelper</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">Nop.Web.Controllers.BoardsController._workContext</a>, <a class="el" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aaa4303994371e93df77abec6d473c7e8">Nop.Plugin.Tax.Avalara.Models.Log.CustomerId</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_security_1_1_captcha_settings.html#a624d172514c1aeaa5bacbcb35267de67">Nop.Core.Domain.Security.CaptchaSettings.Enabled</a>, <a class="el" href="namespace_nop_1_1_web_1_1_models_1_1_boards.html#a173e6b326dffe341f245a9b512f4408c">Nop.Web.Models.Boards.ForumId</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ad3e439f1bdd36ffd08a615b7c9c58ed2">Nop.Core.Domain.Forums.ForumSettings.ForumsEnabled</a>, <a class="el" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">Nop.Core.IWorkContext.GetCurrentCustomerAsync()</a>, <a class="el" href="interface_nop_1_1_core_1_1_i_web_helper.html#ac1757af7d7a624641c0eb47817adf610">Nop.Core.IWebHelper.GetCurrentIpAddress()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a8ab1045619a4018840244ee1f48d7698">Nop.Services.Forums.IForumService.GetForumByIdAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">Nop.Services.Localization.ILocalizationService.GetResourceAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a1599b5bdfbd8383f22c5244b451339e8">Nop.Services.Forums.IForumService.GetTopicSeNameAsync()</a>, <a class="el" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Nop.Core.BaseEntity.Id</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a968ff99d09af9aec2bb20d13d463c147">Nop.Web.Areas.Admin.Models.Orders.Id</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a3d6887908c86b13784eb08cd0035004a">Nop.Services.Forums.IForumService.InsertPostAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a137d9ef98770f690212ff0ffdb5449cf">Nop.Services.Forums.IForumService.InsertSubscriptionAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a99b1495d2d86199f27591e085e927c59">Nop.Services.Forums.IForumService.InsertTopicAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a108a8d2fb760ab166b2d049c617249bd">Nop.Services.Forums.IForumService.IsCustomerAllowedToCreateTopicAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#aadc246d8e3c9a39398a138a7c937d316">Nop.Services.Forums.IForumService.IsCustomerAllowedToSetTopicPriorityAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a25b5fe723cf5d8493f14e642d95a2462">Nop.Services.Forums.IForumService.IsCustomerAllowedToSubscribeAsync()</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ac2f2a29a33db5ac0c7d09488634cdb18">Nop.Core.Domain.Forums.ForumSettings.PostMaxLength</a>, <a class="el" href="interface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory.html#a9c135a879f1f0749c4a54b40c2df3c94">Nop.Web.Factories.IForumModelFactory.PrepareTopicCreateModelAsync()</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_security_1_1_captcha_settings.html#aaa77dc34a57038fa8394a84b700a081d">Nop.Core.Domain.Security.CaptchaSettings.ShowOnForum</a>, <a class="el" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#a18886e00290b7f1f4711f9277cff7b70">Nop.Web.Models.Common.slug</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_messages.html#abb0de155db90b85fcfc3ce9780fd1a23">Nop.Web.Areas.Admin.Models.Messages.Subject</a>, <a class="el" href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a2c7aec4f6e1f8a7946bd8a33c55b2d4d">Nop.Plugin.Misc.Sendinblue.Models.Text</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ae569ac588ca02d7f414276fc07cb942c">Nop.Core.Domain.Forums.ForumSettings.TopicSubjectMaxLength</a>, <a class="el" href="namespace_nop_1_1_web_1_1_models_1_1_boards.html#afff8fb52a54490db5d84c11245db946c">Nop.Web.Models.Boards.TopicTypeId</a> e <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a7df4609c6852a0fe96232523ce846484">Nop.Services.Forums.IForumService.UpdateTopicAsync()</a>.</p>

</div>
</div>
<a id="aedf9e89b077b4c77c00ce3a294ade285"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedf9e89b077b4c77c00ce3a294ade285">&#9670;&nbsp;</a></span>TopicCreate() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;IActionResult&gt; Nop.Web.Controllers.BoardsController.TopicCreate </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        {</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">_forumSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ad3e439f1bdd36ffd08a615b7c9c58ed2">ForumsEnabled</a>)</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                <span class="keywordflow">return</span> RedirectToRoute(<span class="stringliteral">&quot;Homepage&quot;</span>);</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160; </div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;            var forum = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a8ab1045619a4018840244ee1f48d7698">GetForumByIdAsync</a>(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;            <span class="keywordflow">if</span> (forum == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                <span class="keywordflow">return</span> RedirectToRoute(<span class="stringliteral">&quot;Boards&quot;</span>);</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160; </div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;            <span class="keywordflow">if</span> (await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a108a8d2fb760ab166b2d049c617249bd">IsCustomerAllowedToCreateTopicAsync</a>(await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">GetCurrentCustomerAsync</a>(), forum) == <span class="keyword">false</span>)</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                <span class="keywordflow">return</span> Challenge();</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160; </div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;            var model = <span class="keyword">new</span> <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_boards.html#a5f930532008435a561f362edb1a9f2fa">EditForumTopicModel</a>();</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;            await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a305a169198795c7662a1bed72a7e55ef">_forumModelFactory</a>.<a class="code" href="interface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory.html#a9c135a879f1f0749c4a54b40c2df3c94">PrepareTopicCreateModelAsync</a>(forum, model);</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;            <span class="keywordflow">return</span> View(model);</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        }</div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_models_1_1_boards_html_a5f930532008435a561f362edb1a9f2fa"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_models_1_1_boards.html#a5f930532008435a561f362edb1a9f2fa">Nop.Web.Models.Boards.EditForumTopicModel</a></div><div class="ttdeci">partial record EditForumTopicModel</div><div class="ttdef"><b>Definition:</b> EditForumTopicModel.cs:14</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a305a169198795c7662a1bed72a7e55ef">Nop.Web.Controllers.BoardsController._forumModelFactory</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">Nop.Web.Controllers.BoardsController._forumService</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">Nop.Web.Controllers.BoardsController._forumSettings</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">Nop.Web.Controllers.BoardsController._workContext</a>, <a class="el" href="namespace_nop_1_1_web_1_1_models_1_1_boards.html#a5f930532008435a561f362edb1a9f2fa">Nop.Web.Models.Boards.EditForumTopicModel</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ad3e439f1bdd36ffd08a615b7c9c58ed2">Nop.Core.Domain.Forums.ForumSettings.ForumsEnabled</a>, <a class="el" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">Nop.Core.IWorkContext.GetCurrentCustomerAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a8ab1045619a4018840244ee1f48d7698">Nop.Services.Forums.IForumService.GetForumByIdAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a108a8d2fb760ab166b2d049c617249bd">Nop.Services.Forums.IForumService.IsCustomerAllowedToCreateTopicAsync()</a> e <a class="el" href="interface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory.html#a9c135a879f1f0749c4a54b40c2df3c94">Nop.Web.Factories.IForumModelFactory.PrepareTopicCreateModelAsync()</a>.</p>

</div>
</div>
<a id="a9a4fcf71e3b61c41033822b34369aba2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a4fcf71e3b61c41033822b34369aba2">&#9670;&nbsp;</a></span>TopicDelete()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;IActionResult&gt; Nop.Web.Controllers.BoardsController.TopicDelete </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        {</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">_forumSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ad3e439f1bdd36ffd08a615b7c9c58ed2">ForumsEnabled</a>)</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                <span class="keywordflow">return</span> Json(<span class="keyword">new</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                {</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                    redirect = <a class="code" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aafe385d8c4510efed77d5ec1aaff6c1c">Url</a>.RouteUrl(<span class="stringliteral">&quot;Homepage&quot;</span>),</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                });</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160; </div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            var forumTopic = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#abd898201bb2fd3802f89e0c73aa5a045">GetTopicByIdAsync</a>(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;            <span class="keywordflow">if</span> (forumTopic != <span class="keyword">null</span>)</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;            {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                <span class="keywordflow">if</span> (!await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a5e0a1ccf0e6ed0102d316eb727a8468a">IsCustomerAllowedToDeleteTopicAsync</a>(await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">GetCurrentCustomerAsync</a>(), forumTopic))</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                    <span class="keywordflow">return</span> Challenge();</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160; </div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                var forum = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a8ab1045619a4018840244ee1f48d7698">GetForumByIdAsync</a>(forumTopic.ForumId);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160; </div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a540925da89657ee5af44556dbb77d95a">DeleteTopicAsync</a>(forumTopic);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160; </div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                <span class="keywordflow">if</span> (forum != <span class="keyword">null</span>)</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                    <span class="keywordflow">return</span> Json(<span class="keyword">new</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                    {</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                        redirect = <a class="code" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aafe385d8c4510efed77d5ec1aaff6c1c">Url</a>.RouteUrl(<span class="stringliteral">&quot;ForumSlug&quot;</span>, <span class="keyword">new</span> { <span class="keywordtype">id</span> = forum.Id, <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#a18886e00290b7f1f4711f9277cff7b70">slug</a> = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a6ac980df7c566b1391e73d1313180bbb">GetForumSeNameAsync</a>(forum) }),</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                    });</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;            }</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160; </div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;            <span class="keywordflow">return</span> Json(<span class="keyword">new</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;            {</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                redirect = <a class="code" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aafe385d8c4510efed77d5ec1aaff6c1c">Url</a>.RouteUrl(<span class="stringliteral">&quot;Boards&quot;</span>),</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            });</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        }</div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_forums_1_1_i_forum_service_html_a540925da89657ee5af44556dbb77d95a"><div class="ttname"><a href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a540925da89657ee5af44556dbb77d95a">Nop.Services.Forums.IForumService.DeleteTopicAsync</a></div><div class="ttdeci">Task DeleteTopicAsync(ForumTopic forumTopic)</div><div class="ttdoc">Deletes a forum topic</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_forums_1_1_i_forum_service_html_a5e0a1ccf0e6ed0102d316eb727a8468a"><div class="ttname"><a href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a5e0a1ccf0e6ed0102d316eb727a8468a">Nop.Services.Forums.IForumService.IsCustomerAllowedToDeleteTopicAsync</a></div><div class="ttdeci">Task&lt; bool &gt; IsCustomerAllowedToDeleteTopicAsync(Customer customer, ForumTopic topic)</div><div class="ttdoc">Check whether customer is allowed to delete topic</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">Nop.Web.Controllers.BoardsController._forumService</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">Nop.Web.Controllers.BoardsController._forumSettings</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">Nop.Web.Controllers.BoardsController._workContext</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a540925da89657ee5af44556dbb77d95a">Nop.Services.Forums.IForumService.DeleteTopicAsync()</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ad3e439f1bdd36ffd08a615b7c9c58ed2">Nop.Core.Domain.Forums.ForumSettings.ForumsEnabled</a>, <a class="el" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">Nop.Core.IWorkContext.GetCurrentCustomerAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a8ab1045619a4018840244ee1f48d7698">Nop.Services.Forums.IForumService.GetForumByIdAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a6ac980df7c566b1391e73d1313180bbb">Nop.Services.Forums.IForumService.GetForumSeNameAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#abd898201bb2fd3802f89e0c73aa5a045">Nop.Services.Forums.IForumService.GetTopicByIdAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a5e0a1ccf0e6ed0102d316eb727a8468a">Nop.Services.Forums.IForumService.IsCustomerAllowedToDeleteTopicAsync()</a>, <a class="el" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#a18886e00290b7f1f4711f9277cff7b70">Nop.Web.Models.Common.slug</a> e <a class="el" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aafe385d8c4510efed77d5ec1aaff6c1c">Nop.Plugin.Tax.Avalara.Models.Log.Url</a>.</p>

</div>
</div>
<a id="a0cfa8bfb23070c4b15fc7b8e6bec1ff0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cfa8bfb23070c4b15fc7b8e6bec1ff0">&#9670;&nbsp;</a></span>TopicEdit() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;IActionResult&gt; Nop.Web.Controllers.BoardsController.TopicEdit </td>
          <td>(</td>
          <td class="paramtype">EditForumTopicModel&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>captchaValid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        {</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">_forumSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ad3e439f1bdd36ffd08a615b7c9c58ed2">ForumsEnabled</a>)</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                <span class="keywordflow">return</span> RedirectToRoute(<span class="stringliteral">&quot;Homepage&quot;</span>);</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160; </div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;            var forumTopic = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#abd898201bb2fd3802f89e0c73aa5a045">GetTopicByIdAsync</a>(model.Id);</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160; </div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;            <span class="keywordflow">if</span> (forumTopic == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                <span class="keywordflow">return</span> RedirectToRoute(<span class="stringliteral">&quot;Boards&quot;</span>);</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160; </div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;            var forum = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a8ab1045619a4018840244ee1f48d7698">GetForumByIdAsync</a>(forumTopic.ForumId);</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;            <span class="keywordflow">if</span> (forum == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;                <span class="keywordflow">return</span> RedirectToRoute(<span class="stringliteral">&quot;Boards&quot;</span>);</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160; </div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;            <span class="comment">//validate CAPTCHA</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#af8f90120ca76196ae1b565f5dd405b15">_captchaSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_security_1_1_captcha_settings.html#a624d172514c1aeaa5bacbcb35267de67">Enabled</a> &amp;&amp; <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#af8f90120ca76196ae1b565f5dd405b15">_captchaSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_security_1_1_captcha_settings.html#aaa77dc34a57038fa8394a84b700a081d">ShowOnForum</a> &amp;&amp; !captchaValid)</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;            {</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                ModelState.AddModelError(<span class="stringliteral">&quot;&quot;</span>, await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a8ffaa0cbabe0eb5657dc0db3a5cbc614">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;Common.WrongCaptchaMessage&quot;</span>));</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;            }</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160; </div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;            <span class="keywordflow">if</span> (ModelState.IsValid)</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;            {</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                <span class="keywordflow">try</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                {</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                    <span class="keywordflow">if</span> (!await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#ac2db947d2d8bc6956539a144395c33cb">IsCustomerAllowedToEditTopicAsync</a>(await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">GetCurrentCustomerAsync</a>(), forumTopic))</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                        <span class="keywordflow">return</span> Challenge();</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160; </div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                    var subject = model.Subject;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                    var maxSubjectLength = <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">_forumSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ae569ac588ca02d7f414276fc07cb942c">TopicSubjectMaxLength</a>;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                    <span class="keywordflow">if</span> (maxSubjectLength &gt; 0 &amp;&amp; subject.Length &gt; maxSubjectLength)</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                    {</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                        subject = subject[0..maxSubjectLength];</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                    }</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160; </div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                    var text = model.Text;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                    var maxPostLength = <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">_forumSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ac2f2a29a33db5ac0c7d09488634cdb18">PostMaxLength</a>;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                    <span class="keywordflow">if</span> (maxPostLength &gt; 0 &amp;&amp; text.Length &gt; maxPostLength)</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                        text = text[0..maxPostLength];</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160; </div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                    var topicType = <a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_forums.html#a6db625e6dfd3d5e946554f7c03c16685">ForumTopicType</a>.Normal;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                    var ipAddress = <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a58f37ce509b0e9593ae248978b289df1">_webHelper</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_web_helper.html#ac1757af7d7a624641c0eb47817adf610">GetCurrentIpAddress</a>();</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                    var nowUtc = DateTime.UtcNow;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160; </div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                    <span class="keywordflow">if</span> (await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#aadc246d8e3c9a39398a138a7c937d316">IsCustomerAllowedToSetTopicPriorityAsync</a>(await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">GetCurrentCustomerAsync</a>()))</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                        topicType = (<a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_forums.html#a6db625e6dfd3d5e946554f7c03c16685">ForumTopicType</a>)Enum.ToObject(typeof(<a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_forums.html#a6db625e6dfd3d5e946554f7c03c16685">ForumTopicType</a>), model.TopicTypeId);</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160; </div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;                    <span class="comment">//forum topic</span></div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                    forumTopic.TopicTypeId = (int)topicType;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;                    forumTopic.Subject = subject;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                    forumTopic.UpdatedOnUtc = nowUtc;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                    await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a7df4609c6852a0fe96232523ce846484">UpdateTopicAsync</a>(forumTopic);</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160; </div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                    <span class="comment">//forum post                </span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                    var firstPost = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a8a50e8265048eee0e581a63206c5dc6f">GetFirstPostAsync</a>(forumTopic);</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                    <span class="keywordflow">if</span> (firstPost != <span class="keyword">null</span>)</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                    {</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                        firstPost.Text = text;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;                        firstPost.UpdatedOnUtc = nowUtc;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;                        await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#af76f1cafe896390d121114df944c2256">UpdatePostAsync</a>(firstPost);</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;                    }</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;                    {</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                        <span class="comment">//error (not possible)</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                        firstPost = <span class="keyword">new</span> <a class="code" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_post.html">ForumPost</a></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                        {</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                            TopicId = forumTopic.<a class="code" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Id</a>,</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                            <a class="code" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aaa4303994371e93df77abec6d473c7e8">CustomerId</a> = forumTopic.CustomerId,</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                            <a class="code" href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a2c7aec4f6e1f8a7946bd8a33c55b2d4d">Text</a> = text,</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                            IPAddress = ipAddress,</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                            UpdatedOnUtc = nowUtc</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                        };</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160; </div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                        await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a3d6887908c86b13784eb08cd0035004a">InsertPostAsync</a>(firstPost, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                    }</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160; </div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                    <span class="comment">//subscription</span></div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                    <span class="keywordflow">if</span> (await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a25b5fe723cf5d8493f14e642d95a2462">IsCustomerAllowedToSubscribeAsync</a>(await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">GetCurrentCustomerAsync</a>()))</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                    {</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                        var forumSubscription = (await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a7b36755f1880ca8f367db8d6228c3566">GetAllSubscriptionsAsync</a>((await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">GetCurrentCustomerAsync</a>()).<a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a968ff99d09af9aec2bb20d13d463c147">Id</a>,</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                            0, forumTopic.Id, 0, 1)).FirstOrDefault();</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                        <span class="keywordflow">if</span> (model.Subscribed)</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                        {</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                            <span class="keywordflow">if</span> (forumSubscription == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;                            {</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                                forumSubscription = <span class="keyword">new</span> <a class="code" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_subscription.html">ForumSubscription</a></div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                                {</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;                                    SubscriptionGuid = Guid.NewGuid(),</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;                                    <a class="code" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aaa4303994371e93df77abec6d473c7e8">CustomerId</a> = (await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">GetCurrentCustomerAsync</a>()).<a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a968ff99d09af9aec2bb20d13d463c147">Id</a>,</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                                    TopicId = forumTopic.Id,</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                                    CreatedOnUtc = nowUtc</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                                };</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160; </div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;                                await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a137d9ef98770f690212ff0ffdb5449cf">InsertSubscriptionAsync</a>(forumSubscription);</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;                            }</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                        }</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;                        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;                        {</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;                            <span class="keywordflow">if</span> (forumSubscription != <span class="keyword">null</span>)</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;                            {</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;                                await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a82c19702303d2c91c9a78b2b38c32ed7">DeleteSubscriptionAsync</a>(forumSubscription);</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                            }</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                        }</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                    }</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160; </div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;                    <span class="comment">// redirect to the topic page with the topic slug</span></div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;                    <span class="keywordflow">return</span> RedirectToRoute(<span class="stringliteral">&quot;TopicSlug&quot;</span>, <span class="keyword">new</span> { <span class="keywordtype">id</span> = forumTopic.Id, <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#a18886e00290b7f1f4711f9277cff7b70">slug</a> = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a1599b5bdfbd8383f22c5244b451339e8">GetTopicSeNameAsync</a>(forumTopic) });</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                }</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                <span class="keywordflow">catch</span> (Exception ex)</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                {</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                    ModelState.AddModelError(<span class="stringliteral">&quot;&quot;</span>, ex.Message);</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;                }</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;            }</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160; </div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;            <span class="comment">//redisplay form</span></div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;            await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a305a169198795c7662a1bed72a7e55ef">_forumModelFactory</a>.<a class="code" href="interface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory.html#a3e2d46752fe3af2c308f8e3c3f888167">PrepareTopicEditModelAsync</a>(forumTopic, model, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160; </div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;            <span class="keywordflow">return</span> View(model);</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        }</div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_forums_1_1_i_forum_service_html_a8a50e8265048eee0e581a63206c5dc6f"><div class="ttname"><a href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a8a50e8265048eee0e581a63206c5dc6f">Nop.Services.Forums.IForumService.GetFirstPostAsync</a></div><div class="ttdeci">Task&lt; ForumPost &gt; GetFirstPostAsync(ForumTopic forumTopic)</div><div class="ttdoc">Get first post</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_forums_1_1_i_forum_service_html_ac2db947d2d8bc6956539a144395c33cb"><div class="ttname"><a href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#ac2db947d2d8bc6956539a144395c33cb">Nop.Services.Forums.IForumService.IsCustomerAllowedToEditTopicAsync</a></div><div class="ttdeci">Task&lt; bool &gt; IsCustomerAllowedToEditTopicAsync(Customer customer, ForumTopic topic)</div><div class="ttdoc">Check whether customer is allowed to edit topic</div></div>
<div class="ttc" id="ainterface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory_html_a3e2d46752fe3af2c308f8e3c3f888167"><div class="ttname"><a href="interface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory.html#a3e2d46752fe3af2c308f8e3c3f888167">Nop.Web.Factories.IForumModelFactory.PrepareTopicEditModelAsync</a></div><div class="ttdeci">Task PrepareTopicEditModelAsync(ForumTopic forumTopic, EditForumTopicModel model, bool excludeProperties)</div><div class="ttdoc">Prepare the forum topic edit model</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#af8f90120ca76196ae1b565f5dd405b15">Nop.Web.Controllers.BoardsController._captchaSettings</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a305a169198795c7662a1bed72a7e55ef">Nop.Web.Controllers.BoardsController._forumModelFactory</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">Nop.Web.Controllers.BoardsController._forumService</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">Nop.Web.Controllers.BoardsController._forumSettings</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a8ffaa0cbabe0eb5657dc0db3a5cbc614">Nop.Web.Controllers.BoardsController._localizationService</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a58f37ce509b0e9593ae248978b289df1">Nop.Web.Controllers.BoardsController._webHelper</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">Nop.Web.Controllers.BoardsController._workContext</a>, <a class="el" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aaa4303994371e93df77abec6d473c7e8">Nop.Plugin.Tax.Avalara.Models.Log.CustomerId</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a82c19702303d2c91c9a78b2b38c32ed7">Nop.Services.Forums.IForumService.DeleteSubscriptionAsync()</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_security_1_1_captcha_settings.html#a624d172514c1aeaa5bacbcb35267de67">Nop.Core.Domain.Security.CaptchaSettings.Enabled</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ad3e439f1bdd36ffd08a615b7c9c58ed2">Nop.Core.Domain.Forums.ForumSettings.ForumsEnabled</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a7b36755f1880ca8f367db8d6228c3566">Nop.Services.Forums.IForumService.GetAllSubscriptionsAsync()</a>, <a class="el" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">Nop.Core.IWorkContext.GetCurrentCustomerAsync()</a>, <a class="el" href="interface_nop_1_1_core_1_1_i_web_helper.html#ac1757af7d7a624641c0eb47817adf610">Nop.Core.IWebHelper.GetCurrentIpAddress()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a8a50e8265048eee0e581a63206c5dc6f">Nop.Services.Forums.IForumService.GetFirstPostAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a8ab1045619a4018840244ee1f48d7698">Nop.Services.Forums.IForumService.GetForumByIdAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">Nop.Services.Localization.ILocalizationService.GetResourceAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#abd898201bb2fd3802f89e0c73aa5a045">Nop.Services.Forums.IForumService.GetTopicByIdAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a1599b5bdfbd8383f22c5244b451339e8">Nop.Services.Forums.IForumService.GetTopicSeNameAsync()</a>, <a class="el" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Nop.Core.BaseEntity.Id</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a968ff99d09af9aec2bb20d13d463c147">Nop.Web.Areas.Admin.Models.Orders.Id</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a3d6887908c86b13784eb08cd0035004a">Nop.Services.Forums.IForumService.InsertPostAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a137d9ef98770f690212ff0ffdb5449cf">Nop.Services.Forums.IForumService.InsertSubscriptionAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#ac2db947d2d8bc6956539a144395c33cb">Nop.Services.Forums.IForumService.IsCustomerAllowedToEditTopicAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#aadc246d8e3c9a39398a138a7c937d316">Nop.Services.Forums.IForumService.IsCustomerAllowedToSetTopicPriorityAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a25b5fe723cf5d8493f14e642d95a2462">Nop.Services.Forums.IForumService.IsCustomerAllowedToSubscribeAsync()</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ac2f2a29a33db5ac0c7d09488634cdb18">Nop.Core.Domain.Forums.ForumSettings.PostMaxLength</a>, <a class="el" href="interface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory.html#a3e2d46752fe3af2c308f8e3c3f888167">Nop.Web.Factories.IForumModelFactory.PrepareTopicEditModelAsync()</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_security_1_1_captcha_settings.html#aaa77dc34a57038fa8394a84b700a081d">Nop.Core.Domain.Security.CaptchaSettings.ShowOnForum</a>, <a class="el" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#a18886e00290b7f1f4711f9277cff7b70">Nop.Web.Models.Common.slug</a>, <a class="el" href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a2c7aec4f6e1f8a7946bd8a33c55b2d4d">Nop.Plugin.Misc.Sendinblue.Models.Text</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ae569ac588ca02d7f414276fc07cb942c">Nop.Core.Domain.Forums.ForumSettings.TopicSubjectMaxLength</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#af76f1cafe896390d121114df944c2256">Nop.Services.Forums.IForumService.UpdatePostAsync()</a> e <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a7df4609c6852a0fe96232523ce846484">Nop.Services.Forums.IForumService.UpdateTopicAsync()</a>.</p>

</div>
</div>
<a id="a027617e1e5cbda29b0e5686caf143174"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a027617e1e5cbda29b0e5686caf143174">&#9670;&nbsp;</a></span>TopicEdit() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;IActionResult&gt; Nop.Web.Controllers.BoardsController.TopicEdit </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        {</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">_forumSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ad3e439f1bdd36ffd08a615b7c9c58ed2">ForumsEnabled</a>)</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                <span class="keywordflow">return</span> RedirectToRoute(<span class="stringliteral">&quot;Homepage&quot;</span>);</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160; </div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;            var forumTopic = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#abd898201bb2fd3802f89e0c73aa5a045">GetTopicByIdAsync</a>(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;            <span class="keywordflow">if</span> (forumTopic == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                <span class="keywordflow">return</span> RedirectToRoute(<span class="stringliteral">&quot;Boards&quot;</span>);</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160; </div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;            <span class="keywordflow">if</span> (!await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#ac2db947d2d8bc6956539a144395c33cb">IsCustomerAllowedToEditTopicAsync</a>(await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">GetCurrentCustomerAsync</a>(), forumTopic))</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                <span class="keywordflow">return</span> Challenge();</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160; </div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;            var model = <span class="keyword">new</span> <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_boards.html#a5f930532008435a561f362edb1a9f2fa">EditForumTopicModel</a>();</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;            await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a305a169198795c7662a1bed72a7e55ef">_forumModelFactory</a>.<a class="code" href="interface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory.html#a3e2d46752fe3af2c308f8e3c3f888167">PrepareTopicEditModelAsync</a>(forumTopic, model, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;            </div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;            <span class="keywordflow">return</span> View(model);</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a305a169198795c7662a1bed72a7e55ef">Nop.Web.Controllers.BoardsController._forumModelFactory</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">Nop.Web.Controllers.BoardsController._forumService</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">Nop.Web.Controllers.BoardsController._forumSettings</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">Nop.Web.Controllers.BoardsController._workContext</a>, <a class="el" href="namespace_nop_1_1_web_1_1_models_1_1_boards.html#a5f930532008435a561f362edb1a9f2fa">Nop.Web.Models.Boards.EditForumTopicModel</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ad3e439f1bdd36ffd08a615b7c9c58ed2">Nop.Core.Domain.Forums.ForumSettings.ForumsEnabled</a>, <a class="el" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">Nop.Core.IWorkContext.GetCurrentCustomerAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#abd898201bb2fd3802f89e0c73aa5a045">Nop.Services.Forums.IForumService.GetTopicByIdAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#ac2db947d2d8bc6956539a144395c33cb">Nop.Services.Forums.IForumService.IsCustomerAllowedToEditTopicAsync()</a> e <a class="el" href="interface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory.html#a3e2d46752fe3af2c308f8e3c3f888167">Nop.Web.Factories.IForumModelFactory.PrepareTopicEditModelAsync()</a>.</p>

</div>
</div>
<a id="a866a4b9c59895233ef7ebd68074614a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a866a4b9c59895233ef7ebd68074614a3">&#9670;&nbsp;</a></span>TopicMove() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;IActionResult&gt; Nop.Web.Controllers.BoardsController.TopicMove </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        {</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">_forumSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ad3e439f1bdd36ffd08a615b7c9c58ed2">ForumsEnabled</a>)</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                <span class="keywordflow">return</span> RedirectToRoute(<span class="stringliteral">&quot;Homepage&quot;</span>);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160; </div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;            var forumTopic = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#abd898201bb2fd3802f89e0c73aa5a045">GetTopicByIdAsync</a>(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;            <span class="keywordflow">if</span> (forumTopic == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                <span class="keywordflow">return</span> RedirectToRoute(<span class="stringliteral">&quot;Boards&quot;</span>);</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160; </div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;            var model = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a305a169198795c7662a1bed72a7e55ef">_forumModelFactory</a>.<a class="code" href="interface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory.html#ad1563edf6458effd3107789b40a429af">PrepareTopicMoveAsync</a>(forumTopic);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;            </div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;            <span class="keywordflow">return</span> View(model);</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        }</div>
<div class="ttc" id="ainterface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory_html_ad1563edf6458effd3107789b40a429af"><div class="ttname"><a href="interface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory.html#ad1563edf6458effd3107789b40a429af">Nop.Web.Factories.IForumModelFactory.PrepareTopicMoveAsync</a></div><div class="ttdeci">Task&lt; TopicMoveModel &gt; PrepareTopicMoveAsync(ForumTopic forumTopic)</div><div class="ttdoc">Prepare the topic move model</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a305a169198795c7662a1bed72a7e55ef">Nop.Web.Controllers.BoardsController._forumModelFactory</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">Nop.Web.Controllers.BoardsController._forumService</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">Nop.Web.Controllers.BoardsController._forumSettings</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ad3e439f1bdd36ffd08a615b7c9c58ed2">Nop.Core.Domain.Forums.ForumSettings.ForumsEnabled</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#abd898201bb2fd3802f89e0c73aa5a045">Nop.Services.Forums.IForumService.GetTopicByIdAsync()</a> e <a class="el" href="interface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory.html#ad1563edf6458effd3107789b40a429af">Nop.Web.Factories.IForumModelFactory.PrepareTopicMoveAsync()</a>.</p>

</div>
</div>
<a id="ac1894cedc4a2bbadc7a53e7624ff08c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1894cedc4a2bbadc7a53e7624ff08c1">&#9670;&nbsp;</a></span>TopicMove() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;IActionResult&gt; Nop.Web.Controllers.BoardsController.TopicMove </td>
          <td>(</td>
          <td class="paramtype">TopicMoveModel&#160;</td>
          <td class="paramname"><em>model</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        {</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">_forumSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ad3e439f1bdd36ffd08a615b7c9c58ed2">ForumsEnabled</a>)</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                <span class="keywordflow">return</span> RedirectToRoute(<span class="stringliteral">&quot;Homepage&quot;</span>);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160; </div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;            var forumTopic = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#abd898201bb2fd3802f89e0c73aa5a045">GetTopicByIdAsync</a>(model.Id);</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160; </div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;            <span class="keywordflow">if</span> (forumTopic == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                <span class="keywordflow">return</span> RedirectToRoute(<span class="stringliteral">&quot;Boards&quot;</span>);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160; </div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            var newForumId = model.ForumSelected;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;            var forum = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a8ab1045619a4018840244ee1f48d7698">GetForumByIdAsync</a>(newForumId);</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160; </div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;            <span class="keywordflow">if</span> (forum != <span class="keyword">null</span> &amp;&amp; forumTopic.ForumId != newForumId)</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#aeff42a1d307782ed6576e12d7ddd68b0">MoveTopicAsync</a>(forumTopic.Id, newForumId);</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160; </div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;            <span class="keywordflow">return</span> RedirectToRoute(<span class="stringliteral">&quot;TopicSlug&quot;</span>, <span class="keyword">new</span> { <span class="keywordtype">id</span> = forumTopic.Id, <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#a18886e00290b7f1f4711f9277cff7b70">slug</a> = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a1599b5bdfbd8383f22c5244b451339e8">GetTopicSeNameAsync</a>(forumTopic) });</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        }</div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_forums_1_1_i_forum_service_html_aeff42a1d307782ed6576e12d7ddd68b0"><div class="ttname"><a href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#aeff42a1d307782ed6576e12d7ddd68b0">Nop.Services.Forums.IForumService.MoveTopicAsync</a></div><div class="ttdeci">Task&lt; ForumTopic &gt; MoveTopicAsync(int forumTopicId, int newForumId)</div><div class="ttdoc">Moves the forum topic</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">Nop.Web.Controllers.BoardsController._forumService</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a6e56e60544bf5517e0ba2a3bbd93b029">Nop.Web.Controllers.BoardsController._forumSettings</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html#ad3e439f1bdd36ffd08a615b7c9c58ed2">Nop.Core.Domain.Forums.ForumSettings.ForumsEnabled</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a8ab1045619a4018840244ee1f48d7698">Nop.Services.Forums.IForumService.GetForumByIdAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#abd898201bb2fd3802f89e0c73aa5a045">Nop.Services.Forums.IForumService.GetTopicByIdAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a1599b5bdfbd8383f22c5244b451339e8">Nop.Services.Forums.IForumService.GetTopicSeNameAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#aeff42a1d307782ed6576e12d7ddd68b0">Nop.Services.Forums.IForumService.MoveTopicAsync()</a> e <a class="el" href="namespace_nop_1_1_web_1_1_models_1_1_common.html#a18886e00290b7f1f4711f9277cff7b70">Nop.Web.Models.Common.slug</a>.</p>

</div>
</div>
<a id="ae8102bd2cd6d2d04c9b781aadaaa33d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8102bd2cd6d2d04c9b781aadaaa33d5">&#9670;&nbsp;</a></span>TopicWatch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;IActionResult&gt; Nop.Web.Controllers.BoardsController.TopicWatch </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        {</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            var watchTopic = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a8ffaa0cbabe0eb5657dc0db3a5cbc614">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;Forum.WatchTopic&quot;</span>);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            var unwatchTopic = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a8ffaa0cbabe0eb5657dc0db3a5cbc614">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;Forum.UnwatchTopic&quot;</span>);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;            var returnText = watchTopic;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160; </div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;            var forumTopic = await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#abd898201bb2fd3802f89e0c73aa5a045">GetTopicByIdAsync</a>(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;            <span class="keywordflow">if</span> (forumTopic == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                <span class="keywordflow">return</span> Json(<span class="keyword">new</span> { <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_boards.html#a0d4f4a9a8b74956854d631b26a3fd658">Subscribed</a> = <span class="keyword">false</span>, <a class="code" href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a2c7aec4f6e1f8a7946bd8a33c55b2d4d">Text</a> = returnText, <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_boards.html#adebb6f969d4fe48fe21482fbb2d906ca">Error</a> = <span class="keyword">true</span> });</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160; </div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            <span class="keywordflow">if</span> (!await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a25b5fe723cf5d8493f14e642d95a2462">IsCustomerAllowedToSubscribeAsync</a>(await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">GetCurrentCustomerAsync</a>()))</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                <span class="keywordflow">return</span> Json(<span class="keyword">new</span> { <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_boards.html#a0d4f4a9a8b74956854d631b26a3fd658">Subscribed</a> = <span class="keyword">false</span>, <a class="code" href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a2c7aec4f6e1f8a7946bd8a33c55b2d4d">Text</a> = returnText, <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_boards.html#adebb6f969d4fe48fe21482fbb2d906ca">Error</a> = <span class="keyword">true</span> });</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160; </div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            var forumSubscription = (await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a7b36755f1880ca8f367db8d6228c3566">GetAllSubscriptionsAsync</a>((await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">GetCurrentCustomerAsync</a>()).Id,</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                0, forumTopic.Id, 0, 1)).FirstOrDefault();</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160; </div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            <span class="keywordtype">bool</span> subscribed;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;            <span class="keywordflow">if</span> (forumSubscription == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            {</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                forumSubscription = <span class="keyword">new</span> <a class="code" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_subscription.html">ForumSubscription</a></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                {</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                    SubscriptionGuid = Guid.NewGuid(),</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                    <a class="code" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aaa4303994371e93df77abec6d473c7e8">CustomerId</a> = (await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">GetCurrentCustomerAsync</a>()).<a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a968ff99d09af9aec2bb20d13d463c147">Id</a>,</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                    TopicId = forumTopic.Id,</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                    CreatedOnUtc = DateTime.UtcNow</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                };</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a137d9ef98770f690212ff0ffdb5449cf">InsertSubscriptionAsync</a>(forumSubscription);</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                subscribed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                returnText = unwatchTopic;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            }</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            {</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                await <a class="code" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">_forumService</a>.<a class="code" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a82c19702303d2c91c9a78b2b38c32ed7">DeleteSubscriptionAsync</a>(forumSubscription);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                subscribed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            }</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160; </div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;            <span class="keywordflow">return</span> Json(<span class="keyword">new</span> { <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_boards.html#a0d4f4a9a8b74956854d631b26a3fd658">Subscribed</a> = subscribed, <a class="code" href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a2c7aec4f6e1f8a7946bd8a33c55b2d4d">Text</a> = returnText, <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_boards.html#adebb6f969d4fe48fe21482fbb2d906ca">Error</a> = <span class="keyword">false</span> });</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1708b52391f8aae1ddb3e892371f4e08">Nop.Web.Controllers.BoardsController._forumService</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a8ffaa0cbabe0eb5657dc0db3a5cbc614">Nop.Web.Controllers.BoardsController._localizationService</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a8644f369ceda2614769497e3ab56e3">Nop.Web.Controllers.BoardsController._workContext</a>, <a class="el" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aaa4303994371e93df77abec6d473c7e8">Nop.Plugin.Tax.Avalara.Models.Log.CustomerId</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a82c19702303d2c91c9a78b2b38c32ed7">Nop.Services.Forums.IForumService.DeleteSubscriptionAsync()</a>, <a class="el" href="namespace_nop_1_1_web_1_1_models_1_1_boards.html#adebb6f969d4fe48fe21482fbb2d906ca">Nop.Web.Models.Boards.Error</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a7b36755f1880ca8f367db8d6228c3566">Nop.Services.Forums.IForumService.GetAllSubscriptionsAsync()</a>, <a class="el" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">Nop.Core.IWorkContext.GetCurrentCustomerAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">Nop.Services.Localization.ILocalizationService.GetResourceAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#abd898201bb2fd3802f89e0c73aa5a045">Nop.Services.Forums.IForumService.GetTopicByIdAsync()</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a968ff99d09af9aec2bb20d13d463c147">Nop.Web.Areas.Admin.Models.Orders.Id</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a137d9ef98770f690212ff0ffdb5449cf">Nop.Services.Forums.IForumService.InsertSubscriptionAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html#a25b5fe723cf5d8493f14e642d95a2462">Nop.Services.Forums.IForumService.IsCustomerAllowedToSubscribeAsync()</a>, <a class="el" href="namespace_nop_1_1_web_1_1_models_1_1_boards.html#a0d4f4a9a8b74956854d631b26a3fd658">Nop.Web.Models.Boards.Subscribed</a> e <a class="el" href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a2c7aec4f6e1f8a7946bd8a33c55b2d4d">Nop.Plugin.Misc.Sendinblue.Models.Text</a>.</p>

</div>
</div>
<h2 class="groupheader">Documentação dos dados membro</h2>
<a id="af8f90120ca76196ae1b565f5dd405b15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8f90120ca76196ae1b565f5dd405b15">&#9670;&nbsp;</a></span>_captchaSettings</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_security_1_1_captcha_settings.html">CaptchaSettings</a> Nop.Web.Controllers.BoardsController._captchaSettings</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#aeb1f62937bbfc60e0acf54498ac55df9">Nop.Web.Controllers.BoardsController.BoardsController()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a15032b4ef6122000e0261bb8fbf6e546">Nop.Web.Controllers.BoardsController.PostCreate()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1237fc9d935f7948f80a5e473878639e">Nop.Web.Controllers.BoardsController.PostEdit()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a60f8c61cd3a8fd1d2811ec33a79dae67">Nop.Web.Controllers.BoardsController.TopicCreate()</a> e <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a0cfa8bfb23070c4b15fc7b8e6bec1ff0">Nop.Web.Controllers.BoardsController.TopicEdit()</a>.</p>

</div>
</div>
<a id="a54762e5570aa7cb5c06c93f50ac8b3fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54762e5570aa7cb5c06c93f50ac8b3fd">&#9670;&nbsp;</a></span>_customerService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html">ICustomerService</a> Nop.Web.Controllers.BoardsController._customerService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#aeb1f62937bbfc60e0acf54498ac55df9">Nop.Web.Controllers.BoardsController.BoardsController()</a> e <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a31fb70234a20c412bb9fbbb1afa2d0fc">Nop.Web.Controllers.BoardsController.PostVote()</a>.</p>

</div>
</div>
<a id="a305a169198795c7662a1bed72a7e55ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a305a169198795c7662a1bed72a7e55ef">&#9670;&nbsp;</a></span>_forumModelFactory</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_web_1_1_factories_1_1_i_forum_model_factory.html">IForumModelFactory</a> Nop.Web.Controllers.BoardsController._forumModelFactory</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a730f7ca8963389e623efd90105111881">Nop.Web.Controllers.BoardsController.ActiveDiscussions()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#aeb1f62937bbfc60e0acf54498ac55df9">Nop.Web.Controllers.BoardsController.BoardsController()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a0eede466f71407af80a3f8330f89e649">Nop.Web.Controllers.BoardsController.CustomerForumSubscriptions()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a47c9133b5e38e548a165fc0911e598">Nop.Web.Controllers.BoardsController.Forum()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a423ab6f290a24b560f31018caf72e00e">Nop.Web.Controllers.BoardsController.ForumGroup()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#ae1ac3bfb915e012487e8af567dd39014">Nop.Web.Controllers.BoardsController.Index()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a24a562273c13ae420e13074fcb4158ce">Nop.Web.Controllers.BoardsController.PostCreate()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#aaf05b6668cf3150c04f68c30e17a2da4">Nop.Web.Controllers.BoardsController.PostEdit()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#abaa68d10b2595c55f2c0adfd742f7854">Nop.Web.Controllers.BoardsController.Search()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a166af8d3d7556215139e5e25e562d9e4">Nop.Web.Controllers.BoardsController.Topic()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#aedf9e89b077b4c77c00ce3a294ade285">Nop.Web.Controllers.BoardsController.TopicCreate()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a027617e1e5cbda29b0e5686caf143174">Nop.Web.Controllers.BoardsController.TopicEdit()</a> e <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a866a4b9c59895233ef7ebd68074614a3">Nop.Web.Controllers.BoardsController.TopicMove()</a>.</p>

</div>
</div>
<a id="a1708b52391f8aae1ddb3e892371f4e08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1708b52391f8aae1ddb3e892371f4e08">&#9670;&nbsp;</a></span>_forumService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_forums_1_1_i_forum_service.html">IForumService</a> Nop.Web.Controllers.BoardsController._forumService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a0129bbdb3c4901213c2f644b61524cae">Nop.Web.Controllers.BoardsController.ActiveDiscussionsRss()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#aeb1f62937bbfc60e0acf54498ac55df9">Nop.Web.Controllers.BoardsController.BoardsController()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#aaf80e3eb6b3d09a17da8edc3d82a2f12">Nop.Web.Controllers.BoardsController.CustomerForumSubscriptionsPOST()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a47c9133b5e38e548a165fc0911e598">Nop.Web.Controllers.BoardsController.Forum()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a423ab6f290a24b560f31018caf72e00e">Nop.Web.Controllers.BoardsController.ForumGroup()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#aca219ca64297a59166908ec7c88d4b4f">Nop.Web.Controllers.BoardsController.ForumRss()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a3d703a6f829937c2bbdc0abaeb7b9f22">Nop.Web.Controllers.BoardsController.ForumWatch()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a24a562273c13ae420e13074fcb4158ce">Nop.Web.Controllers.BoardsController.PostCreate()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a0bd6173cd0fbd8d4c218eafcf8ab63c7">Nop.Web.Controllers.BoardsController.PostDelete()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#aaf05b6668cf3150c04f68c30e17a2da4">Nop.Web.Controllers.BoardsController.PostEdit()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a31fb70234a20c412bb9fbbb1afa2d0fc">Nop.Web.Controllers.BoardsController.PostVote()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a166af8d3d7556215139e5e25e562d9e4">Nop.Web.Controllers.BoardsController.Topic()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#aedf9e89b077b4c77c00ce3a294ade285">Nop.Web.Controllers.BoardsController.TopicCreate()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a9a4fcf71e3b61c41033822b34369aba2">Nop.Web.Controllers.BoardsController.TopicDelete()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a027617e1e5cbda29b0e5686caf143174">Nop.Web.Controllers.BoardsController.TopicEdit()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a866a4b9c59895233ef7ebd68074614a3">Nop.Web.Controllers.BoardsController.TopicMove()</a> e <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#ae8102bd2cd6d2d04c9b781aadaaa33d5">Nop.Web.Controllers.BoardsController.TopicWatch()</a>.</p>

</div>
</div>
<a id="a6e56e60544bf5517e0ba2a3bbd93b029"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e56e60544bf5517e0ba2a3bbd93b029">&#9670;&nbsp;</a></span>_forumSettings</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_forums_1_1_forum_settings.html">ForumSettings</a> Nop.Web.Controllers.BoardsController._forumSettings</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a730f7ca8963389e623efd90105111881">Nop.Web.Controllers.BoardsController.ActiveDiscussions()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a0129bbdb3c4901213c2f644b61524cae">Nop.Web.Controllers.BoardsController.ActiveDiscussionsRss()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#aeb1f62937bbfc60e0acf54498ac55df9">Nop.Web.Controllers.BoardsController.BoardsController()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a0eede466f71407af80a3f8330f89e649">Nop.Web.Controllers.BoardsController.CustomerForumSubscriptions()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a7a47c9133b5e38e548a165fc0911e598">Nop.Web.Controllers.BoardsController.Forum()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a423ab6f290a24b560f31018caf72e00e">Nop.Web.Controllers.BoardsController.ForumGroup()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#aca219ca64297a59166908ec7c88d4b4f">Nop.Web.Controllers.BoardsController.ForumRss()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#ae1ac3bfb915e012487e8af567dd39014">Nop.Web.Controllers.BoardsController.Index()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a24a562273c13ae420e13074fcb4158ce">Nop.Web.Controllers.BoardsController.PostCreate()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a0bd6173cd0fbd8d4c218eafcf8ab63c7">Nop.Web.Controllers.BoardsController.PostDelete()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#aaf05b6668cf3150c04f68c30e17a2da4">Nop.Web.Controllers.BoardsController.PostEdit()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a31fb70234a20c412bb9fbbb1afa2d0fc">Nop.Web.Controllers.BoardsController.PostVote()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#abaa68d10b2595c55f2c0adfd742f7854">Nop.Web.Controllers.BoardsController.Search()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a166af8d3d7556215139e5e25e562d9e4">Nop.Web.Controllers.BoardsController.Topic()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#aedf9e89b077b4c77c00ce3a294ade285">Nop.Web.Controllers.BoardsController.TopicCreate()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a9a4fcf71e3b61c41033822b34369aba2">Nop.Web.Controllers.BoardsController.TopicDelete()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a027617e1e5cbda29b0e5686caf143174">Nop.Web.Controllers.BoardsController.TopicEdit()</a> e <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a866a4b9c59895233ef7ebd68074614a3">Nop.Web.Controllers.BoardsController.TopicMove()</a>.</p>

</div>
</div>
<a id="a8ffaa0cbabe0eb5657dc0db3a5cbc614"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ffaa0cbabe0eb5657dc0db3a5cbc614">&#9670;&nbsp;</a></span>_localizationService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html">ILocalizationService</a> Nop.Web.Controllers.BoardsController._localizationService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a0129bbdb3c4901213c2f644b61524cae">Nop.Web.Controllers.BoardsController.ActiveDiscussionsRss()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#aeb1f62937bbfc60e0acf54498ac55df9">Nop.Web.Controllers.BoardsController.BoardsController()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#aca219ca64297a59166908ec7c88d4b4f">Nop.Web.Controllers.BoardsController.ForumRss()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a3d703a6f829937c2bbdc0abaeb7b9f22">Nop.Web.Controllers.BoardsController.ForumWatch()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a15032b4ef6122000e0261bb8fbf6e546">Nop.Web.Controllers.BoardsController.PostCreate()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a1237fc9d935f7948f80a5e473878639e">Nop.Web.Controllers.BoardsController.PostEdit()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a31fb70234a20c412bb9fbbb1afa2d0fc">Nop.Web.Controllers.BoardsController.PostVote()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a60f8c61cd3a8fd1d2811ec33a79dae67">Nop.Web.Controllers.BoardsController.TopicCreate()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a0cfa8bfb23070c4b15fc7b8e6bec1ff0">Nop.Web.Controllers.BoardsController.TopicEdit()</a> e <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#ae8102bd2cd6d2d04c9b781aadaaa33d5">Nop.Web.Controllers.BoardsController.TopicWatch()</a>.</p>

</div>
</div>
<a id="a36672f9f77240e00636db7d67356ba69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36672f9f77240e00636db7d67356ba69">&#9670;&nbsp;</a></span>_storeContext</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_core_1_1_i_store_context.html">IStoreContext</a> Nop.Web.Controllers.BoardsController._storeContext</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a0129bbdb3c4901213c2f644b61524cae">Nop.Web.Controllers.BoardsController.ActiveDiscussionsRss()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#aeb1f62937bbfc60e0acf54498ac55df9">Nop.Web.Controllers.BoardsController.BoardsController()</a> e <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#aca219ca64297a59166908ec7c88d4b4f">Nop.Web.Controllers.BoardsController.ForumRss()</a>.</p>

</div>
</div>
<a id="a58f37ce509b0e9593ae248978b289df1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58f37ce509b0e9593ae248978b289df1">&#9670;&nbsp;</a></span>_webHelper</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_core_1_1_i_web_helper.html">IWebHelper</a> Nop.Web.Controllers.BoardsController._webHelper</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a0129bbdb3c4901213c2f644b61524cae">Nop.Web.Controllers.BoardsController.ActiveDiscussionsRss()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#aeb1f62937bbfc60e0acf54498ac55df9">Nop.Web.Controllers.BoardsController.BoardsController()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#aca219ca64297a59166908ec7c88d4b4f">Nop.Web.Controllers.BoardsController.ForumRss()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a15032b4ef6122000e0261bb8fbf6e546">Nop.Web.Controllers.BoardsController.PostCreate()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a60f8c61cd3a8fd1d2811ec33a79dae67">Nop.Web.Controllers.BoardsController.TopicCreate()</a> e <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a0cfa8bfb23070c4b15fc7b8e6bec1ff0">Nop.Web.Controllers.BoardsController.TopicEdit()</a>.</p>

</div>
</div>
<a id="a7a8644f369ceda2614769497e3ab56e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a8644f369ceda2614769497e3ab56e3">&#9670;&nbsp;</a></span>_workContext</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_core_1_1_i_work_context.html">IWorkContext</a> Nop.Web.Controllers.BoardsController._workContext</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#aeb1f62937bbfc60e0acf54498ac55df9">Nop.Web.Controllers.BoardsController.BoardsController()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#aaf80e3eb6b3d09a17da8edc3d82a2f12">Nop.Web.Controllers.BoardsController.CustomerForumSubscriptionsPOST()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a3d703a6f829937c2bbdc0abaeb7b9f22">Nop.Web.Controllers.BoardsController.ForumWatch()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a24a562273c13ae420e13074fcb4158ce">Nop.Web.Controllers.BoardsController.PostCreate()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a0bd6173cd0fbd8d4c218eafcf8ab63c7">Nop.Web.Controllers.BoardsController.PostDelete()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#aaf05b6668cf3150c04f68c30e17a2da4">Nop.Web.Controllers.BoardsController.PostEdit()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a31fb70234a20c412bb9fbbb1afa2d0fc">Nop.Web.Controllers.BoardsController.PostVote()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#aedf9e89b077b4c77c00ce3a294ade285">Nop.Web.Controllers.BoardsController.TopicCreate()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a9a4fcf71e3b61c41033822b34369aba2">Nop.Web.Controllers.BoardsController.TopicDelete()</a>, <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#a027617e1e5cbda29b0e5686caf143174">Nop.Web.Controllers.BoardsController.TopicEdit()</a> e <a class="el" href="class_nop_1_1_web_1_1_controllers_1_1_boards_controller.html#ae8102bd2cd6d2d04c9b781aadaaa33d5">Nop.Web.Controllers.BoardsController.TopicWatch()</a>.</p>

</div>
</div>
<hr/>A documentação para esta classe foi gerada a partir do seguinte ficheiro:<ul>
<li>C:/Users/gabri/Documents/Projetos/GitHub/Estudos/Nopcommercer plugin/nopCommerce_4.40.3_Source - Copia/src/Presentation/Nop.Web/Controllers/<a class="el" href="_boards_controller_8cs.html">BoardsController.cs</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Gerado por&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
