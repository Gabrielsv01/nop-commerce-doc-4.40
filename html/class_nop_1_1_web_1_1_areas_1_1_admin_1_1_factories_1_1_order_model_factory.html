<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NopCommerce 4.40: Referência à classe Nop.Web.Areas.Admin.Factories.OrderModelFactory</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="download.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NopCommerce 4.40
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Gerado por Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Localizar','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Localizar');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_nop.html">Nop</a></li><li class="navelem"><a class="el" href="namespace_nop_1_1_web.html">Web</a></li><li class="navelem"><a class="el" href="namespace_nop_1_1_web_1_1_areas.html">Areas</a></li><li class="navelem"><a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin.html">Admin</a></li><li class="navelem"><a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories.html">Factories</a></li><li class="navelem"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html">OrderModelFactory</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Membros públicos</a> &#124;
<a href="#pro-methods">Membros protegidos</a> &#124;
<a href="#pri-attribs">Atributos Privados</a> &#124;
<a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory-members.html">Mostrar lista completa dos membros</a>  </div>
  <div class="headertitle">
<div class="title">Referência à classe Nop.Web.Areas.Admin.Factories.OrderModelFactory</div>  </div>
</div><!--header-->
<div class="contents">

<p>Represents the order model factory implementation  
 <a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#details">Mais...</a></p>
<div class="dynheader">
Diagrama de heranças da classe Nop.Web.Areas.Admin.Factories.OrderModelFactory</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.png" usemap="#Nop.Web.Areas.Admin.Factories.OrderModelFactory_map" alt=""/>
  <map id="Nop.Web.Areas.Admin.Factories.OrderModelFactory_map" name="Nop.Web.Areas.Admin.Factories.OrderModelFactory_map">
<area href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_order_model_factory.html" title="Represents the order model factory" alt="Nop.Web.Areas.Admin.Factories.IOrderModelFactory" shape="rect" coords="0,0,318,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Membros públicos</h2></td></tr>
<tr class="memitem:a25d4a15bc897049e67257709254e3a03"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a25d4a15bc897049e67257709254e3a03">OrderModelFactory</a> (<a class="el" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address_settings.html">AddressSettings</a> addressSettings, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_catalog_settings.html">CatalogSettings</a> catalogSettings, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_directory_1_1_currency_settings.html">CurrencySettings</a> currencySettings, IActionContextAccessor actionContextAccessor, <a class="el" href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_address_model_factory.html">IAddressModelFactory</a> addressModelFactory, <a class="el" href="interface_nop_1_1_services_1_1_common_1_1_i_address_service.html">IAddressService</a> addressService, <a class="el" href="interface_nop_1_1_services_1_1_affiliates_1_1_i_affiliate_service.html">IAffiliateService</a> affiliateService, <a class="el" href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_base_admin_model_factory.html">IBaseAdminModelFactory</a> baseAdminModelFactory, <a class="el" href="interface_nop_1_1_services_1_1_directory_1_1_i_country_service.html">ICountryService</a> countryService, <a class="el" href="interface_nop_1_1_services_1_1_directory_1_1_i_currency_service.html">ICurrencyService</a> currencyService, <a class="el" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html">ICustomerService</a> customerService, <a class="el" href="interface_nop_1_1_services_1_1_helpers_1_1_i_date_time_helper.html">IDateTimeHelper</a> dateTimeHelper, <a class="el" href="interface_nop_1_1_services_1_1_discounts_1_1_i_discount_service.html">IDiscountService</a> discountService, <a class="el" href="interface_nop_1_1_services_1_1_media_1_1_i_download_service.html">IDownloadService</a> downloadService, <a class="el" href="interface_nop_1_1_services_1_1_security_1_1_i_encryption_service.html">IEncryptionService</a> encryptionService, <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_gift_card_service.html">IGiftCardService</a> giftCardService, <a class="el" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html">ILocalizationService</a> localizationService, <a class="el" href="interface_nop_1_1_services_1_1_directory_1_1_i_measure_service.html">IMeasureService</a> measureService, <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_processing_service.html">IOrderProcessingService</a> orderProcessingService, <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_report_service.html">IOrderReportService</a> orderReportService, <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_service.html">IOrderService</a> orderService, <a class="el" href="interface_nop_1_1_services_1_1_payments_1_1_i_payment_plugin_manager.html">IPaymentPluginManager</a> paymentPluginManager, <a class="el" href="interface_nop_1_1_services_1_1_payments_1_1_i_payment_service.html">IPaymentService</a> paymentService, <a class="el" href="interface_nop_1_1_services_1_1_media_1_1_i_picture_service.html">IPictureService</a> pictureService, <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_calculation_service.html">IPriceCalculationService</a> priceCalculationService, <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html">IPriceFormatter</a> priceFormatter, <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_service.html">IProductAttributeService</a> productAttributeService, <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html">IProductService</a> productService, <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_return_request_service.html">IReturnRequestService</a> returnRequestService, <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_reward_point_service.html">IRewardPointService</a> rewardPointService, <a class="el" href="interface_nop_1_1_services_1_1_shipping_1_1_i_shipment_service.html">IShipmentService</a> shipmentService, <a class="el" href="interface_nop_1_1_services_1_1_shipping_1_1_i_shipping_service.html">IShippingService</a> shippingService, <a class="el" href="interface_nop_1_1_services_1_1_directory_1_1_i_state_province_service.html">IStateProvinceService</a> stateProvinceService, <a class="el" href="interface_nop_1_1_services_1_1_stores_1_1_i_store_service.html">IStoreService</a> storeService, <a class="el" href="interface_nop_1_1_services_1_1_tax_1_1_i_tax_service.html">ITaxService</a> taxService, IUrlHelperFactory urlHelperFactory, <a class="el" href="interface_nop_1_1_services_1_1_vendors_1_1_i_vendor_service.html">IVendorService</a> vendorService, <a class="el" href="interface_nop_1_1_core_1_1_i_work_context.html">IWorkContext</a> workContext, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_directory_1_1_measure_settings.html">MeasureSettings</a> measureSettings, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_settings.html">OrderSettings</a> orderSettings, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipping_settings.html">ShippingSettings</a> shippingSettings, <a class="el" href="interface_nop_1_1_services_1_1_seo_1_1_i_url_record_service.html">IUrlRecordService</a> urlRecordService, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html">TaxSettings</a> taxSettings)</td></tr>
<tr class="separator:a25d4a15bc897049e67257709254e3a03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fcfeedae08342e99adbdbbb4df1f22c"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; OrderSearchModel &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a9fcfeedae08342e99adbdbbb4df1f22c">PrepareOrderSearchModelAsync</a> (OrderSearchModel searchModel)</td></tr>
<tr class="memdesc:a9fcfeedae08342e99adbdbbb4df1f22c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare order search model  <a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a9fcfeedae08342e99adbdbbb4df1f22c">Mais...</a><br /></td></tr>
<tr class="separator:a9fcfeedae08342e99adbdbbb4df1f22c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b1db8350c977fe898f489f95f9f14ac"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; OrderListModel &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a0b1db8350c977fe898f489f95f9f14ac">PrepareOrderListModelAsync</a> (OrderSearchModel searchModel)</td></tr>
<tr class="memdesc:a0b1db8350c977fe898f489f95f9f14ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare paged order list model  <a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a0b1db8350c977fe898f489f95f9f14ac">Mais...</a><br /></td></tr>
<tr class="separator:a0b1db8350c977fe898f489f95f9f14ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0a1514dbb6d0946acab51510d1e3daf"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; OrderAggreratorModel &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab0a1514dbb6d0946acab51510d1e3daf">PrepareOrderAggregatorModelAsync</a> (OrderSearchModel searchModel)</td></tr>
<tr class="memdesc:ab0a1514dbb6d0946acab51510d1e3daf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare order aggregator model  <a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab0a1514dbb6d0946acab51510d1e3daf">Mais...</a><br /></td></tr>
<tr class="separator:ab0a1514dbb6d0946acab51510d1e3daf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affbcd5506b09916d78733cfac1f633c9"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; OrderModel &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#affbcd5506b09916d78733cfac1f633c9">PrepareOrderModelAsync</a> (OrderModel model, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a> order, bool excludeProperties=false)</td></tr>
<tr class="memdesc:affbcd5506b09916d78733cfac1f633c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare order model  <a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#affbcd5506b09916d78733cfac1f633c9">Mais...</a><br /></td></tr>
<tr class="separator:affbcd5506b09916d78733cfac1f633c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a483ae387e346d45071a3674b5a390511"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; UploadLicenseModel &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a483ae387e346d45071a3674b5a390511">PrepareUploadLicenseModelAsync</a> (UploadLicenseModel model, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a> order, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_item.html">OrderItem</a> orderItem)</td></tr>
<tr class="memdesc:a483ae387e346d45071a3674b5a390511"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare upload license model  <a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a483ae387e346d45071a3674b5a390511">Mais...</a><br /></td></tr>
<tr class="separator:a483ae387e346d45071a3674b5a390511"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a018a626b0b724320e5d7ca1c414d4cc0"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; AddProductToOrderSearchModel &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a018a626b0b724320e5d7ca1c414d4cc0">PrepareAddProductToOrderSearchModelAsync</a> (AddProductToOrderSearchModel searchModel, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a> order)</td></tr>
<tr class="memdesc:a018a626b0b724320e5d7ca1c414d4cc0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare product search model to add to the order  <a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a018a626b0b724320e5d7ca1c414d4cc0">Mais...</a><br /></td></tr>
<tr class="separator:a018a626b0b724320e5d7ca1c414d4cc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a756a79c7b2c3bc2627b62c19ac588337"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; AddProductToOrderListModel &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a756a79c7b2c3bc2627b62c19ac588337">PrepareAddProductToOrderListModelAsync</a> (AddProductToOrderSearchModel searchModel, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a> order)</td></tr>
<tr class="memdesc:a756a79c7b2c3bc2627b62c19ac588337"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare paged product list model to add to the order  <a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a756a79c7b2c3bc2627b62c19ac588337">Mais...</a><br /></td></tr>
<tr class="separator:a756a79c7b2c3bc2627b62c19ac588337"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0476639ad6956c0a091beba67934fdbf"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; AddProductToOrderModel &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a0476639ad6956c0a091beba67934fdbf">PrepareAddProductToOrderModelAsync</a> (AddProductToOrderModel model, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a> order, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html">Product</a> product)</td></tr>
<tr class="memdesc:a0476639ad6956c0a091beba67934fdbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare product model to add to the order  <a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a0476639ad6956c0a091beba67934fdbf">Mais...</a><br /></td></tr>
<tr class="separator:a0476639ad6956c0a091beba67934fdbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc42bf383a073c5b3ee105856eaef5e6"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; OrderAddressModel &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#abc42bf383a073c5b3ee105856eaef5e6">PrepareOrderAddressModelAsync</a> (OrderAddressModel model, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a> order, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address.html">Address</a> address)</td></tr>
<tr class="memdesc:abc42bf383a073c5b3ee105856eaef5e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare order address model  <a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#abc42bf383a073c5b3ee105856eaef5e6">Mais...</a><br /></td></tr>
<tr class="separator:abc42bf383a073c5b3ee105856eaef5e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af08d19963ff2006617d824e3c6350df9"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; ShipmentSearchModel &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#af08d19963ff2006617d824e3c6350df9">PrepareShipmentSearchModelAsync</a> (ShipmentSearchModel searchModel)</td></tr>
<tr class="memdesc:af08d19963ff2006617d824e3c6350df9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare shipment search model  <a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#af08d19963ff2006617d824e3c6350df9">Mais...</a><br /></td></tr>
<tr class="separator:af08d19963ff2006617d824e3c6350df9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2463810292f4d49ab1e6f04812de439b"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; ShipmentListModel &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a2463810292f4d49ab1e6f04812de439b">PrepareShipmentListModelAsync</a> (ShipmentSearchModel searchModel)</td></tr>
<tr class="memdesc:a2463810292f4d49ab1e6f04812de439b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare paged shipment list model  <a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a2463810292f4d49ab1e6f04812de439b">Mais...</a><br /></td></tr>
<tr class="separator:a2463810292f4d49ab1e6f04812de439b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4175157528e8eefe810e131bc9d77158"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; ShipmentModel &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a4175157528e8eefe810e131bc9d77158">PrepareShipmentModelAsync</a> (ShipmentModel model, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipment.html">Shipment</a> shipment, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a> order, bool excludeProperties=false)</td></tr>
<tr class="memdesc:a4175157528e8eefe810e131bc9d77158"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare shipment model  <a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a4175157528e8eefe810e131bc9d77158">Mais...</a><br /></td></tr>
<tr class="separator:a4175157528e8eefe810e131bc9d77158"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af29c71e8461247d695351ee8341bf5bc"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; OrderShipmentListModel &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#af29c71e8461247d695351ee8341bf5bc">PrepareOrderShipmentListModelAsync</a> (OrderShipmentSearchModel searchModel, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a> order)</td></tr>
<tr class="memdesc:af29c71e8461247d695351ee8341bf5bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare paged order shipment list model  <a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#af29c71e8461247d695351ee8341bf5bc">Mais...</a><br /></td></tr>
<tr class="separator:af29c71e8461247d695351ee8341bf5bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84625078c562ef897dad5087fbdf1eb5"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; ShipmentItemListModel &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a84625078c562ef897dad5087fbdf1eb5">PrepareShipmentItemListModelAsync</a> (ShipmentItemSearchModel searchModel, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipment.html">Shipment</a> shipment)</td></tr>
<tr class="memdesc:a84625078c562ef897dad5087fbdf1eb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare paged shipment item list model  <a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a84625078c562ef897dad5087fbdf1eb5">Mais...</a><br /></td></tr>
<tr class="separator:a84625078c562ef897dad5087fbdf1eb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9079cf93c4b00cab1360acab8e88f71d"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; OrderNoteListModel &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a9079cf93c4b00cab1360acab8e88f71d">PrepareOrderNoteListModelAsync</a> (OrderNoteSearchModel searchModel, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a> order)</td></tr>
<tr class="memdesc:a9079cf93c4b00cab1360acab8e88f71d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare paged order note list model  <a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a9079cf93c4b00cab1360acab8e88f71d">Mais...</a><br /></td></tr>
<tr class="separator:a9079cf93c4b00cab1360acab8e88f71d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29995a4d38bd71dc9a75cc59c673b08f"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; BestsellerBriefSearchModel &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a29995a4d38bd71dc9a75cc59c673b08f">PrepareBestsellerBriefSearchModelAsync</a> (BestsellerBriefSearchModel searchModel)</td></tr>
<tr class="memdesc:a29995a4d38bd71dc9a75cc59c673b08f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare bestseller brief search model  <a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a29995a4d38bd71dc9a75cc59c673b08f">Mais...</a><br /></td></tr>
<tr class="separator:a29995a4d38bd71dc9a75cc59c673b08f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac97e977e7b02e632ce83d2d1a4b6fef3"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; BestsellerBriefListModel &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ac97e977e7b02e632ce83d2d1a4b6fef3">PrepareBestsellerBriefListModelAsync</a> (BestsellerBriefSearchModel searchModel)</td></tr>
<tr class="memdesc:ac97e977e7b02e632ce83d2d1a4b6fef3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare paged bestseller brief list model  <a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ac97e977e7b02e632ce83d2d1a4b6fef3">Mais...</a><br /></td></tr>
<tr class="separator:ac97e977e7b02e632ce83d2d1a4b6fef3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd8f3be8d2b910816b1ecabcf6094d47"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; OrderAverageReportListModel &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#afd8f3be8d2b910816b1ecabcf6094d47">PrepareOrderAverageReportListModelAsync</a> (OrderAverageReportSearchModel searchModel)</td></tr>
<tr class="memdesc:afd8f3be8d2b910816b1ecabcf6094d47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare order average line summary report list model  <a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#afd8f3be8d2b910816b1ecabcf6094d47">Mais...</a><br /></td></tr>
<tr class="separator:afd8f3be8d2b910816b1ecabcf6094d47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3897d5cbf43002542013c85c3c0b5cb1"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; OrderIncompleteReportListModel &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a3897d5cbf43002542013c85c3c0b5cb1">PrepareOrderIncompleteReportListModelAsync</a> (OrderIncompleteReportSearchModel searchModel)</td></tr>
<tr class="memdesc:a3897d5cbf43002542013c85c3c0b5cb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare incomplete order report list model  <a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a3897d5cbf43002542013c85c3c0b5cb1">Mais...</a><br /></td></tr>
<tr class="separator:a3897d5cbf43002542013c85c3c0b5cb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Membros protegidos</h2></td></tr>
<tr class="memitem:a9a0c897a0bc0f788c3ce243d773ef8cd"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a9a0c897a0bc0f788c3ce243d773ef8cd">SetAddressFieldsAsRequired</a> (AddressModel model)</td></tr>
<tr class="memdesc:a9a0c897a0bc0f788c3ce243d773ef8cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set some address fields as required  <a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a9a0c897a0bc0f788c3ce243d773ef8cd">Mais...</a><br /></td></tr>
<tr class="separator:a9a0c897a0bc0f788c3ce243d773ef8cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6b2cd579b5810d653056ee9da50dadb"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ad6b2cd579b5810d653056ee9da50dadb">PrepareOrderItemModelsAsync</a> (IList&lt; OrderItemModel &gt; models, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a> order)</td></tr>
<tr class="memdesc:ad6b2cd579b5810d653056ee9da50dadb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare order item models  <a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ad6b2cd579b5810d653056ee9da50dadb">Mais...</a><br /></td></tr>
<tr class="separator:ad6b2cd579b5810d653056ee9da50dadb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a987dc596dec9b22b18eff5967a892fac"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a987dc596dec9b22b18eff5967a892fac">PrepareReturnRequestBriefModelsAsync</a> (IList&lt; OrderItemModel.ReturnRequestBriefModel &gt; models, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_item.html">OrderItem</a> orderItem)</td></tr>
<tr class="memdesc:a987dc596dec9b22b18eff5967a892fac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare return request brief models  <a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a987dc596dec9b22b18eff5967a892fac">Mais...</a><br /></td></tr>
<tr class="separator:a987dc596dec9b22b18eff5967a892fac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2e3cdb66c60f86192382d4178495b12"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab2e3cdb66c60f86192382d4178495b12">PrepareOrderModelTotalsAsync</a> (OrderModel model, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a> order)</td></tr>
<tr class="memdesc:ab2e3cdb66c60f86192382d4178495b12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare order model totals  <a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab2e3cdb66c60f86192382d4178495b12">Mais...</a><br /></td></tr>
<tr class="separator:ab2e3cdb66c60f86192382d4178495b12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39e6a399a8a3de76141bf2e3b16e3f48"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a39e6a399a8a3de76141bf2e3b16e3f48">PrepareOrderModelPaymentInfoAsync</a> (OrderModel model, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a> order)</td></tr>
<tr class="memdesc:a39e6a399a8a3de76141bf2e3b16e3f48"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare order model payment info  <a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a39e6a399a8a3de76141bf2e3b16e3f48">Mais...</a><br /></td></tr>
<tr class="separator:a39e6a399a8a3de76141bf2e3b16e3f48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0025d2d64554be5aa75de669f6e97634"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a0025d2d64554be5aa75de669f6e97634">PrepareOrderModelShippingInfoAsync</a> (OrderModel model, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a> order)</td></tr>
<tr class="memdesc:a0025d2d64554be5aa75de669f6e97634"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare order model shipping info  <a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a0025d2d64554be5aa75de669f6e97634">Mais...</a><br /></td></tr>
<tr class="separator:a0025d2d64554be5aa75de669f6e97634"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cd64f898375697c565316d6572721e6"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a5cd64f898375697c565316d6572721e6">PrepareProductAttributeModelsAsync</a> (IList&lt; AddProductToOrderModel.ProductAttributeModel &gt; models, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a> order, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html">Product</a> product)</td></tr>
<tr class="memdesc:a5cd64f898375697c565316d6572721e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare product attribute models  <a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a5cd64f898375697c565316d6572721e6">Mais...</a><br /></td></tr>
<tr class="separator:a5cd64f898375697c565316d6572721e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19ee648ce2e808717880e75edbe5d81a"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a19ee648ce2e808717880e75edbe5d81a">PrepareShipmentItemModelAsync</a> (ShipmentItemModel model, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_item.html">OrderItem</a> orderItem, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html">Product</a> product)</td></tr>
<tr class="memdesc:a19ee648ce2e808717880e75edbe5d81a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare shipment item model  <a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a19ee648ce2e808717880e75edbe5d81a">Mais...</a><br /></td></tr>
<tr class="separator:a19ee648ce2e808717880e75edbe5d81a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c180bacb5b37eb62266ae20d6cb04d5"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a1c180bacb5b37eb62266ae20d6cb04d5">PrepareShipmentStatusEventModelsAsync</a> (IList&lt; ShipmentStatusEventModel &gt; models, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipment.html">Shipment</a> shipment)</td></tr>
<tr class="memdesc:a1c180bacb5b37eb62266ae20d6cb04d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare shipment status event models  <a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a1c180bacb5b37eb62266ae20d6cb04d5">Mais...</a><br /></td></tr>
<tr class="separator:a1c180bacb5b37eb62266ae20d6cb04d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab27f6e3bd8431dedc5ad609db2f00e94"><td class="memItemLeft" align="right" valign="top">virtual OrderShipmentSearchModel&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab27f6e3bd8431dedc5ad609db2f00e94">PrepareOrderShipmentSearchModel</a> (OrderShipmentSearchModel searchModel, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a> order)</td></tr>
<tr class="memdesc:ab27f6e3bd8431dedc5ad609db2f00e94"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare order shipment search model  <a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab27f6e3bd8431dedc5ad609db2f00e94">Mais...</a><br /></td></tr>
<tr class="separator:ab27f6e3bd8431dedc5ad609db2f00e94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecc34a655cd3a06d47efe4430a2cf6ed"><td class="memItemLeft" align="right" valign="top">virtual ShipmentItemSearchModel&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#aecc34a655cd3a06d47efe4430a2cf6ed">PrepareShipmentItemSearchModel</a> (ShipmentItemSearchModel searchModel)</td></tr>
<tr class="memdesc:aecc34a655cd3a06d47efe4430a2cf6ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare shipment item search model  <a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#aecc34a655cd3a06d47efe4430a2cf6ed">Mais...</a><br /></td></tr>
<tr class="separator:aecc34a655cd3a06d47efe4430a2cf6ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4594cb7f931358892aa7c3e2823eda48"><td class="memItemLeft" align="right" valign="top">virtual OrderNoteSearchModel&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a4594cb7f931358892aa7c3e2823eda48">PrepareOrderNoteSearchModel</a> (OrderNoteSearchModel searchModel, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a> order)</td></tr>
<tr class="memdesc:a4594cb7f931358892aa7c3e2823eda48"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare order note search model  <a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a4594cb7f931358892aa7c3e2823eda48">Mais...</a><br /></td></tr>
<tr class="separator:a4594cb7f931358892aa7c3e2823eda48"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Atributos Privados</h2></td></tr>
<tr class="memitem:a2011570edf3ae45c34f6e652fee681b3"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address_settings.html">AddressSettings</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a2011570edf3ae45c34f6e652fee681b3">_addressSettings</a></td></tr>
<tr class="separator:a2011570edf3ae45c34f6e652fee681b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97ad9d1cd65429e39c7432234c60348f"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_catalog_settings.html">CatalogSettings</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a97ad9d1cd65429e39c7432234c60348f">_catalogSettings</a></td></tr>
<tr class="separator:a97ad9d1cd65429e39c7432234c60348f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a430244906e5403b6ec592b8d92033b5e"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_directory_1_1_currency_settings.html">CurrencySettings</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a430244906e5403b6ec592b8d92033b5e">_currencySettings</a></td></tr>
<tr class="separator:a430244906e5403b6ec592b8d92033b5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2b6e65145fe864ce8fccebd933b2c2d"><td class="memItemLeft" align="right" valign="top">readonly IActionContextAccessor&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ae2b6e65145fe864ce8fccebd933b2c2d">_actionContextAccessor</a></td></tr>
<tr class="separator:ae2b6e65145fe864ce8fccebd933b2c2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7b14d9158a4e15d939905847464614b"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_address_model_factory.html">IAddressModelFactory</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#af7b14d9158a4e15d939905847464614b">_addressModelFactory</a></td></tr>
<tr class="separator:af7b14d9158a4e15d939905847464614b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacde7cf726f871bd66f342fc4017c364"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_common_1_1_i_address_service.html">IAddressService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#aacde7cf726f871bd66f342fc4017c364">_addressService</a></td></tr>
<tr class="separator:aacde7cf726f871bd66f342fc4017c364"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4e6087a4745d5c050a546fc25455bec"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_affiliates_1_1_i_affiliate_service.html">IAffiliateService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ad4e6087a4745d5c050a546fc25455bec">_affiliateService</a></td></tr>
<tr class="separator:ad4e6087a4745d5c050a546fc25455bec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6232ea2a7557eacfc3f1570ede36753e"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_base_admin_model_factory.html">IBaseAdminModelFactory</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6232ea2a7557eacfc3f1570ede36753e">_baseAdminModelFactory</a></td></tr>
<tr class="separator:a6232ea2a7557eacfc3f1570ede36753e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae615982a6467b18f4a33b2a5b4efbde4"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_directory_1_1_i_country_service.html">ICountryService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ae615982a6467b18f4a33b2a5b4efbde4">_countryService</a></td></tr>
<tr class="separator:ae615982a6467b18f4a33b2a5b4efbde4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fb6ff7cb0522e3273c278d248f573ca"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_directory_1_1_i_currency_service.html">ICurrencyService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a2fb6ff7cb0522e3273c278d248f573ca">_currencyService</a></td></tr>
<tr class="separator:a2fb6ff7cb0522e3273c278d248f573ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3305bf0bf98804ee203caaf841dc8fec"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html">ICustomerService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a3305bf0bf98804ee203caaf841dc8fec">_customerService</a></td></tr>
<tr class="separator:a3305bf0bf98804ee203caaf841dc8fec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f46f2e2528845d2aa2d23e4578ecafa"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_helpers_1_1_i_date_time_helper.html">IDateTimeHelper</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a3f46f2e2528845d2aa2d23e4578ecafa">_dateTimeHelper</a></td></tr>
<tr class="separator:a3f46f2e2528845d2aa2d23e4578ecafa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a632a10b2d07c1bf4f2054d6c66b5ac"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_discounts_1_1_i_discount_service.html">IDiscountService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6a632a10b2d07c1bf4f2054d6c66b5ac">_discountService</a></td></tr>
<tr class="separator:a6a632a10b2d07c1bf4f2054d6c66b5ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a169bde984d85bb22570777f279998831"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_media_1_1_i_download_service.html">IDownloadService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a169bde984d85bb22570777f279998831">_downloadService</a></td></tr>
<tr class="separator:a169bde984d85bb22570777f279998831"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7894db3160e0861e87e2d3d1c5f49d8"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_security_1_1_i_encryption_service.html">IEncryptionService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#aa7894db3160e0861e87e2d3d1c5f49d8">_encryptionService</a></td></tr>
<tr class="separator:aa7894db3160e0861e87e2d3d1c5f49d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7eabf838c0e8539109bd577349171443"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_gift_card_service.html">IGiftCardService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a7eabf838c0e8539109bd577349171443">_giftCardService</a></td></tr>
<tr class="separator:a7eabf838c0e8539109bd577349171443"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9836ccb186b0a63b89a200ddda9d33a5"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html">ILocalizationService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a9836ccb186b0a63b89a200ddda9d33a5">_localizationService</a></td></tr>
<tr class="separator:a9836ccb186b0a63b89a200ddda9d33a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ba50b1aa5dae92524d85ed2677f8df0"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_directory_1_1_i_measure_service.html">IMeasureService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a4ba50b1aa5dae92524d85ed2677f8df0">_measureService</a></td></tr>
<tr class="separator:a4ba50b1aa5dae92524d85ed2677f8df0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a902e9073fdca3fe7c0525ce292c20e86"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_processing_service.html">IOrderProcessingService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a902e9073fdca3fe7c0525ce292c20e86">_orderProcessingService</a></td></tr>
<tr class="separator:a902e9073fdca3fe7c0525ce292c20e86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ed906aaccb7f008ed5d9c511da89b53"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_report_service.html">IOrderReportService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a4ed906aaccb7f008ed5d9c511da89b53">_orderReportService</a></td></tr>
<tr class="separator:a4ed906aaccb7f008ed5d9c511da89b53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbe64278bfe8930de878fb194ad22993"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_service.html">IOrderService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#abbe64278bfe8930de878fb194ad22993">_orderService</a></td></tr>
<tr class="separator:abbe64278bfe8930de878fb194ad22993"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1084c4344b2534317c4f2eecb03573e0"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_payments_1_1_i_payment_plugin_manager.html">IPaymentPluginManager</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a1084c4344b2534317c4f2eecb03573e0">_paymentPluginManager</a></td></tr>
<tr class="separator:a1084c4344b2534317c4f2eecb03573e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bac9a1717c949ee3435857de31de38b"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_payments_1_1_i_payment_service.html">IPaymentService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a1bac9a1717c949ee3435857de31de38b">_paymentService</a></td></tr>
<tr class="separator:a1bac9a1717c949ee3435857de31de38b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adff9d3582886576d13035a47fe38d4aa"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_media_1_1_i_picture_service.html">IPictureService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#adff9d3582886576d13035a47fe38d4aa">_pictureService</a></td></tr>
<tr class="separator:adff9d3582886576d13035a47fe38d4aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdaac0795f3aae7f108b1714c821e2bb"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_calculation_service.html">IPriceCalculationService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#abdaac0795f3aae7f108b1714c821e2bb">_priceCalculationService</a></td></tr>
<tr class="separator:abdaac0795f3aae7f108b1714c821e2bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6da91fcb0904bc0fc0fd72ce11ac9f51"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html">IPriceFormatter</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6da91fcb0904bc0fc0fd72ce11ac9f51">_priceFormatter</a></td></tr>
<tr class="separator:a6da91fcb0904bc0fc0fd72ce11ac9f51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3cbe94ff108675898369e050d4fd3e4"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_service.html">IProductAttributeService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ae3cbe94ff108675898369e050d4fd3e4">_productAttributeService</a></td></tr>
<tr class="separator:ae3cbe94ff108675898369e050d4fd3e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6988632d04789e35ccbba9075409715d"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html">IProductService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6988632d04789e35ccbba9075409715d">_productService</a></td></tr>
<tr class="separator:a6988632d04789e35ccbba9075409715d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cead4a2f5c5c314a4861615761a7ace"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_return_request_service.html">IReturnRequestService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a5cead4a2f5c5c314a4861615761a7ace">_returnRequestService</a></td></tr>
<tr class="separator:a5cead4a2f5c5c314a4861615761a7ace"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa507067ff470196a42e29e3139702ad1"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_reward_point_service.html">IRewardPointService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#aa507067ff470196a42e29e3139702ad1">_rewardPointService</a></td></tr>
<tr class="separator:aa507067ff470196a42e29e3139702ad1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c7379f0c7ec0d1984366500983dd77b"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_shipping_1_1_i_shipment_service.html">IShipmentService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a4c7379f0c7ec0d1984366500983dd77b">_shipmentService</a></td></tr>
<tr class="separator:a4c7379f0c7ec0d1984366500983dd77b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12905d9567b339e154a65c9f24db426b"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_shipping_1_1_i_shipping_service.html">IShippingService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a12905d9567b339e154a65c9f24db426b">_shippingService</a></td></tr>
<tr class="separator:a12905d9567b339e154a65c9f24db426b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17f2ab16bbb673cb5e722b7071e6df40"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_directory_1_1_i_state_province_service.html">IStateProvinceService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a17f2ab16bbb673cb5e722b7071e6df40">_stateProvinceService</a></td></tr>
<tr class="separator:a17f2ab16bbb673cb5e722b7071e6df40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcd9a53131ac96de5e10beaad0e71e38"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_stores_1_1_i_store_service.html">IStoreService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#adcd9a53131ac96de5e10beaad0e71e38">_storeService</a></td></tr>
<tr class="separator:adcd9a53131ac96de5e10beaad0e71e38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab55166dea434654c5ed7176959d19359"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_tax_1_1_i_tax_service.html">ITaxService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab55166dea434654c5ed7176959d19359">_taxService</a></td></tr>
<tr class="separator:ab55166dea434654c5ed7176959d19359"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fe8feeb97200eafa72410f14a66dbf4"><td class="memItemLeft" align="right" valign="top">readonly IUrlHelperFactory&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a8fe8feeb97200eafa72410f14a66dbf4">_urlHelperFactory</a></td></tr>
<tr class="separator:a8fe8feeb97200eafa72410f14a66dbf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84d08a964af828096c8fe9a930504c34"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_vendors_1_1_i_vendor_service.html">IVendorService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a84d08a964af828096c8fe9a930504c34">_vendorService</a></td></tr>
<tr class="separator:a84d08a964af828096c8fe9a930504c34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af26dbef381792d0814c79993db317c3a"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_core_1_1_i_work_context.html">IWorkContext</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#af26dbef381792d0814c79993db317c3a">_workContext</a></td></tr>
<tr class="separator:af26dbef381792d0814c79993db317c3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a407290ca008ada3377b25f0c6d39b401"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_directory_1_1_measure_settings.html">MeasureSettings</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a407290ca008ada3377b25f0c6d39b401">_measureSettings</a></td></tr>
<tr class="separator:a407290ca008ada3377b25f0c6d39b401"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6682882a532cbb79a2a0a81b88e546f"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_settings.html">OrderSettings</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab6682882a532cbb79a2a0a81b88e546f">_orderSettings</a></td></tr>
<tr class="separator:ab6682882a532cbb79a2a0a81b88e546f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5e4e8aa9178bbb26b4e452000404e91"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipping_settings.html">ShippingSettings</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab5e4e8aa9178bbb26b4e452000404e91">_shippingSettings</a></td></tr>
<tr class="separator:ab5e4e8aa9178bbb26b4e452000404e91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e78ec84e9ca28a075939d3fb7782002"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_seo_1_1_i_url_record_service.html">IUrlRecordService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a5e78ec84e9ca28a075939d3fb7782002">_urlRecordService</a></td></tr>
<tr class="separator:a5e78ec84e9ca28a075939d3fb7782002"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a758c226f21c8cec5d74cc3d61dea9c78"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html">TaxSettings</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a758c226f21c8cec5d74cc3d61dea9c78">_taxSettings</a></td></tr>
<tr class="separator:a758c226f21c8cec5d74cc3d61dea9c78"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Descrição detalhada</h2>
<div class="textblock"><p>Represents the order model factory implementation </p>
</div><h2 class="groupheader">Documentação dos Construtores &amp; Destrutor</h2>
<a id="a25d4a15bc897049e67257709254e3a03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25d4a15bc897049e67257709254e3a03">&#9670;&nbsp;</a></span>OrderModelFactory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Nop.Web.Areas.Admin.Factories.OrderModelFactory.OrderModelFactory </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address_settings.html">AddressSettings</a>&#160;</td>
          <td class="paramname"><em>addressSettings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_catalog_settings.html">CatalogSettings</a>&#160;</td>
          <td class="paramname"><em>catalogSettings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_directory_1_1_currency_settings.html">CurrencySettings</a>&#160;</td>
          <td class="paramname"><em>currencySettings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IActionContextAccessor&#160;</td>
          <td class="paramname"><em>actionContextAccessor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_address_model_factory.html">IAddressModelFactory</a>&#160;</td>
          <td class="paramname"><em>addressModelFactory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_common_1_1_i_address_service.html">IAddressService</a>&#160;</td>
          <td class="paramname"><em>addressService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_affiliates_1_1_i_affiliate_service.html">IAffiliateService</a>&#160;</td>
          <td class="paramname"><em>affiliateService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_base_admin_model_factory.html">IBaseAdminModelFactory</a>&#160;</td>
          <td class="paramname"><em>baseAdminModelFactory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_directory_1_1_i_country_service.html">ICountryService</a>&#160;</td>
          <td class="paramname"><em>countryService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_directory_1_1_i_currency_service.html">ICurrencyService</a>&#160;</td>
          <td class="paramname"><em>currencyService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html">ICustomerService</a>&#160;</td>
          <td class="paramname"><em>customerService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_helpers_1_1_i_date_time_helper.html">IDateTimeHelper</a>&#160;</td>
          <td class="paramname"><em>dateTimeHelper</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_discounts_1_1_i_discount_service.html">IDiscountService</a>&#160;</td>
          <td class="paramname"><em>discountService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_media_1_1_i_download_service.html">IDownloadService</a>&#160;</td>
          <td class="paramname"><em>downloadService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_security_1_1_i_encryption_service.html">IEncryptionService</a>&#160;</td>
          <td class="paramname"><em>encryptionService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_gift_card_service.html">IGiftCardService</a>&#160;</td>
          <td class="paramname"><em>giftCardService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html">ILocalizationService</a>&#160;</td>
          <td class="paramname"><em>localizationService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_directory_1_1_i_measure_service.html">IMeasureService</a>&#160;</td>
          <td class="paramname"><em>measureService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_processing_service.html">IOrderProcessingService</a>&#160;</td>
          <td class="paramname"><em>orderProcessingService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_report_service.html">IOrderReportService</a>&#160;</td>
          <td class="paramname"><em>orderReportService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_service.html">IOrderService</a>&#160;</td>
          <td class="paramname"><em>orderService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_payments_1_1_i_payment_plugin_manager.html">IPaymentPluginManager</a>&#160;</td>
          <td class="paramname"><em>paymentPluginManager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_payments_1_1_i_payment_service.html">IPaymentService</a>&#160;</td>
          <td class="paramname"><em>paymentService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_media_1_1_i_picture_service.html">IPictureService</a>&#160;</td>
          <td class="paramname"><em>pictureService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_calculation_service.html">IPriceCalculationService</a>&#160;</td>
          <td class="paramname"><em>priceCalculationService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html">IPriceFormatter</a>&#160;</td>
          <td class="paramname"><em>priceFormatter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_service.html">IProductAttributeService</a>&#160;</td>
          <td class="paramname"><em>productAttributeService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html">IProductService</a>&#160;</td>
          <td class="paramname"><em>productService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_return_request_service.html">IReturnRequestService</a>&#160;</td>
          <td class="paramname"><em>returnRequestService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_reward_point_service.html">IRewardPointService</a>&#160;</td>
          <td class="paramname"><em>rewardPointService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_shipping_1_1_i_shipment_service.html">IShipmentService</a>&#160;</td>
          <td class="paramname"><em>shipmentService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_shipping_1_1_i_shipping_service.html">IShippingService</a>&#160;</td>
          <td class="paramname"><em>shippingService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_directory_1_1_i_state_province_service.html">IStateProvinceService</a>&#160;</td>
          <td class="paramname"><em>stateProvinceService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_stores_1_1_i_store_service.html">IStoreService</a>&#160;</td>
          <td class="paramname"><em>storeService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_tax_1_1_i_tax_service.html">ITaxService</a>&#160;</td>
          <td class="paramname"><em>taxService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IUrlHelperFactory&#160;</td>
          <td class="paramname"><em>urlHelperFactory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_vendors_1_1_i_vendor_service.html">IVendorService</a>&#160;</td>
          <td class="paramname"><em>vendorService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_core_1_1_i_work_context.html">IWorkContext</a>&#160;</td>
          <td class="paramname"><em>workContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_directory_1_1_measure_settings.html">MeasureSettings</a>&#160;</td>
          <td class="paramname"><em>measureSettings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_settings.html">OrderSettings</a>&#160;</td>
          <td class="paramname"><em>orderSettings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipping_settings.html">ShippingSettings</a>&#160;</td>
          <td class="paramname"><em>shippingSettings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_seo_1_1_i_url_record_service.html">IUrlRecordService</a>&#160;</td>
          <td class="paramname"><em>urlRecordService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html">TaxSettings</a>&#160;</td>
          <td class="paramname"><em>taxSettings</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        {</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a2011570edf3ae45c34f6e652fee681b3">_addressSettings</a> = addressSettings;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a97ad9d1cd65429e39c7432234c60348f">_catalogSettings</a> = catalogSettings;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a430244906e5403b6ec592b8d92033b5e">_currencySettings</a> = currencySettings;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ae2b6e65145fe864ce8fccebd933b2c2d">_actionContextAccessor</a> = actionContextAccessor;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#af7b14d9158a4e15d939905847464614b">_addressModelFactory</a> = addressModelFactory;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#aacde7cf726f871bd66f342fc4017c364">_addressService</a> = addressService;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ad4e6087a4745d5c050a546fc25455bec">_affiliateService</a> = affiliateService;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6232ea2a7557eacfc3f1570ede36753e">_baseAdminModelFactory</a> = baseAdminModelFactory;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ae615982a6467b18f4a33b2a5b4efbde4">_countryService</a> = countryService;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a2fb6ff7cb0522e3273c278d248f573ca">_currencyService</a> = currencyService;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a3305bf0bf98804ee203caaf841dc8fec">_customerService</a> = customerService;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a3f46f2e2528845d2aa2d23e4578ecafa">_dateTimeHelper</a> = dateTimeHelper;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6a632a10b2d07c1bf4f2054d6c66b5ac">_discountService</a> = discountService;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a169bde984d85bb22570777f279998831">_downloadService</a> = downloadService;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#aa7894db3160e0861e87e2d3d1c5f49d8">_encryptionService</a> = encryptionService;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a7eabf838c0e8539109bd577349171443">_giftCardService</a> = giftCardService;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a9836ccb186b0a63b89a200ddda9d33a5">_localizationService</a> = localizationService;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a4ba50b1aa5dae92524d85ed2677f8df0">_measureService</a> = measureService;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a902e9073fdca3fe7c0525ce292c20e86">_orderProcessingService</a> = orderProcessingService;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a4ed906aaccb7f008ed5d9c511da89b53">_orderReportService</a> = orderReportService;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#abbe64278bfe8930de878fb194ad22993">_orderService</a> = orderService;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a1084c4344b2534317c4f2eecb03573e0">_paymentPluginManager</a> = paymentPluginManager;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a1bac9a1717c949ee3435857de31de38b">_paymentService</a> = paymentService;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#adff9d3582886576d13035a47fe38d4aa">_pictureService</a> = pictureService;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#abdaac0795f3aae7f108b1714c821e2bb">_priceCalculationService</a> = priceCalculationService;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6da91fcb0904bc0fc0fd72ce11ac9f51">_priceFormatter</a> = priceFormatter;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ae3cbe94ff108675898369e050d4fd3e4">_productAttributeService</a> = productAttributeService;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6988632d04789e35ccbba9075409715d">_productService</a> = productService;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a5cead4a2f5c5c314a4861615761a7ace">_returnRequestService</a> = returnRequestService;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#aa507067ff470196a42e29e3139702ad1">_rewardPointService</a> = rewardPointService;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a4c7379f0c7ec0d1984366500983dd77b">_shipmentService</a> = shipmentService;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a12905d9567b339e154a65c9f24db426b">_shippingService</a> = shippingService;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a17f2ab16bbb673cb5e722b7071e6df40">_stateProvinceService</a> = stateProvinceService;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#adcd9a53131ac96de5e10beaad0e71e38">_storeService</a> = storeService;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab55166dea434654c5ed7176959d19359">_taxService</a> = taxService;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a8fe8feeb97200eafa72410f14a66dbf4">_urlHelperFactory</a> = urlHelperFactory;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a84d08a964af828096c8fe9a930504c34">_vendorService</a> = vendorService;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#af26dbef381792d0814c79993db317c3a">_workContext</a> = workContext;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a407290ca008ada3377b25f0c6d39b401">_measureSettings</a> = measureSettings;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab6682882a532cbb79a2a0a81b88e546f">_orderSettings</a> = orderSettings;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab5e4e8aa9178bbb26b4e452000404e91">_shippingSettings</a> = shippingSettings;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a5e78ec84e9ca28a075939d3fb7782002">_urlRecordService</a> = urlRecordService;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a758c226f21c8cec5d74cc3d61dea9c78">_taxSettings</a> = taxSettings;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_a1084c4344b2534317c4f2eecb03573e0"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a1084c4344b2534317c4f2eecb03573e0">Nop.Web.Areas.Admin.Factories.OrderModelFactory._paymentPluginManager</a></div><div class="ttdeci">readonly IPaymentPluginManager _paymentPluginManager</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:74</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_a12905d9567b339e154a65c9f24db426b"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a12905d9567b339e154a65c9f24db426b">Nop.Web.Areas.Admin.Factories.OrderModelFactory._shippingService</a></div><div class="ttdeci">readonly IShippingService _shippingService</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:84</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_a169bde984d85bb22570777f279998831"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a169bde984d85bb22570777f279998831">Nop.Web.Areas.Admin.Factories.OrderModelFactory._downloadService</a></div><div class="ttdeci">readonly IDownloadService _downloadService</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:66</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_a17f2ab16bbb673cb5e722b7071e6df40"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a17f2ab16bbb673cb5e722b7071e6df40">Nop.Web.Areas.Admin.Factories.OrderModelFactory._stateProvinceService</a></div><div class="ttdeci">readonly IStateProvinceService _stateProvinceService</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:85</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_a1bac9a1717c949ee3435857de31de38b"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a1bac9a1717c949ee3435857de31de38b">Nop.Web.Areas.Admin.Factories.OrderModelFactory._paymentService</a></div><div class="ttdeci">readonly IPaymentService _paymentService</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:75</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_a2011570edf3ae45c34f6e652fee681b3"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a2011570edf3ae45c34f6e652fee681b3">Nop.Web.Areas.Admin.Factories.OrderModelFactory._addressSettings</a></div><div class="ttdeci">readonly AddressSettings _addressSettings</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:53</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_a2fb6ff7cb0522e3273c278d248f573ca"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a2fb6ff7cb0522e3273c278d248f573ca">Nop.Web.Areas.Admin.Factories.OrderModelFactory._currencyService</a></div><div class="ttdeci">readonly ICurrencyService _currencyService</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:62</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_a3305bf0bf98804ee203caaf841dc8fec"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a3305bf0bf98804ee203caaf841dc8fec">Nop.Web.Areas.Admin.Factories.OrderModelFactory._customerService</a></div><div class="ttdeci">readonly ICustomerService _customerService</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:63</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_a3f46f2e2528845d2aa2d23e4578ecafa"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a3f46f2e2528845d2aa2d23e4578ecafa">Nop.Web.Areas.Admin.Factories.OrderModelFactory._dateTimeHelper</a></div><div class="ttdeci">readonly IDateTimeHelper _dateTimeHelper</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:64</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_a407290ca008ada3377b25f0c6d39b401"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a407290ca008ada3377b25f0c6d39b401">Nop.Web.Areas.Admin.Factories.OrderModelFactory._measureSettings</a></div><div class="ttdeci">readonly MeasureSettings _measureSettings</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:91</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_a430244906e5403b6ec592b8d92033b5e"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a430244906e5403b6ec592b8d92033b5e">Nop.Web.Areas.Admin.Factories.OrderModelFactory._currencySettings</a></div><div class="ttdeci">readonly CurrencySettings _currencySettings</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:55</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_a4ba50b1aa5dae92524d85ed2677f8df0"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a4ba50b1aa5dae92524d85ed2677f8df0">Nop.Web.Areas.Admin.Factories.OrderModelFactory._measureService</a></div><div class="ttdeci">readonly IMeasureService _measureService</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:70</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_a4c7379f0c7ec0d1984366500983dd77b"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a4c7379f0c7ec0d1984366500983dd77b">Nop.Web.Areas.Admin.Factories.OrderModelFactory._shipmentService</a></div><div class="ttdeci">readonly IShipmentService _shipmentService</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:83</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_a4ed906aaccb7f008ed5d9c511da89b53"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a4ed906aaccb7f008ed5d9c511da89b53">Nop.Web.Areas.Admin.Factories.OrderModelFactory._orderReportService</a></div><div class="ttdeci">readonly IOrderReportService _orderReportService</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:72</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_a5cead4a2f5c5c314a4861615761a7ace"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a5cead4a2f5c5c314a4861615761a7ace">Nop.Web.Areas.Admin.Factories.OrderModelFactory._returnRequestService</a></div><div class="ttdeci">readonly IReturnRequestService _returnRequestService</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:81</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_a5e78ec84e9ca28a075939d3fb7782002"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a5e78ec84e9ca28a075939d3fb7782002">Nop.Web.Areas.Admin.Factories.OrderModelFactory._urlRecordService</a></div><div class="ttdeci">readonly IUrlRecordService _urlRecordService</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:94</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_a6232ea2a7557eacfc3f1570ede36753e"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6232ea2a7557eacfc3f1570ede36753e">Nop.Web.Areas.Admin.Factories.OrderModelFactory._baseAdminModelFactory</a></div><div class="ttdeci">readonly IBaseAdminModelFactory _baseAdminModelFactory</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:60</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_a6988632d04789e35ccbba9075409715d"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6988632d04789e35ccbba9075409715d">Nop.Web.Areas.Admin.Factories.OrderModelFactory._productService</a></div><div class="ttdeci">readonly IProductService _productService</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:80</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_a6a632a10b2d07c1bf4f2054d6c66b5ac"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6a632a10b2d07c1bf4f2054d6c66b5ac">Nop.Web.Areas.Admin.Factories.OrderModelFactory._discountService</a></div><div class="ttdeci">readonly IDiscountService _discountService</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:65</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_a6da91fcb0904bc0fc0fd72ce11ac9f51"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6da91fcb0904bc0fc0fd72ce11ac9f51">Nop.Web.Areas.Admin.Factories.OrderModelFactory._priceFormatter</a></div><div class="ttdeci">readonly IPriceFormatter _priceFormatter</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:78</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_a758c226f21c8cec5d74cc3d61dea9c78"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a758c226f21c8cec5d74cc3d61dea9c78">Nop.Web.Areas.Admin.Factories.OrderModelFactory._taxSettings</a></div><div class="ttdeci">readonly TaxSettings _taxSettings</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:95</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_a7eabf838c0e8539109bd577349171443"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a7eabf838c0e8539109bd577349171443">Nop.Web.Areas.Admin.Factories.OrderModelFactory._giftCardService</a></div><div class="ttdeci">readonly IGiftCardService _giftCardService</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:68</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_a84d08a964af828096c8fe9a930504c34"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a84d08a964af828096c8fe9a930504c34">Nop.Web.Areas.Admin.Factories.OrderModelFactory._vendorService</a></div><div class="ttdeci">readonly IVendorService _vendorService</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:89</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_a8fe8feeb97200eafa72410f14a66dbf4"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a8fe8feeb97200eafa72410f14a66dbf4">Nop.Web.Areas.Admin.Factories.OrderModelFactory._urlHelperFactory</a></div><div class="ttdeci">readonly IUrlHelperFactory _urlHelperFactory</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:88</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_a902e9073fdca3fe7c0525ce292c20e86"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a902e9073fdca3fe7c0525ce292c20e86">Nop.Web.Areas.Admin.Factories.OrderModelFactory._orderProcessingService</a></div><div class="ttdeci">readonly IOrderProcessingService _orderProcessingService</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:71</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_a97ad9d1cd65429e39c7432234c60348f"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a97ad9d1cd65429e39c7432234c60348f">Nop.Web.Areas.Admin.Factories.OrderModelFactory._catalogSettings</a></div><div class="ttdeci">readonly CatalogSettings _catalogSettings</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:54</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_a9836ccb186b0a63b89a200ddda9d33a5"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a9836ccb186b0a63b89a200ddda9d33a5">Nop.Web.Areas.Admin.Factories.OrderModelFactory._localizationService</a></div><div class="ttdeci">readonly ILocalizationService _localizationService</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:69</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_aa507067ff470196a42e29e3139702ad1"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#aa507067ff470196a42e29e3139702ad1">Nop.Web.Areas.Admin.Factories.OrderModelFactory._rewardPointService</a></div><div class="ttdeci">readonly IRewardPointService _rewardPointService</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:82</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_aa7894db3160e0861e87e2d3d1c5f49d8"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#aa7894db3160e0861e87e2d3d1c5f49d8">Nop.Web.Areas.Admin.Factories.OrderModelFactory._encryptionService</a></div><div class="ttdeci">readonly IEncryptionService _encryptionService</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:67</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_aacde7cf726f871bd66f342fc4017c364"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#aacde7cf726f871bd66f342fc4017c364">Nop.Web.Areas.Admin.Factories.OrderModelFactory._addressService</a></div><div class="ttdeci">readonly IAddressService _addressService</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:58</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_ab55166dea434654c5ed7176959d19359"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab55166dea434654c5ed7176959d19359">Nop.Web.Areas.Admin.Factories.OrderModelFactory._taxService</a></div><div class="ttdeci">readonly ITaxService _taxService</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:87</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_ab5e4e8aa9178bbb26b4e452000404e91"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab5e4e8aa9178bbb26b4e452000404e91">Nop.Web.Areas.Admin.Factories.OrderModelFactory._shippingSettings</a></div><div class="ttdeci">readonly ShippingSettings _shippingSettings</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:93</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_ab6682882a532cbb79a2a0a81b88e546f"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab6682882a532cbb79a2a0a81b88e546f">Nop.Web.Areas.Admin.Factories.OrderModelFactory._orderSettings</a></div><div class="ttdeci">readonly OrderSettings _orderSettings</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:92</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_abbe64278bfe8930de878fb194ad22993"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#abbe64278bfe8930de878fb194ad22993">Nop.Web.Areas.Admin.Factories.OrderModelFactory._orderService</a></div><div class="ttdeci">readonly IOrderService _orderService</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:73</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_abdaac0795f3aae7f108b1714c821e2bb"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#abdaac0795f3aae7f108b1714c821e2bb">Nop.Web.Areas.Admin.Factories.OrderModelFactory._priceCalculationService</a></div><div class="ttdeci">readonly IPriceCalculationService _priceCalculationService</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:77</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_ad4e6087a4745d5c050a546fc25455bec"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ad4e6087a4745d5c050a546fc25455bec">Nop.Web.Areas.Admin.Factories.OrderModelFactory._affiliateService</a></div><div class="ttdeci">readonly IAffiliateService _affiliateService</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:59</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_adcd9a53131ac96de5e10beaad0e71e38"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#adcd9a53131ac96de5e10beaad0e71e38">Nop.Web.Areas.Admin.Factories.OrderModelFactory._storeService</a></div><div class="ttdeci">readonly IStoreService _storeService</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:86</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_adff9d3582886576d13035a47fe38d4aa"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#adff9d3582886576d13035a47fe38d4aa">Nop.Web.Areas.Admin.Factories.OrderModelFactory._pictureService</a></div><div class="ttdeci">readonly IPictureService _pictureService</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:76</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_ae2b6e65145fe864ce8fccebd933b2c2d"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ae2b6e65145fe864ce8fccebd933b2c2d">Nop.Web.Areas.Admin.Factories.OrderModelFactory._actionContextAccessor</a></div><div class="ttdeci">readonly IActionContextAccessor _actionContextAccessor</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:56</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_ae3cbe94ff108675898369e050d4fd3e4"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ae3cbe94ff108675898369e050d4fd3e4">Nop.Web.Areas.Admin.Factories.OrderModelFactory._productAttributeService</a></div><div class="ttdeci">readonly IProductAttributeService _productAttributeService</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:79</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_ae615982a6467b18f4a33b2a5b4efbde4"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ae615982a6467b18f4a33b2a5b4efbde4">Nop.Web.Areas.Admin.Factories.OrderModelFactory._countryService</a></div><div class="ttdeci">readonly ICountryService _countryService</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:61</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_af26dbef381792d0814c79993db317c3a"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#af26dbef381792d0814c79993db317c3a">Nop.Web.Areas.Admin.Factories.OrderModelFactory._workContext</a></div><div class="ttdeci">readonly IWorkContext _workContext</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:90</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_af7b14d9158a4e15d939905847464614b"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#af7b14d9158a4e15d939905847464614b">Nop.Web.Areas.Admin.Factories.OrderModelFactory._addressModelFactory</a></div><div class="ttdeci">readonly IAddressModelFactory _addressModelFactory</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:57</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ae2b6e65145fe864ce8fccebd933b2c2d">Nop.Web.Areas.Admin.Factories.OrderModelFactory._actionContextAccessor</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#af7b14d9158a4e15d939905847464614b">Nop.Web.Areas.Admin.Factories.OrderModelFactory._addressModelFactory</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#aacde7cf726f871bd66f342fc4017c364">Nop.Web.Areas.Admin.Factories.OrderModelFactory._addressService</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a2011570edf3ae45c34f6e652fee681b3">Nop.Web.Areas.Admin.Factories.OrderModelFactory._addressSettings</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ad4e6087a4745d5c050a546fc25455bec">Nop.Web.Areas.Admin.Factories.OrderModelFactory._affiliateService</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6232ea2a7557eacfc3f1570ede36753e">Nop.Web.Areas.Admin.Factories.OrderModelFactory._baseAdminModelFactory</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a97ad9d1cd65429e39c7432234c60348f">Nop.Web.Areas.Admin.Factories.OrderModelFactory._catalogSettings</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ae615982a6467b18f4a33b2a5b4efbde4">Nop.Web.Areas.Admin.Factories.OrderModelFactory._countryService</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a2fb6ff7cb0522e3273c278d248f573ca">Nop.Web.Areas.Admin.Factories.OrderModelFactory._currencyService</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a430244906e5403b6ec592b8d92033b5e">Nop.Web.Areas.Admin.Factories.OrderModelFactory._currencySettings</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a3305bf0bf98804ee203caaf841dc8fec">Nop.Web.Areas.Admin.Factories.OrderModelFactory._customerService</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a3f46f2e2528845d2aa2d23e4578ecafa">Nop.Web.Areas.Admin.Factories.OrderModelFactory._dateTimeHelper</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6a632a10b2d07c1bf4f2054d6c66b5ac">Nop.Web.Areas.Admin.Factories.OrderModelFactory._discountService</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a169bde984d85bb22570777f279998831">Nop.Web.Areas.Admin.Factories.OrderModelFactory._downloadService</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#aa7894db3160e0861e87e2d3d1c5f49d8">Nop.Web.Areas.Admin.Factories.OrderModelFactory._encryptionService</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a7eabf838c0e8539109bd577349171443">Nop.Web.Areas.Admin.Factories.OrderModelFactory._giftCardService</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a9836ccb186b0a63b89a200ddda9d33a5">Nop.Web.Areas.Admin.Factories.OrderModelFactory._localizationService</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a4ba50b1aa5dae92524d85ed2677f8df0">Nop.Web.Areas.Admin.Factories.OrderModelFactory._measureService</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a407290ca008ada3377b25f0c6d39b401">Nop.Web.Areas.Admin.Factories.OrderModelFactory._measureSettings</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a902e9073fdca3fe7c0525ce292c20e86">Nop.Web.Areas.Admin.Factories.OrderModelFactory._orderProcessingService</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a4ed906aaccb7f008ed5d9c511da89b53">Nop.Web.Areas.Admin.Factories.OrderModelFactory._orderReportService</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#abbe64278bfe8930de878fb194ad22993">Nop.Web.Areas.Admin.Factories.OrderModelFactory._orderService</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab6682882a532cbb79a2a0a81b88e546f">Nop.Web.Areas.Admin.Factories.OrderModelFactory._orderSettings</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a1084c4344b2534317c4f2eecb03573e0">Nop.Web.Areas.Admin.Factories.OrderModelFactory._paymentPluginManager</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a1bac9a1717c949ee3435857de31de38b">Nop.Web.Areas.Admin.Factories.OrderModelFactory._paymentService</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#adff9d3582886576d13035a47fe38d4aa">Nop.Web.Areas.Admin.Factories.OrderModelFactory._pictureService</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#abdaac0795f3aae7f108b1714c821e2bb">Nop.Web.Areas.Admin.Factories.OrderModelFactory._priceCalculationService</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6da91fcb0904bc0fc0fd72ce11ac9f51">Nop.Web.Areas.Admin.Factories.OrderModelFactory._priceFormatter</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ae3cbe94ff108675898369e050d4fd3e4">Nop.Web.Areas.Admin.Factories.OrderModelFactory._productAttributeService</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6988632d04789e35ccbba9075409715d">Nop.Web.Areas.Admin.Factories.OrderModelFactory._productService</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a5cead4a2f5c5c314a4861615761a7ace">Nop.Web.Areas.Admin.Factories.OrderModelFactory._returnRequestService</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#aa507067ff470196a42e29e3139702ad1">Nop.Web.Areas.Admin.Factories.OrderModelFactory._rewardPointService</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a4c7379f0c7ec0d1984366500983dd77b">Nop.Web.Areas.Admin.Factories.OrderModelFactory._shipmentService</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a12905d9567b339e154a65c9f24db426b">Nop.Web.Areas.Admin.Factories.OrderModelFactory._shippingService</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab5e4e8aa9178bbb26b4e452000404e91">Nop.Web.Areas.Admin.Factories.OrderModelFactory._shippingSettings</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a17f2ab16bbb673cb5e722b7071e6df40">Nop.Web.Areas.Admin.Factories.OrderModelFactory._stateProvinceService</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#adcd9a53131ac96de5e10beaad0e71e38">Nop.Web.Areas.Admin.Factories.OrderModelFactory._storeService</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab55166dea434654c5ed7176959d19359">Nop.Web.Areas.Admin.Factories.OrderModelFactory._taxService</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a758c226f21c8cec5d74cc3d61dea9c78">Nop.Web.Areas.Admin.Factories.OrderModelFactory._taxSettings</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a8fe8feeb97200eafa72410f14a66dbf4">Nop.Web.Areas.Admin.Factories.OrderModelFactory._urlHelperFactory</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a5e78ec84e9ca28a075939d3fb7782002">Nop.Web.Areas.Admin.Factories.OrderModelFactory._urlRecordService</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a84d08a964af828096c8fe9a930504c34">Nop.Web.Areas.Admin.Factories.OrderModelFactory._vendorService</a> e <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#af26dbef381792d0814c79993db317c3a">Nop.Web.Areas.Admin.Factories.OrderModelFactory._workContext</a>.</p>

</div>
</div>
<h2 class="groupheader">Documentação dos métodos</h2>
<a id="a756a79c7b2c3bc2627b62c19ac588337"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a756a79c7b2c3bc2627b62c19ac588337">&#9670;&nbsp;</a></span>PrepareAddProductToOrderListModelAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;AddProductToOrderListModel&gt; Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareAddProductToOrderListModelAsync </td>
          <td>(</td>
          <td class="paramtype">AddProductToOrderSearchModel&#160;</td>
          <td class="paramname"><em>searchModel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a>&#160;</td>
          <td class="paramname"><em>order</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare paged product list model to add to the order </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">searchModel</td><td>Product search model to add to the order</td></tr>
    <tr><td class="paramname">order</td><td>Order</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the product search model to add to the order </dd></dl>

<p>Implementa <a class="el" href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_order_model_factory.html#a3347a3e848100bcd535c0250a7ee9d62">Nop.Web.Areas.Admin.Factories.IOrderModelFactory</a>.</p>
<div class="fragment"><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;        {</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;            <span class="keywordflow">if</span> (searchModel == <span class="keyword">null</span>)</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(searchModel));</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160; </div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;            <span class="comment">//get products</span></div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;            var products = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6988632d04789e35ccbba9075409715d">_productService</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#ad9ca0cc9b72f48bed78a2fa2a89467d0">SearchProductsAsync</a>(showHidden: <span class="keyword">true</span>,</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;                categoryIds: <span class="keyword">new</span> List&lt;int&gt; { searchModel.SearchCategoryId },</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;                manufacturerIds: <span class="keyword">new</span> List&lt;int&gt; { searchModel.SearchManufacturerId },</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;                productType: searchModel.SearchProductTypeId &gt; 0 ? (<a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_catalog.html#a232903837e98f35acf949857ea536d8b">ProductType</a>?)searchModel.SearchProductTypeId : <span class="keyword">null</span>,</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;                keywords: searchModel.SearchProductName,</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;                pageIndex: searchModel.Page - 1, pageSize: searchModel.PageSize);</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160; </div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;            <span class="comment">//prepare grid model</span></div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;            var model = await <span class="keyword">new</span> AddProductToOrderListModel().PrepareToGridAsync(searchModel, products, () =&gt;</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;            {</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;                <span class="comment">//fill in model values from the entity</span></div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;                <span class="keywordflow">return</span> products.SelectAwait(async product =&gt;</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;                {</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;                    var productModel = product.ToModel&lt;<a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#af1f0269700badfa56571e34fe23a99d7">ProductModel</a>&gt;();</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160; </div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;                    productModel.SeName = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a5e78ec84e9ca28a075939d3fb7782002">_urlRecordService</a>.<a class="code" href="interface_nop_1_1_services_1_1_seo_1_1_i_url_record_service.html#a0f9c8db520bfb641d97e300dc503d7ff">GetSeNameAsync</a>(product, 0, <span class="keyword">true</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160; </div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;                    <span class="keywordflow">return</span> productModel;</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;                });</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;            });</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160; </div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;            <span class="keywordflow">return</span> model;</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;        }</div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_catalog_1_1_i_product_service_html_ad9ca0cc9b72f48bed78a2fa2a89467d0"><div class="ttname"><a href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#ad9ca0cc9b72f48bed78a2fa2a89467d0">Nop.Services.Catalog.IProductService.SearchProductsAsync</a></div><div class="ttdeci">Task&lt; IPagedList&lt; Product &gt; &gt; SearchProductsAsync(int pageIndex=0, int pageSize=int.MaxValue, IList&lt; int &gt; categoryIds=null, IList&lt; int &gt; manufacturerIds=null, int storeId=0, int vendorId=0, int warehouseId=0, ProductType? productType=null, bool visibleIndividuallyOnly=false, bool excludeFeaturedProducts=false, decimal? priceMin=null, decimal? priceMax=null, int productTagId=0, string keywords=null, bool searchDescriptions=false, bool searchManufacturerPartNumber=true, bool searchSku=true, bool searchProductTags=false, int languageId=0, IList&lt; SpecificationAttributeOption &gt; filteredSpecOptions=null, ProductSortingEnum orderBy=ProductSortingEnum.Position, bool showHidden=false, bool? overridePublished=null)</div><div class="ttdoc">Search products</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_seo_1_1_i_url_record_service_html_a0f9c8db520bfb641d97e300dc503d7ff"><div class="ttname"><a href="interface_nop_1_1_services_1_1_seo_1_1_i_url_record_service.html#a0f9c8db520bfb641d97e300dc503d7ff">Nop.Services.Seo.IUrlRecordService.GetSeNameAsync</a></div><div class="ttdeci">Task&lt; string &gt; GetSeNameAsync(int entityId, string entityName, int? languageId=null, bool returnDefaultValue=true, bool ensureTwoPublishedLanguages=true)</div><div class="ttdoc">Get search engine friendly name (slug)</div></div>
<div class="ttc" id="anamespace_nop_1_1_core_1_1_domain_1_1_catalog_html_a232903837e98f35acf949857ea536d8b"><div class="ttname"><a href="namespace_nop_1_1_core_1_1_domain_1_1_catalog.html#a232903837e98f35acf949857ea536d8b">Nop.Core.Domain.Catalog.ProductType</a></div><div class="ttdeci">ProductType</div><div class="ttdoc">Represents a product type</div><div class="ttdef"><b>Definition:</b> ProductType.cs:7</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog_html_af1f0269700badfa56571e34fe23a99d7"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#af1f0269700badfa56571e34fe23a99d7">Nop.Web.Areas.Admin.Models.Catalog.ProductModel</a></div><div class="ttdeci">partial record ProductModel</div><div class="ttdoc">Represents a product model</div><div class="ttdef"><b>Definition:</b> ProductModel.cs:14</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#af1f0269700badfa56571e34fe23a99d7">Nop.Web.Areas.Admin.Models.Catalog.ProductModel</a>.</p>

</div>
</div>
<a id="a0476639ad6956c0a091beba67934fdbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0476639ad6956c0a091beba67934fdbf">&#9670;&nbsp;</a></span>PrepareAddProductToOrderModelAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;AddProductToOrderModel&gt; Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareAddProductToOrderModelAsync </td>
          <td>(</td>
          <td class="paramtype">AddProductToOrderModel&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a>&#160;</td>
          <td class="paramname"><em>order</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html">Product</a>&#160;</td>
          <td class="paramname"><em>product</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare product model to add to the order </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">model</td><td>Product model to add to the order</td></tr>
    <tr><td class="paramname">order</td><td>Order</td></tr>
    <tr><td class="paramname">product</td><td>Product</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the product model to add to the order </dd></dl>

<p>Implementa <a class="el" href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_order_model_factory.html#abda46c164780e5f5447696bd405f6670">Nop.Web.Areas.Admin.Factories.IOrderModelFactory</a>.</p>
<div class="fragment"><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;        {</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;            <span class="keywordflow">if</span> (model == <span class="keyword">null</span>)</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(model));</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160; </div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;            <span class="keywordflow">if</span> (order == <span class="keyword">null</span>)</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(order));</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160; </div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;            <span class="keywordflow">if</span> (product == <span class="keyword">null</span>)</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(product));</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160; </div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;            var customer = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a3305bf0bf98804ee203caaf841dc8fec">_customerService</a>.<a class="code" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#a9d2dc587d116a6f656792c4f4cf22e09">GetCustomerByIdAsync</a>(order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#afc851a198d160f4084e1398b3b4892c3">CustomerId</a>);</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160; </div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;            model.ProductId = product.<a class="code" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Id</a>;</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;            model.OrderId = order.<a class="code" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Id</a>;</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;            model.Name = product.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a4b119ac123cf92485fb9429738f85170">Name</a>;</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;            model.IsRental = product.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a561891299d6853a51615c4fdb64b33f4">IsRental</a>;</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;            model.ProductType = product.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a92d74dcaaffc25df6364d14190d19994">ProductType</a>;</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;            model.AutoUpdateOrderTotals = <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab6682882a532cbb79a2a0a81b88e546f">_orderSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_settings.html#a91f24ca6cbaded8d2ad4d792ad383550">AutoUpdateOrderTotalsOnEditingOrder</a>;</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160; </div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;            var presetQty = 1;</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;            var (_, presetPrice, _, _) = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#abdaac0795f3aae7f108b1714c821e2bb">_priceCalculationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_calculation_service.html#a02e38b71db87fd8e5861c0b961986f54">GetFinalPriceAsync</a>(product, customer, decimal.Zero, <span class="keyword">true</span>, presetQty);</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;            var (presetPriceInclTax, _) = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab55166dea434654c5ed7176959d19359">_taxService</a>.<a class="code" href="interface_nop_1_1_services_1_1_tax_1_1_i_tax_service.html#a3fc89fb59109314bd1358d290a8d3684">GetProductPriceAsync</a>(product, presetPrice, <span class="keyword">true</span>, customer);</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;            var (presetPriceExclTax, _) = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab55166dea434654c5ed7176959d19359">_taxService</a>.<a class="code" href="interface_nop_1_1_services_1_1_tax_1_1_i_tax_service.html#a3fc89fb59109314bd1358d290a8d3684">GetProductPriceAsync</a>(product, presetPrice, <span class="keyword">false</span>, customer);</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;            model.UnitPriceExclTax = presetPriceExclTax;</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;            model.UnitPriceInclTax = presetPriceInclTax;</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;            model.Quantity = presetQty;</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;            model.SubTotalExclTax = presetPriceExclTax;</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;            model.SubTotalInclTax = presetPriceInclTax;</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160; </div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;            <span class="comment">//attributes</span></div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;            await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a5cd64f898375697c565316d6572721e6">PrepareProductAttributeModelsAsync</a>(model.ProductAttributes, order, product);</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;            model.HasCondition = model.ProductAttributes.Any(attribute =&gt; attribute.HasCondition);</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160; </div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;            <span class="comment">//gift card</span></div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;            model.GiftCard.IsGiftCard = product.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a8d70485c3203a16825ae825c95213251">IsGiftCard</a>;</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;            <span class="keywordflow">if</span> (model.GiftCard.IsGiftCard)</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;                model.GiftCard.GiftCardType = product.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a890e434f9d4c91e70b77f48a09a4fde7">GiftCardType</a>;</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160; </div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;            <span class="keywordflow">return</span> model;</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_base_entity_html_a6908f7c042a024f82d7e7947e75bca53"><div class="ttname"><a href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Nop.Core.BaseEntity.Id</a></div><div class="ttdeci">int Id</div><div class="ttdoc">Gets or sets the entity identifier</div><div class="ttdef"><b>Definition:</b> BaseEntity.cs:11</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product_html_a4b119ac123cf92485fb9429738f85170"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a4b119ac123cf92485fb9429738f85170">Nop.Core.Domain.Catalog.Product.Name</a></div><div class="ttdeci">string Name</div><div class="ttdoc">Gets or sets the name</div><div class="ttdef"><b>Definition:</b> Product.cs:36</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product_html_a561891299d6853a51615c4fdb64b33f4"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a561891299d6853a51615c4fdb64b33f4">Nop.Core.Domain.Catalog.Product.IsRental</a></div><div class="ttdeci">bool IsRental</div><div class="ttdoc">Gets or sets a value indicating whether the product is rental</div><div class="ttdef"><b>Definition:</b> Product.cs:236</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product_html_a890e434f9d4c91e70b77f48a09a4fde7"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a890e434f9d4c91e70b77f48a09a4fde7">Nop.Core.Domain.Catalog.Product.GiftCardType</a></div><div class="ttdeci">GiftCardType GiftCardType</div><div class="ttdoc">Gets or sets the gift card type</div><div class="ttdef"><b>Definition:</b> Product.cs:575</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product_html_a8d70485c3203a16825ae825c95213251"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a8d70485c3203a16825ae825c95213251">Nop.Core.Domain.Catalog.Product.IsGiftCard</a></div><div class="ttdeci">bool IsGiftCard</div><div class="ttdoc">Gets or sets a value indicating whether the product is gift card</div><div class="ttdef"><b>Definition:</b> Product.cs:136</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product_html_a92d74dcaaffc25df6364d14190d19994"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a92d74dcaaffc25df6364d14190d19994">Nop.Core.Domain.Catalog.Product.ProductType</a></div><div class="ttdeci">ProductType ProductType</div><div class="ttdoc">Gets or sets the product type</div><div class="ttdef"><b>Definition:</b> Product.cs:548</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_afc851a198d160f4084e1398b3b4892c3"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#afc851a198d160f4084e1398b3b4892c3">Nop.Core.Domain.Orders.Order.CustomerId</a></div><div class="ttdeci">int CustomerId</div><div class="ttdoc">Gets or sets the customer identifier</div><div class="ttdef"><b>Definition:</b> Order.cs:29</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_settings_html_a91f24ca6cbaded8d2ad4d792ad383550"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_settings.html#a91f24ca6cbaded8d2ad4d792ad383550">Nop.Core.Domain.Orders.OrderSettings.AutoUpdateOrderTotalsOnEditingOrder</a></div><div class="ttdeci">bool AutoUpdateOrderTotalsOnEditingOrder</div><div class="ttdoc">Gets or sets a value indicating whether automatically update order totals on editing an order in admi...</div><div class="ttdef"><b>Definition:</b> OrderSettings.cs:34</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_a5cd64f898375697c565316d6572721e6"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a5cd64f898375697c565316d6572721e6">Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareProductAttributeModelsAsync</a></div><div class="ttdeci">virtual async Task PrepareProductAttributeModelsAsync(IList&lt; AddProductToOrderModel.ProductAttributeModel &gt; models, Order order, Product product)</div><div class="ttdoc">Prepare product attribute models</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:640</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_catalog_1_1_i_price_calculation_service_html_a02e38b71db87fd8e5861c0b961986f54"><div class="ttname"><a href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_calculation_service.html#a02e38b71db87fd8e5861c0b961986f54">Nop.Services.Catalog.IPriceCalculationService.GetFinalPriceAsync</a></div><div class="ttdeci">Task&lt;(decimal priceWithoutDiscounts, decimal finalPrice, decimal appliedDiscountAmount, List&lt; Discount &gt; appliedDiscounts)&gt; GetFinalPriceAsync(Product product, Customer customer, decimal additionalCharge=0, bool includeDiscounts=true, int quantity=1)</div><div class="ttdoc">Gets the final price</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_customers_1_1_i_customer_service_html_a9d2dc587d116a6f656792c4f4cf22e09"><div class="ttname"><a href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#a9d2dc587d116a6f656792c4f4cf22e09">Nop.Services.Customers.ICustomerService.GetCustomerByIdAsync</a></div><div class="ttdeci">Task&lt; Customer &gt; GetCustomerByIdAsync(int customerId)</div><div class="ttdoc">Gets a customer</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_tax_1_1_i_tax_service_html_a3fc89fb59109314bd1358d290a8d3684"><div class="ttname"><a href="interface_nop_1_1_services_1_1_tax_1_1_i_tax_service.html#a3fc89fb59109314bd1358d290a8d3684">Nop.Services.Tax.ITaxService.GetProductPriceAsync</a></div><div class="ttdeci">Task&lt;(decimal price, decimal taxRate)&gt; GetProductPriceAsync(Product product, decimal price)</div><div class="ttdoc">Gets price</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#afc851a198d160f4084e1398b3b4892c3">Nop.Core.Domain.Orders.Order.CustomerId</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a890e434f9d4c91e70b77f48a09a4fde7">Nop.Core.Domain.Catalog.Product.GiftCardType</a>, <a class="el" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Nop.Core.BaseEntity.Id</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a8d70485c3203a16825ae825c95213251">Nop.Core.Domain.Catalog.Product.IsGiftCard</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a561891299d6853a51615c4fdb64b33f4">Nop.Core.Domain.Catalog.Product.IsRental</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a4b119ac123cf92485fb9429738f85170">Nop.Core.Domain.Catalog.Product.Name</a> e <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a92d74dcaaffc25df6364d14190d19994">Nop.Core.Domain.Catalog.Product.ProductType</a>.</p>

</div>
</div>
<a id="a018a626b0b724320e5d7ca1c414d4cc0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a018a626b0b724320e5d7ca1c414d4cc0">&#9670;&nbsp;</a></span>PrepareAddProductToOrderSearchModelAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;AddProductToOrderSearchModel&gt; Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareAddProductToOrderSearchModelAsync </td>
          <td>(</td>
          <td class="paramtype">AddProductToOrderSearchModel&#160;</td>
          <td class="paramname"><em>searchModel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a>&#160;</td>
          <td class="paramname"><em>order</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare product search model to add to the order </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">searchModel</td><td>Product search model to add to the order</td></tr>
    <tr><td class="paramname">order</td><td>Order</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the product search model to add to the order </dd></dl>

<p>Implementa <a class="el" href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_order_model_factory.html#ab42885b96d0892dd728059fb3a7f2eb1">Nop.Web.Areas.Admin.Factories.IOrderModelFactory</a>.</p>
<div class="fragment"><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;        {</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;            <span class="keywordflow">if</span> (searchModel == <span class="keyword">null</span>)</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(searchModel));</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160; </div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;            <span class="keywordflow">if</span> (order == <span class="keyword">null</span>)</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(order));</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160; </div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;            searchModel.OrderId = order.<a class="code" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Id</a>;</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160; </div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;            <span class="comment">//prepare available categories</span></div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;            await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6232ea2a7557eacfc3f1570ede36753e">_baseAdminModelFactory</a>.<a class="code" href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_base_admin_model_factory.html#a633c561a4eedae03f4ec94d96fb3e121">PrepareCategoriesAsync</a>(searchModel.AvailableCategories);</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160; </div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;            <span class="comment">//prepare available manufacturers</span></div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;            await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6232ea2a7557eacfc3f1570ede36753e">_baseAdminModelFactory</a>.<a class="code" href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_base_admin_model_factory.html#abc137c3ae2d8775663bf399b0e77b3ce">PrepareManufacturersAsync</a>(searchModel.AvailableManufacturers);</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160; </div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;            <span class="comment">//prepare available product types</span></div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;            await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6232ea2a7557eacfc3f1570ede36753e">_baseAdminModelFactory</a>.<a class="code" href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_base_admin_model_factory.html#a6c11af77cf4dd53f71fa4d51ac5fc145">PrepareProductTypesAsync</a>(searchModel.AvailableProductTypes);</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160; </div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;            <span class="comment">//prepare page parameters</span></div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;            searchModel.SetGridPageSize();</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160; </div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;            <span class="keywordflow">return</span> searchModel;</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;        }</div>
<div class="ttc" id="ainterface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_base_admin_model_factory_html_a633c561a4eedae03f4ec94d96fb3e121"><div class="ttname"><a href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_base_admin_model_factory.html#a633c561a4eedae03f4ec94d96fb3e121">Nop.Web.Areas.Admin.Factories.IBaseAdminModelFactory.PrepareCategoriesAsync</a></div><div class="ttdeci">Task PrepareCategoriesAsync(IList&lt; SelectListItem &gt; items, bool withSpecialDefaultItem=true, string defaultItemText=null)</div><div class="ttdoc">Prepare available categories</div></div>
<div class="ttc" id="ainterface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_base_admin_model_factory_html_a6c11af77cf4dd53f71fa4d51ac5fc145"><div class="ttname"><a href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_base_admin_model_factory.html#a6c11af77cf4dd53f71fa4d51ac5fc145">Nop.Web.Areas.Admin.Factories.IBaseAdminModelFactory.PrepareProductTypesAsync</a></div><div class="ttdeci">Task PrepareProductTypesAsync(IList&lt; SelectListItem &gt; items, bool withSpecialDefaultItem=true, string defaultItemText=null)</div><div class="ttdoc">Prepare available product types</div></div>
<div class="ttc" id="ainterface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_base_admin_model_factory_html_abc137c3ae2d8775663bf399b0e77b3ce"><div class="ttname"><a href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_base_admin_model_factory.html#abc137c3ae2d8775663bf399b0e77b3ce">Nop.Web.Areas.Admin.Factories.IBaseAdminModelFactory.PrepareManufacturersAsync</a></div><div class="ttdeci">Task PrepareManufacturersAsync(IList&lt; SelectListItem &gt; items, bool withSpecialDefaultItem=true, string defaultItemText=null)</div><div class="ttdoc">Prepare available manufacturers</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Nop.Core.BaseEntity.Id</a>.</p>

</div>
</div>
<a id="ac97e977e7b02e632ce83d2d1a4b6fef3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac97e977e7b02e632ce83d2d1a4b6fef3">&#9670;&nbsp;</a></span>PrepareBestsellerBriefListModelAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;BestsellerBriefListModel&gt; Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareBestsellerBriefListModelAsync </td>
          <td>(</td>
          <td class="paramtype">BestsellerBriefSearchModel&#160;</td>
          <td class="paramname"><em>searchModel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare paged bestseller brief list model </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">searchModel</td><td>Bestseller brief search model</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the bestseller brief list model </dd></dl>

<p>Implementa <a class="el" href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_order_model_factory.html#a86ec9042f713d2200d9b77525074d200">Nop.Web.Areas.Admin.Factories.IOrderModelFactory</a>.</p>
<div class="fragment"><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;        {</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;            <span class="keywordflow">if</span> (searchModel == <span class="keyword">null</span>)</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(searchModel));</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160; </div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;            <span class="comment">//get bestsellers</span></div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;            var bestsellers = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a4ed906aaccb7f008ed5d9c511da89b53">_orderReportService</a>.<a class="code" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_report_service.html#ac0d7407885fae87cbc284c64365135e8">BestSellersReportAsync</a>(showHidden: <span class="keyword">true</span>,</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;                vendorId: (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#af26dbef381792d0814c79993db317c3a">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a89d734829c4f453033e1051632214427">GetCurrentVendorAsync</a>())?.Id ?? 0,</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;                orderBy: searchModel.OrderBy,</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;                pageIndex: searchModel.Page - 1, pageSize: searchModel.PageSize);</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160; </div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;            <span class="comment">//prepare list model</span></div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;            var model = await <span class="keyword">new</span> BestsellerBriefListModel().PrepareToGridAsync(searchModel, bestsellers, () =&gt;</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;            {</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;                <span class="comment">//fill in model values from the entity</span></div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;                <span class="keywordflow">return</span> bestsellers.SelectAwait(async bestseller =&gt;</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;                {</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;                    <span class="comment">//fill in model values from the entity</span></div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;                    var bestsellerModel = <span class="keyword">new</span> <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_reports.html#ab1929bac93f5622fc5054ca2fe3bd6c1">BestsellerModel</a></div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;                    {</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;                        <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#a5f43f2b53838c9c8c34cf27f06f5e78c">ProductId</a> = bestseller.ProductId,</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;                        <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_reports.html#ab62bdc4421eba971b6fbf9e50be370e4">TotalQuantity</a> = bestseller.TotalQuantity</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;                    };</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160; </div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;                    <span class="comment">//fill in additional values (not existing in the entity)</span></div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;                    bestsellerModel.ProductName = (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6988632d04789e35ccbba9075409715d">_productService</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#ab448923cc8826840ac6cd1558a0f2a9d">GetProductByIdAsync</a>(bestseller.ProductId))?.Name;</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;                    bestsellerModel.TotalAmount = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6da91fcb0904bc0fc0fd72ce11ac9f51">_priceFormatter</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html#a5e131524dfbb20c6d2d175f3323de98a">FormatPriceAsync</a>(bestseller.TotalAmount, <span class="keyword">true</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160; </div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;                    <span class="keywordflow">return</span> bestsellerModel;</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;                });</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;            });</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160; </div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;            <span class="keywordflow">return</span> model;</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;        }</div>
<div class="ttc" id="ainterface_nop_1_1_core_1_1_i_work_context_html_a89d734829c4f453033e1051632214427"><div class="ttname"><a href="interface_nop_1_1_core_1_1_i_work_context.html#a89d734829c4f453033e1051632214427">Nop.Core.IWorkContext.GetCurrentVendorAsync</a></div><div class="ttdeci">Task&lt; Vendor &gt; GetCurrentVendorAsync()</div><div class="ttdoc">Gets the current vendor (logged-in manager)</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter_html_a5e131524dfbb20c6d2d175f3323de98a"><div class="ttname"><a href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html#a5e131524dfbb20c6d2d175f3323de98a">Nop.Services.Catalog.IPriceFormatter.FormatPriceAsync</a></div><div class="ttdeci">Task&lt; string &gt; FormatPriceAsync(decimal price)</div><div class="ttdoc">Formats the price</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_catalog_1_1_i_product_service_html_ab448923cc8826840ac6cd1558a0f2a9d"><div class="ttname"><a href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#ab448923cc8826840ac6cd1558a0f2a9d">Nop.Services.Catalog.IProductService.GetProductByIdAsync</a></div><div class="ttdeci">Task&lt; Product &gt; GetProductByIdAsync(int productId)</div><div class="ttdoc">Gets product</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_orders_1_1_i_order_report_service_html_ac0d7407885fae87cbc284c64365135e8"><div class="ttname"><a href="interface_nop_1_1_services_1_1_orders_1_1_i_order_report_service.html#ac0d7407885fae87cbc284c64365135e8">Nop.Services.Orders.IOrderReportService.BestSellersReportAsync</a></div><div class="ttdeci">Task&lt; IPagedList&lt; BestsellersReportLine &gt; &gt; BestSellersReportAsync(int categoryId=0, int manufacturerId=0, int storeId=0, int vendorId=0, DateTime? createdFromUtc=null, DateTime? createdToUtc=null, OrderStatus? os=null, PaymentStatus? ps=null, ShippingStatus? ss=null, int billingCountryId=0, OrderByEnum orderBy=OrderByEnum.OrderByQuantity, int pageIndex=0, int pageSize=int.MaxValue, bool showHidden=false)</div><div class="ttdoc">Get best sellers report</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog_html_a5f43f2b53838c9c8c34cf27f06f5e78c"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#a5f43f2b53838c9c8c34cf27f06f5e78c">Nop.Web.Areas.Admin.Models.Catalog.ProductId</a></div><div class="ttdeci">int ProductId</div><div class="ttdef"><b>Definition:</b> AddAssociatedProductModel.cs:21</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_reports_html_ab1929bac93f5622fc5054ca2fe3bd6c1"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_reports.html#ab1929bac93f5622fc5054ca2fe3bd6c1">Nop.Web.Areas.Admin.Models.Reports.BestsellerModel</a></div><div class="ttdeci">partial record BestsellerModel</div><div class="ttdoc">Represents a bestseller model</div><div class="ttdef"><b>Definition:</b> BestsellerModel.cs:13</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_reports_html_ab62bdc4421eba971b6fbf9e50be370e4"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_reports.html#ab62bdc4421eba971b6fbf9e50be370e4">Nop.Web.Areas.Admin.Models.Reports.TotalQuantity</a></div><div class="ttdeci">decimal TotalQuantity</div><div class="ttdef"><b>Definition:</b> BestsellerModel.cs:22</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_reports.html#ab1929bac93f5622fc5054ca2fe3bd6c1">Nop.Web.Areas.Admin.Models.Reports.BestsellerModel</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#a5f43f2b53838c9c8c34cf27f06f5e78c">Nop.Web.Areas.Admin.Models.Catalog.ProductId</a> e <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_reports.html#ab62bdc4421eba971b6fbf9e50be370e4">Nop.Web.Areas.Admin.Models.Reports.TotalQuantity</a>.</p>

</div>
</div>
<a id="a29995a4d38bd71dc9a75cc59c673b08f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29995a4d38bd71dc9a75cc59c673b08f">&#9670;&nbsp;</a></span>PrepareBestsellerBriefSearchModelAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;BestsellerBriefSearchModel&gt; Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareBestsellerBriefSearchModelAsync </td>
          <td>(</td>
          <td class="paramtype">BestsellerBriefSearchModel&#160;</td>
          <td class="paramname"><em>searchModel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare bestseller brief search model </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">searchModel</td><td>Bestseller brief search model</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the bestseller brief search model </dd></dl>

<p>Implementa <a class="el" href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_order_model_factory.html#ad0817d0b317f5d504dba42e58e12161a">Nop.Web.Areas.Admin.Factories.IOrderModelFactory</a>.</p>
<div class="fragment"><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;        {</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;            <span class="keywordflow">if</span> (searchModel == <span class="keyword">null</span>)</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(searchModel));</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160; </div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;            <span class="comment">//prepare page parameters</span></div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;            searchModel.SetGridPageSize(5);</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160; </div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>.FromResult(searchModel);</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;        }</div>
<div class="ttc" id="a_sendinblue_plugin_8cs_html_a9f49374e6bc76a6b5261e5c211d2e63d"><div class="ttname"><a href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a></div><div class="ttdeci">System.Threading.Tasks.Task Task</div><div class="ttdef"><b>Definition:</b> SendinbluePlugin.cs:15</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abc42bf383a073c5b3ee105856eaef5e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc42bf383a073c5b3ee105856eaef5e6">&#9670;&nbsp;</a></span>PrepareOrderAddressModelAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;OrderAddressModel&gt; Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareOrderAddressModelAsync </td>
          <td>(</td>
          <td class="paramtype">OrderAddressModel&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a>&#160;</td>
          <td class="paramname"><em>order</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address.html">Address</a>&#160;</td>
          <td class="paramname"><em>address</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare order address model </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">model</td><td>Order address model</td></tr>
    <tr><td class="paramname">order</td><td>Order</td></tr>
    <tr><td class="paramname">address</td><td>Address</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the order address model </dd></dl>

<p>Implementa <a class="el" href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_order_model_factory.html#a0def2e1a47451321dfe1b12b3e3fd836">Nop.Web.Areas.Admin.Factories.IOrderModelFactory</a>.</p>
<div class="fragment"><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;        {</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;            <span class="keywordflow">if</span> (model == <span class="keyword">null</span>)</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(model));</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160; </div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;            <span class="keywordflow">if</span> (order == <span class="keyword">null</span>)</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(order));</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160; </div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;            <span class="keywordflow">if</span> (address == <span class="keyword">null</span>)</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(address));</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160; </div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;            model.OrderId = order.<a class="code" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Id</a>;</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160; </div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;            <span class="comment">//prepare address model</span></div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;            model.Address = address.ToModel(model.Address);</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;            await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#af7b14d9158a4e15d939905847464614b">_addressModelFactory</a>.<a class="code" href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_address_model_factory.html#a2c58c405cf85d97ed0a3a6ca5f912080">PrepareAddressModelAsync</a>(model.Address, address);</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a9a0c897a0bc0f788c3ce243d773ef8cd">SetAddressFieldsAsRequired</a>(model.Address);</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160; </div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;            <span class="keywordflow">return</span> model;</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_a9a0c897a0bc0f788c3ce243d773ef8cd"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a9a0c897a0bc0f788c3ce243d773ef8cd">Nop.Web.Areas.Admin.Factories.OrderModelFactory.SetAddressFieldsAsRequired</a></div><div class="ttdeci">virtual void SetAddressFieldsAsRequired(AddressModel model)</div><div class="ttdoc">Set some address fields as required</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:198</div></div>
<div class="ttc" id="ainterface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_address_model_factory_html_a2c58c405cf85d97ed0a3a6ca5f912080"><div class="ttname"><a href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_address_model_factory.html#a2c58c405cf85d97ed0a3a6ca5f912080">Nop.Web.Areas.Admin.Factories.IAddressModelFactory.PrepareAddressModelAsync</a></div><div class="ttdeci">Task PrepareAddressModelAsync(AddressModel model, Address address=null)</div><div class="ttdoc">Prepare address model</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Nop.Core.BaseEntity.Id</a>.</p>

</div>
</div>
<a id="ab0a1514dbb6d0946acab51510d1e3daf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0a1514dbb6d0946acab51510d1e3daf">&#9670;&nbsp;</a></span>PrepareOrderAggregatorModelAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;OrderAggreratorModel&gt; Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareOrderAggregatorModelAsync </td>
          <td>(</td>
          <td class="paramtype">OrderSearchModel&#160;</td>
          <td class="paramname"><em>searchModel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare order aggregator model </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">searchModel</td><td>Order search model</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the order aggregator model </dd></dl>

<p>Implementa <a class="el" href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_order_model_factory.html#a7b1c4584c94b2d77cd040e76470ed91d">Nop.Web.Areas.Admin.Factories.IOrderModelFactory</a>.</p>
<div class="fragment"><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;        {</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;            <span class="keywordflow">if</span> (searchModel == <span class="keyword">null</span>)</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(searchModel));</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160; </div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;            <span class="comment">//get parameters to filter orders</span></div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;            var orderStatusIds = (searchModel.OrderStatusIds?.Contains(0) ?? <span class="keyword">true</span>) ? <span class="keyword">null</span> : searchModel.OrderStatusIds.ToList();</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;            var paymentStatusIds = (searchModel.PaymentStatusIds?.Contains(0) ?? <span class="keyword">true</span>) ? <span class="keyword">null</span> : searchModel.PaymentStatusIds.ToList();</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;            var shippingStatusIds = (searchModel.ShippingStatusIds?.Contains(0) ?? <span class="keyword">true</span>) ? <span class="keyword">null</span> : searchModel.ShippingStatusIds.ToList();</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;            <span class="keywordflow">if</span> (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#af26dbef381792d0814c79993db317c3a">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a89d734829c4f453033e1051632214427">GetCurrentVendorAsync</a>() != <span class="keyword">null</span>)</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;                searchModel.VendorId = (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#af26dbef381792d0814c79993db317c3a">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a89d734829c4f453033e1051632214427">GetCurrentVendorAsync</a>()).<a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a968ff99d09af9aec2bb20d13d463c147">Id</a>;</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;            var startDateValue = !searchModel.StartDate.HasValue ? null</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;                : (DateTime?)<a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a3f46f2e2528845d2aa2d23e4578ecafa">_dateTimeHelper</a>.<a class="code" href="interface_nop_1_1_services_1_1_helpers_1_1_i_date_time_helper.html#a39dea4b6533a9390b7abf02d1d48ab79">ConvertToUtcTime</a>(searchModel.StartDate.Value, await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a3f46f2e2528845d2aa2d23e4578ecafa">_dateTimeHelper</a>.<a class="code" href="interface_nop_1_1_services_1_1_helpers_1_1_i_date_time_helper.html#a694ea4e78b8ef139cd0f1b14312ca2ac">GetCurrentTimeZoneAsync</a>());</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;            var endDateValue = !searchModel.EndDate.HasValue ? null</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;                : (DateTime?)<a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a3f46f2e2528845d2aa2d23e4578ecafa">_dateTimeHelper</a>.<a class="code" href="interface_nop_1_1_services_1_1_helpers_1_1_i_date_time_helper.html#a39dea4b6533a9390b7abf02d1d48ab79">ConvertToUtcTime</a>(searchModel.EndDate.Value, await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a3f46f2e2528845d2aa2d23e4578ecafa">_dateTimeHelper</a>.<a class="code" href="interface_nop_1_1_services_1_1_helpers_1_1_i_date_time_helper.html#a694ea4e78b8ef139cd0f1b14312ca2ac">GetCurrentTimeZoneAsync</a>()).AddDays(1);</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;            var product = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6988632d04789e35ccbba9075409715d">_productService</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#ab448923cc8826840ac6cd1558a0f2a9d">GetProductByIdAsync</a>(searchModel.ProductId);</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;            var filterByProductId = product != <span class="keyword">null</span> &amp;&amp; (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#af26dbef381792d0814c79993db317c3a">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a89d734829c4f453033e1051632214427">GetCurrentVendorAsync</a>() == <span class="keyword">null</span> || product.VendorId == (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#af26dbef381792d0814c79993db317c3a">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a89d734829c4f453033e1051632214427">GetCurrentVendorAsync</a>()).<a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a968ff99d09af9aec2bb20d13d463c147">Id</a>)</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;                ? searchModel.ProductId : 0;</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160; </div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;            <span class="comment">//prepare additional model data</span></div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;            var reportSummary = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a4ed906aaccb7f008ed5d9c511da89b53">_orderReportService</a>.<a class="code" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_report_service.html#a88c040672e09e738aadff09576475caf">GetOrderAverageReportLineAsync</a>(storeId: searchModel.StoreId,</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;                vendorId: searchModel.VendorId,</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;                productId: filterByProductId,</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;                warehouseId: searchModel.WarehouseId,</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;                paymentMethodSystemName: searchModel.PaymentMethodSystemName,</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;                osIds: orderStatusIds,</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;                psIds: paymentStatusIds,</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;                ssIds: shippingStatusIds,</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;                startTimeUtc: startDateValue,</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;                endTimeUtc: endDateValue,</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;                billingPhone: searchModel.BillingPhone,</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;                billingEmail: searchModel.BillingEmail,</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;                billingLastName: searchModel.BillingLastName,</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;                billingCountryId: searchModel.BillingCountryId,</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;                orderNotes: searchModel.OrderNotes);</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160; </div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;            var profit = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a4ed906aaccb7f008ed5d9c511da89b53">_orderReportService</a>.<a class="code" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_report_service.html#a1b5bf55d2f02cb2b6abce43ac3656b60">ProfitReportAsync</a>(storeId: searchModel.StoreId,</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;                vendorId: searchModel.VendorId,</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;                productId: filterByProductId,</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;                warehouseId: searchModel.WarehouseId,</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;                paymentMethodSystemName: searchModel.PaymentMethodSystemName,</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;                osIds: orderStatusIds,</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;                psIds: paymentStatusIds,</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;                ssIds: shippingStatusIds,</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;                startTimeUtc: startDateValue,</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;                endTimeUtc: endDateValue,</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;                billingPhone: searchModel.BillingPhone,</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;                billingEmail: searchModel.BillingEmail,</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;                billingLastName: searchModel.BillingLastName,</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;                billingCountryId: searchModel.BillingCountryId,</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;                orderNotes: searchModel.OrderNotes);</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160; </div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;            var primaryStoreCurrency = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a2fb6ff7cb0522e3273c278d248f573ca">_currencyService</a>.<a class="code" href="interface_nop_1_1_services_1_1_directory_1_1_i_currency_service.html#a81c78d1c9841ac8dc226e43d5a19a4e4">GetCurrencyByIdAsync</a>(<a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a430244906e5403b6ec592b8d92033b5e">_currencySettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_directory_1_1_currency_settings.html#a5d5ba8e598d20352aa491a9924572da8">PrimaryStoreCurrencyId</a>);</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;            var shippingSum = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6da91fcb0904bc0fc0fd72ce11ac9f51">_priceFormatter</a></div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;                .<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html#a24951fd2f8fe6a3f88d88b02a5890779">FormatShippingPriceAsync</a>(reportSummary.SumShippingExclTax, <span class="keyword">true</span>, primaryStoreCurrency, (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#af26dbef381792d0814c79993db317c3a">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a686f2cf36883b0c44436ddbf33a023a5">GetWorkingLanguageAsync</a>()).<a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a968ff99d09af9aec2bb20d13d463c147">Id</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;            var taxSum = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6da91fcb0904bc0fc0fd72ce11ac9f51">_priceFormatter</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html#a5e131524dfbb20c6d2d175f3323de98a">FormatPriceAsync</a>(reportSummary.SumTax, <span class="keyword">true</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;            var totalSum = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6da91fcb0904bc0fc0fd72ce11ac9f51">_priceFormatter</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html#a5e131524dfbb20c6d2d175f3323de98a">FormatPriceAsync</a>(reportSummary.SumOrders, <span class="keyword">true</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;            var profitSum = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6da91fcb0904bc0fc0fd72ce11ac9f51">_priceFormatter</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html#a5e131524dfbb20c6d2d175f3323de98a">FormatPriceAsync</a>(profit, <span class="keyword">true</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160; </div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;            var model = <span class="keyword">new</span> <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#ac1078a2b0512b1ee1a6f99bd2c9b0e83">OrderAggreratorModel</a></div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;            {</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;                aggregatorprofit = profitSum,</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;                <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#ac703a2f9d56d3fb9b11656ed667e6918">aggregatorshipping</a> = shippingSum,</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;                <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a84bb5b6505b4a49559293da31e615611">aggregatortax</a> = taxSum,</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;                <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#ad41a74546ae71ca56d105a9ca18416c4">aggregatortotal</a> = totalSum</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;            };</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160; </div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;            <span class="keywordflow">return</span> model;</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_directory_1_1_currency_settings_html_a5d5ba8e598d20352aa491a9924572da8"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_directory_1_1_currency_settings.html#a5d5ba8e598d20352aa491a9924572da8">Nop.Core.Domain.Directory.CurrencySettings.PrimaryStoreCurrencyId</a></div><div class="ttdeci">int PrimaryStoreCurrencyId</div><div class="ttdoc">Primary store currency identifier</div><div class="ttdef"><b>Definition:</b> CurrencySettings.cs:18</div></div>
<div class="ttc" id="ainterface_nop_1_1_core_1_1_i_work_context_html_a686f2cf36883b0c44436ddbf33a023a5"><div class="ttname"><a href="interface_nop_1_1_core_1_1_i_work_context.html#a686f2cf36883b0c44436ddbf33a023a5">Nop.Core.IWorkContext.GetWorkingLanguageAsync</a></div><div class="ttdeci">Task&lt; Language &gt; GetWorkingLanguageAsync()</div><div class="ttdoc">Gets current user working language</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter_html_a24951fd2f8fe6a3f88d88b02a5890779"><div class="ttname"><a href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html#a24951fd2f8fe6a3f88d88b02a5890779">Nop.Services.Catalog.IPriceFormatter.FormatShippingPriceAsync</a></div><div class="ttdeci">Task&lt; string &gt; FormatShippingPriceAsync(decimal price, bool showCurrency)</div><div class="ttdoc">Formats the shipping price</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_directory_1_1_i_currency_service_html_a81c78d1c9841ac8dc226e43d5a19a4e4"><div class="ttname"><a href="interface_nop_1_1_services_1_1_directory_1_1_i_currency_service.html#a81c78d1c9841ac8dc226e43d5a19a4e4">Nop.Services.Directory.ICurrencyService.GetCurrencyByIdAsync</a></div><div class="ttdeci">Task&lt; Currency &gt; GetCurrencyByIdAsync(int currencyId)</div><div class="ttdoc">Gets a currency</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_helpers_1_1_i_date_time_helper_html_a39dea4b6533a9390b7abf02d1d48ab79"><div class="ttname"><a href="interface_nop_1_1_services_1_1_helpers_1_1_i_date_time_helper.html#a39dea4b6533a9390b7abf02d1d48ab79">Nop.Services.Helpers.IDateTimeHelper.ConvertToUtcTime</a></div><div class="ttdeci">DateTime ConvertToUtcTime(DateTime dt)</div><div class="ttdoc">Converts the date and time to Coordinated Universal Time (UTC)</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_helpers_1_1_i_date_time_helper_html_a694ea4e78b8ef139cd0f1b14312ca2ac"><div class="ttname"><a href="interface_nop_1_1_services_1_1_helpers_1_1_i_date_time_helper.html#a694ea4e78b8ef139cd0f1b14312ca2ac">Nop.Services.Helpers.IDateTimeHelper.GetCurrentTimeZoneAsync</a></div><div class="ttdeci">Task&lt; TimeZoneInfo &gt; GetCurrentTimeZoneAsync()</div><div class="ttdoc">Gets the current user time zone</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_orders_1_1_i_order_report_service_html_a1b5bf55d2f02cb2b6abce43ac3656b60"><div class="ttname"><a href="interface_nop_1_1_services_1_1_orders_1_1_i_order_report_service.html#a1b5bf55d2f02cb2b6abce43ac3656b60">Nop.Services.Orders.IOrderReportService.ProfitReportAsync</a></div><div class="ttdeci">Task&lt; decimal &gt; ProfitReportAsync(int storeId=0, int vendorId=0, int productId=0, int warehouseId=0, int billingCountryId=0, int orderId=0, string paymentMethodSystemName=null, List&lt; int &gt; osIds=null, List&lt; int &gt; psIds=null, List&lt; int &gt; ssIds=null, DateTime? startTimeUtc=null, DateTime? endTimeUtc=null, string billingPhone=null, string billingEmail=null, string billingLastName=&quot;&quot;, string orderNotes=null)</div><div class="ttdoc">Get profit report</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_orders_1_1_i_order_report_service_html_a88c040672e09e738aadff09576475caf"><div class="ttname"><a href="interface_nop_1_1_services_1_1_orders_1_1_i_order_report_service.html#a88c040672e09e738aadff09576475caf">Nop.Services.Orders.IOrderReportService.GetOrderAverageReportLineAsync</a></div><div class="ttdeci">Task&lt; OrderAverageReportLine &gt; GetOrderAverageReportLineAsync(int storeId=0, int vendorId=0, int productId=0, int warehouseId=0, int billingCountryId=0, int orderId=0, string paymentMethodSystemName=null, List&lt; int &gt; osIds=null, List&lt; int &gt; psIds=null, List&lt; int &gt; ssIds=null, DateTime? startTimeUtc=null, DateTime? endTimeUtc=null, string billingPhone=null, string billingEmail=null, string billingLastName=&quot;&quot;, string orderNotes=null)</div><div class="ttdoc">Get order average report</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders_html_a84bb5b6505b4a49559293da31e615611"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a84bb5b6505b4a49559293da31e615611">Nop.Web.Areas.Admin.Models.Orders.aggregatortax</a></div><div class="ttdeci">string aggregatortax</div><div class="ttdef"><b>Definition:</b> OrderModel.cs:275</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders_html_a968ff99d09af9aec2bb20d13d463c147"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a968ff99d09af9aec2bb20d13d463c147">Nop.Web.Areas.Admin.Models.Orders.Id</a></div><div class="ttdeci">override int Id</div><div class="ttdef"><b>Definition:</b> OrderModel.cs:39</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders_html_ac1078a2b0512b1ee1a6f99bd2c9b0e83"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#ac1078a2b0512b1ee1a6f99bd2c9b0e83">Nop.Web.Areas.Admin.Models.Orders.OrderAggreratorModel</a></div><div class="ttdeci">partial record OrderAggreratorModel</div><div class="ttdef"><b>Definition:</b> OrderModel.cs:273</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders_html_ac703a2f9d56d3fb9b11656ed667e6918"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#ac703a2f9d56d3fb9b11656ed667e6918">Nop.Web.Areas.Admin.Models.Orders.aggregatorshipping</a></div><div class="ttdeci">string aggregatorshipping</div><div class="ttdef"><b>Definition:</b> OrderModel.cs:274</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders_html_ad41a74546ae71ca56d105a9ca18416c4"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#ad41a74546ae71ca56d105a9ca18416c4">Nop.Web.Areas.Admin.Models.Orders.aggregatortotal</a></div><div class="ttdeci">string aggregatortotal</div><div class="ttdef"><b>Definition:</b> OrderModel.cs:276</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#ac703a2f9d56d3fb9b11656ed667e6918">Nop.Web.Areas.Admin.Models.Orders.aggregatorshipping</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a84bb5b6505b4a49559293da31e615611">Nop.Web.Areas.Admin.Models.Orders.aggregatortax</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#ad41a74546ae71ca56d105a9ca18416c4">Nop.Web.Areas.Admin.Models.Orders.aggregatortotal</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a968ff99d09af9aec2bb20d13d463c147">Nop.Web.Areas.Admin.Models.Orders.Id</a> e <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#ac1078a2b0512b1ee1a6f99bd2c9b0e83">Nop.Web.Areas.Admin.Models.Orders.OrderAggreratorModel</a>.</p>

</div>
</div>
<a id="afd8f3be8d2b910816b1ecabcf6094d47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd8f3be8d2b910816b1ecabcf6094d47">&#9670;&nbsp;</a></span>PrepareOrderAverageReportListModelAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;OrderAverageReportListModel&gt; Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareOrderAverageReportListModelAsync </td>
          <td>(</td>
          <td class="paramtype">OrderAverageReportSearchModel&#160;</td>
          <td class="paramname"><em>searchModel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare order average line summary report list model </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">searchModel</td><td>Order average line summary report search model</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the order average line summary report list model </dd></dl>

<p>Implementa <a class="el" href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_order_model_factory.html#ae2cb12543f0f86772beadc918055f224">Nop.Web.Areas.Admin.Factories.IOrderModelFactory</a>.</p>
<div class="fragment"><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;        {</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;            <span class="comment">//get report</span></div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;            var report = <span class="keyword">new</span> List&lt;OrderAverageReportLineSummary&gt;</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;            {</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;                await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a4ed906aaccb7f008ed5d9c511da89b53">_orderReportService</a>.<a class="code" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_report_service.html#a0f33307d5659450a44f194a8248d6e05">OrderAverageReportAsync</a>(0, <a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_orders.html#a110e048090478f8f42845b47c90139e8">OrderStatus</a>.Pending),</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;                await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a4ed906aaccb7f008ed5d9c511da89b53">_orderReportService</a>.<a class="code" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_report_service.html#a0f33307d5659450a44f194a8248d6e05">OrderAverageReportAsync</a>(0, <a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_orders.html#a110e048090478f8f42845b47c90139e8">OrderStatus</a>.Processing),</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;                await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a4ed906aaccb7f008ed5d9c511da89b53">_orderReportService</a>.<a class="code" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_report_service.html#a0f33307d5659450a44f194a8248d6e05">OrderAverageReportAsync</a>(0, <a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_orders.html#a110e048090478f8f42845b47c90139e8">OrderStatus</a>.Complete),</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;                await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a4ed906aaccb7f008ed5d9c511da89b53">_orderReportService</a>.<a class="code" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_report_service.html#a0f33307d5659450a44f194a8248d6e05">OrderAverageReportAsync</a>(0, <a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_orders.html#a110e048090478f8f42845b47c90139e8">OrderStatus</a>.Cancelled)</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;            };</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160; </div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;            var pagedList = <span class="keyword">new</span> <a class="code" href="class_nop_1_1_core_1_1_paged_list.html">PagedList&lt;OrderAverageReportLineSummary&gt;</a>(report, 0, <span class="keywordtype">int</span>.MaxValue);</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160; </div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;            <span class="comment">//prepare list model</span></div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;            var model = await <span class="keyword">new</span> OrderAverageReportListModel().PrepareToGridAsync(searchModel, pagedList, () =&gt;</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;            {</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;                <span class="comment">//fill in model values from the entity</span></div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;                <span class="keywordflow">return</span> pagedList.SelectAwait(async reportItem =&gt; <span class="keyword">new</span> <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a3979f83863236af60378a99072ab56fe">OrderAverageReportModel</a></div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;                {</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;                    <a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_orders.html#a110e048090478f8f42845b47c90139e8">OrderStatus</a> = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a9836ccb186b0a63b89a200ddda9d33a5">_localizationService</a>.GetLocalizedEnumAsync(reportItem.OrderStatus),</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#ab5ebeecb221a03435b60ee8f5618c937">SumTodayOrders</a> = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6da91fcb0904bc0fc0fd72ce11ac9f51">_priceFormatter</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html#a5e131524dfbb20c6d2d175f3323de98a">FormatPriceAsync</a>(reportItem.SumTodayOrders, <span class="keyword">true</span>, <span class="keyword">false</span>),</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#ae8c2c2d3d0d09902736ffae8a43459ab">SumThisWeekOrders</a> = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6da91fcb0904bc0fc0fd72ce11ac9f51">_priceFormatter</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html#a5e131524dfbb20c6d2d175f3323de98a">FormatPriceAsync</a>(reportItem.SumThisWeekOrders, <span class="keyword">true</span>, <span class="keyword">false</span>),</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a0e0f2973debd42052d6fb11b92234add">SumThisMonthOrders</a> = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6da91fcb0904bc0fc0fd72ce11ac9f51">_priceFormatter</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html#a5e131524dfbb20c6d2d175f3323de98a">FormatPriceAsync</a>(reportItem.SumThisMonthOrders, <span class="keyword">true</span>, <span class="keyword">false</span>),</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a4a33ca15fa1e698203985f92e0caa64d">SumThisYearOrders</a> = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6da91fcb0904bc0fc0fd72ce11ac9f51">_priceFormatter</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html#a5e131524dfbb20c6d2d175f3323de98a">FormatPriceAsync</a>(reportItem.SumThisYearOrders, <span class="keyword">true</span>, <span class="keyword">false</span>),</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#aad07fad39b8709636f818698076aff87">SumAllTimeOrders</a> = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6da91fcb0904bc0fc0fd72ce11ac9f51">_priceFormatter</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html#a5e131524dfbb20c6d2d175f3323de98a">FormatPriceAsync</a>(reportItem.SumAllTimeOrders, <span class="keyword">true</span>, <span class="keyword">false</span>)</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;                });</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;            });</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160; </div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;            <span class="keywordflow">return</span> model;</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_paged_list_html"><div class="ttname"><a href="class_nop_1_1_core_1_1_paged_list.html">Nop.Core.PagedList</a></div><div class="ttdoc">Paged list</div><div class="ttdef"><b>Definition:</b> PagedList.cs:13</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_orders_1_1_i_order_report_service_html_a0f33307d5659450a44f194a8248d6e05"><div class="ttname"><a href="interface_nop_1_1_services_1_1_orders_1_1_i_order_report_service.html#a0f33307d5659450a44f194a8248d6e05">Nop.Services.Orders.IOrderReportService.OrderAverageReportAsync</a></div><div class="ttdeci">Task&lt; OrderAverageReportLineSummary &gt; OrderAverageReportAsync(int storeId, OrderStatus os)</div><div class="ttdoc">Get order average report</div></div>
<div class="ttc" id="anamespace_nop_1_1_core_1_1_domain_1_1_orders_html_a110e048090478f8f42845b47c90139e8"><div class="ttname"><a href="namespace_nop_1_1_core_1_1_domain_1_1_orders.html#a110e048090478f8f42845b47c90139e8">Nop.Core.Domain.Orders.OrderStatus</a></div><div class="ttdeci">OrderStatus</div><div class="ttdoc">Represents an order status enumeration</div><div class="ttdef"><b>Definition:</b> OrderStatus.cs:7</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders_html_a0e0f2973debd42052d6fb11b92234add"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a0e0f2973debd42052d6fb11b92234add">Nop.Web.Areas.Admin.Models.Orders.SumThisMonthOrders</a></div><div class="ttdeci">string SumThisMonthOrders</div><div class="ttdef"><b>Definition:</b> OrderAverageReportModel.cs:23</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders_html_a3979f83863236af60378a99072ab56fe"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a3979f83863236af60378a99072ab56fe">Nop.Web.Areas.Admin.Models.Orders.OrderAverageReportModel</a></div><div class="ttdeci">partial record OrderAverageReportModel</div><div class="ttdoc">Represents an order average report line summary model</div><div class="ttdef"><b>Definition:</b> OrderAverageReportModel.cs:14</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders_html_a4a33ca15fa1e698203985f92e0caa64d"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a4a33ca15fa1e698203985f92e0caa64d">Nop.Web.Areas.Admin.Models.Orders.SumThisYearOrders</a></div><div class="ttdeci">string SumThisYearOrders</div><div class="ttdef"><b>Definition:</b> OrderAverageReportModel.cs:26</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders_html_aad07fad39b8709636f818698076aff87"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#aad07fad39b8709636f818698076aff87">Nop.Web.Areas.Admin.Models.Orders.SumAllTimeOrders</a></div><div class="ttdeci">string SumAllTimeOrders</div><div class="ttdef"><b>Definition:</b> OrderAverageReportModel.cs:29</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders_html_ab5ebeecb221a03435b60ee8f5618c937"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#ab5ebeecb221a03435b60ee8f5618c937">Nop.Web.Areas.Admin.Models.Orders.SumTodayOrders</a></div><div class="ttdeci">string SumTodayOrders</div><div class="ttdef"><b>Definition:</b> OrderAverageReportModel.cs:17</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders_html_ae8c2c2d3d0d09902736ffae8a43459ab"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#ae8c2c2d3d0d09902736ffae8a43459ab">Nop.Web.Areas.Admin.Models.Orders.SumThisWeekOrders</a></div><div class="ttdeci">string SumThisWeekOrders</div><div class="ttdef"><b>Definition:</b> OrderAverageReportModel.cs:20</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a3979f83863236af60378a99072ab56fe">Nop.Web.Areas.Admin.Models.Orders.OrderAverageReportModel</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#aad07fad39b8709636f818698076aff87">Nop.Web.Areas.Admin.Models.Orders.SumAllTimeOrders</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a0e0f2973debd42052d6fb11b92234add">Nop.Web.Areas.Admin.Models.Orders.SumThisMonthOrders</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#ae8c2c2d3d0d09902736ffae8a43459ab">Nop.Web.Areas.Admin.Models.Orders.SumThisWeekOrders</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a4a33ca15fa1e698203985f92e0caa64d">Nop.Web.Areas.Admin.Models.Orders.SumThisYearOrders</a> e <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#ab5ebeecb221a03435b60ee8f5618c937">Nop.Web.Areas.Admin.Models.Orders.SumTodayOrders</a>.</p>

</div>
</div>
<a id="a3897d5cbf43002542013c85c3c0b5cb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3897d5cbf43002542013c85c3c0b5cb1">&#9670;&nbsp;</a></span>PrepareOrderIncompleteReportListModelAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;OrderIncompleteReportListModel&gt; Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareOrderIncompleteReportListModelAsync </td>
          <td>(</td>
          <td class="paramtype">OrderIncompleteReportSearchModel&#160;</td>
          <td class="paramname"><em>searchModel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare incomplete order report list model </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">searchModel</td><td>Incomplete order report search model</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the incomplete order report list model </dd></dl>

<p>Implementa <a class="el" href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_order_model_factory.html#af6a5172f94380d8ca078eefbe4d9c7f9">Nop.Web.Areas.Admin.Factories.IOrderModelFactory</a>.</p>
<div class="fragment"><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;        {</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;            var orderIncompleteReportModels = <span class="keyword">new</span> List&lt;OrderIncompleteReportModel&gt;();</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160; </div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;            <span class="comment">//get URL helper</span></div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;            var urlHelper = <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a8fe8feeb97200eafa72410f14a66dbf4">_urlHelperFactory</a>.GetUrlHelper(<a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ae2b6e65145fe864ce8fccebd933b2c2d">_actionContextAccessor</a>.ActionContext);</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160; </div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;            <span class="comment">//not paid</span></div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;            var orderStatuses = Enum.GetValues(typeof(<a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_orders.html#a110e048090478f8f42845b47c90139e8">OrderStatus</a>)).Cast&lt;<span class="keywordtype">int</span>&gt;().Where(os =&gt; os != (<span class="keywordtype">int</span>)<a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_orders.html#a110e048090478f8f42845b47c90139e8">OrderStatus</a>.Cancelled).ToList();</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;            var paymentStatuses = <span class="keyword">new</span> List&lt;int&gt; { (int)<a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_payments.html#a5af4d422e00c0b088770533afd7d2c22">PaymentStatus</a>.Pending };</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;            var psPending = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a4ed906aaccb7f008ed5d9c511da89b53">_orderReportService</a>.<a class="code" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_report_service.html#a88c040672e09e738aadff09576475caf">GetOrderAverageReportLineAsync</a>(psIds: paymentStatuses, osIds: orderStatuses);</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;            orderIncompleteReportModels.Add(<span class="keyword">new</span> <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#ac57138cb5a4f9a5b91d6079a4996b246">OrderIncompleteReportModel</a></div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;            {</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;                Item = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a9836ccb186b0a63b89a200ddda9d33a5">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;Admin.SalesReport.Incomplete.TotalUnpaidOrders&quot;</span>),</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;                <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_common.html#acc2f3dc7d3326bed4ab9c7a47864c610">Count</a> = psPending.CountOrders,</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;                <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a8c7e8f4841a3a5ac845c1603170b5b06">Total</a> = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6da91fcb0904bc0fc0fd72ce11ac9f51">_priceFormatter</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html#a5e131524dfbb20c6d2d175f3323de98a">FormatPriceAsync</a>(psPending.SumOrders, <span class="keyword">true</span>, <span class="keyword">false</span>),</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;                <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a709ade6cd92a897b4bc9ec12be21c2d0">ViewLink</a> = urlHelper.Action(<span class="stringliteral">&quot;List&quot;</span>, <span class="stringliteral">&quot;Order&quot;</span>, <span class="keyword">new</span></div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;                {</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;                    orderStatuses = <span class="keywordtype">string</span>.Join(<span class="stringliteral">&quot;,&quot;</span>, orderStatuses),</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;                    paymentStatuses = <span class="keywordtype">string</span>.Join(<span class="stringliteral">&quot;,&quot;</span>, paymentStatuses)</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;                })</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;            });</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160; </div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;            <span class="comment">//not shipped</span></div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;            var shippingStatuses = <span class="keyword">new</span> List&lt;int&gt; { (int)<a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_shipping.html#a1dbf5d81e9b14f65a14f24436b374fae">ShippingStatus</a>.NotYetShipped };</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;            var ssPending = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a4ed906aaccb7f008ed5d9c511da89b53">_orderReportService</a>.<a class="code" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_report_service.html#a88c040672e09e738aadff09576475caf">GetOrderAverageReportLineAsync</a>(osIds: orderStatuses, ssIds: shippingStatuses);</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;            orderIncompleteReportModels.Add(<span class="keyword">new</span> <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#ac57138cb5a4f9a5b91d6079a4996b246">OrderIncompleteReportModel</a></div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;            {</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;                Item = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a9836ccb186b0a63b89a200ddda9d33a5">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;Admin.SalesReport.Incomplete.TotalNotShippedOrders&quot;</span>),</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;                <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_common.html#acc2f3dc7d3326bed4ab9c7a47864c610">Count</a> = ssPending.CountOrders,</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;                <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a8c7e8f4841a3a5ac845c1603170b5b06">Total</a> = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6da91fcb0904bc0fc0fd72ce11ac9f51">_priceFormatter</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html#a5e131524dfbb20c6d2d175f3323de98a">FormatPriceAsync</a>(ssPending.SumOrders, <span class="keyword">true</span>, <span class="keyword">false</span>),</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;                <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a709ade6cd92a897b4bc9ec12be21c2d0">ViewLink</a> = urlHelper.Action(<span class="stringliteral">&quot;List&quot;</span>, <span class="stringliteral">&quot;Order&quot;</span>, <span class="keyword">new</span></div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;                {</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;                    orderStatuses = <span class="keywordtype">string</span>.Join(<span class="stringliteral">&quot;,&quot;</span>, orderStatuses),</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;                    shippingStatuses = <span class="keywordtype">string</span>.Join(<span class="stringliteral">&quot;,&quot;</span>, shippingStatuses)</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;                })</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;            });</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160; </div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;            <span class="comment">//pending</span></div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;            orderStatuses = <span class="keyword">new</span> List&lt;int&gt; { (int)<a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_orders.html#a110e048090478f8f42845b47c90139e8">OrderStatus</a>.Pending };</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;            var osPending = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a4ed906aaccb7f008ed5d9c511da89b53">_orderReportService</a>.<a class="code" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_report_service.html#a88c040672e09e738aadff09576475caf">GetOrderAverageReportLineAsync</a>(osIds: orderStatuses);</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;            orderIncompleteReportModels.Add(<span class="keyword">new</span> <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#ac57138cb5a4f9a5b91d6079a4996b246">OrderIncompleteReportModel</a></div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;            {</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;                Item = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a9836ccb186b0a63b89a200ddda9d33a5">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;Admin.SalesReport.Incomplete.TotalIncompleteOrders&quot;</span>),</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;                <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_common.html#acc2f3dc7d3326bed4ab9c7a47864c610">Count</a> = osPending.CountOrders,</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;                <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a8c7e8f4841a3a5ac845c1603170b5b06">Total</a> = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6da91fcb0904bc0fc0fd72ce11ac9f51">_priceFormatter</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html#a5e131524dfbb20c6d2d175f3323de98a">FormatPriceAsync</a>(osPending.SumOrders, <span class="keyword">true</span>, <span class="keyword">false</span>),</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;                <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a709ade6cd92a897b4bc9ec12be21c2d0">ViewLink</a> = urlHelper.Action(<span class="stringliteral">&quot;List&quot;</span>, <span class="stringliteral">&quot;Order&quot;</span>, <span class="keyword">new</span> { orderStatuses = <span class="keywordtype">string</span>.Join(<span class="stringliteral">&quot;,&quot;</span>, orderStatuses) })</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;            });</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160; </div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;            var pagedList = <span class="keyword">new</span> <a class="code" href="class_nop_1_1_core_1_1_paged_list.html">PagedList&lt;OrderIncompleteReportModel&gt;</a>(orderIncompleteReportModels, 0, <span class="keywordtype">int</span>.MaxValue);</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160; </div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;            <span class="comment">//prepare list model</span></div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;            var model = <span class="keyword">new</span> OrderIncompleteReportListModel().PrepareToGrid(searchModel, pagedList, () =&gt; pagedList);</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;            <span class="keywordflow">return</span> model;</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;        }</div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_localization_1_1_i_localization_service_html_ac1ae5d2f3ddfea87ce1f780c9294656a"><div class="ttname"><a href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">Nop.Services.Localization.ILocalizationService.GetResourceAsync</a></div><div class="ttdeci">Task&lt; string &gt; GetResourceAsync(string resourceKey)</div><div class="ttdoc">Gets a resource string based on the specified ResourceKey property.</div></div>
<div class="ttc" id="anamespace_nop_1_1_core_1_1_domain_1_1_payments_html_a5af4d422e00c0b088770533afd7d2c22"><div class="ttname"><a href="namespace_nop_1_1_core_1_1_domain_1_1_payments.html#a5af4d422e00c0b088770533afd7d2c22">Nop.Core.Domain.Payments.PaymentStatus</a></div><div class="ttdeci">PaymentStatus</div><div class="ttdoc">Represents a payment status enumeration</div><div class="ttdef"><b>Definition:</b> PaymentStatus.cs:7</div></div>
<div class="ttc" id="anamespace_nop_1_1_core_1_1_domain_1_1_shipping_html_a1dbf5d81e9b14f65a14f24436b374fae"><div class="ttname"><a href="namespace_nop_1_1_core_1_1_domain_1_1_shipping.html#a1dbf5d81e9b14f65a14f24436b374fae">Nop.Core.Domain.Shipping.ShippingStatus</a></div><div class="ttdeci">ShippingStatus</div><div class="ttdoc">Represents the shipping status enumeration</div><div class="ttdef"><b>Definition:</b> ShippingStatus.cs:7</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_common_html_acc2f3dc7d3326bed4ab9c7a47864c610"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_common.html#acc2f3dc7d3326bed4ab9c7a47864c610">Nop.Web.Areas.Admin.Models.Common.Count</a></div><div class="ttdeci">int Count</div><div class="ttdef"><b>Definition:</b> PopularSearchTermModel.cs:17</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders_html_a709ade6cd92a897b4bc9ec12be21c2d0"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a709ade6cd92a897b4bc9ec12be21c2d0">Nop.Web.Areas.Admin.Models.Orders.ViewLink</a></div><div class="ttdeci">string ViewLink</div><div class="ttdef"><b>Definition:</b> OrderIncompleteReportModel.cs:23</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders_html_a8c7e8f4841a3a5ac845c1603170b5b06"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a8c7e8f4841a3a5ac845c1603170b5b06">Nop.Web.Areas.Admin.Models.Orders.Total</a></div><div class="ttdeci">string Total</div><div class="ttdef"><b>Definition:</b> OrderIncompleteReportModel.cs:17</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders_html_ac57138cb5a4f9a5b91d6079a4996b246"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#ac57138cb5a4f9a5b91d6079a4996b246">Nop.Web.Areas.Admin.Models.Orders.OrderIncompleteReportModel</a></div><div class="ttdeci">partial record OrderIncompleteReportModel</div><div class="ttdoc">Represents an incomplete order report model</div><div class="ttdef"><b>Definition:</b> OrderIncompleteReportModel.cs:14</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_common.html#acc2f3dc7d3326bed4ab9c7a47864c610">Nop.Web.Areas.Admin.Models.Common.Count</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#ac57138cb5a4f9a5b91d6079a4996b246">Nop.Web.Areas.Admin.Models.Orders.OrderIncompleteReportModel</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a8c7e8f4841a3a5ac845c1603170b5b06">Nop.Web.Areas.Admin.Models.Orders.Total</a> e <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a709ade6cd92a897b4bc9ec12be21c2d0">Nop.Web.Areas.Admin.Models.Orders.ViewLink</a>.</p>

</div>
</div>
<a id="ad6b2cd579b5810d653056ee9da50dadb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6b2cd579b5810d653056ee9da50dadb">&#9670;&nbsp;</a></span>PrepareOrderItemModelsAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a> Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareOrderItemModelsAsync </td>
          <td>(</td>
          <td class="paramtype">IList&lt; OrderItemModel &gt;&#160;</td>
          <td class="paramname"><em>models</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a>&#160;</td>
          <td class="paramname"><em>order</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare order item models </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">models</td><td>List of order item models</td></tr>
    <tr><td class="paramname">order</td><td>Order</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation</dd></dl>
<div class="fragment"><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        {</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            <span class="keywordflow">if</span> (models == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(models));</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160; </div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            <span class="keywordflow">if</span> (order == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(order));</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160; </div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            var primaryStoreCurrency = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a2fb6ff7cb0522e3273c278d248f573ca">_currencyService</a>.<a class="code" href="interface_nop_1_1_services_1_1_directory_1_1_i_currency_service.html#a81c78d1c9841ac8dc226e43d5a19a4e4">GetCurrencyByIdAsync</a>(<a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a430244906e5403b6ec592b8d92033b5e">_currencySettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_directory_1_1_currency_settings.html#a5d5ba8e598d20352aa491a9924572da8">PrimaryStoreCurrencyId</a>);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160; </div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;            <span class="comment">//get order items</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            var orderItems = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#abbe64278bfe8930de878fb194ad22993">_orderService</a>.<a class="code" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_service.html#aea8bd5179d4144f1fd3da8d17a761de2">GetOrderItemsAsync</a>(order.<a class="code" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Id</a>, vendorId: (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#af26dbef381792d0814c79993db317c3a">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a89d734829c4f453033e1051632214427">GetCurrentVendorAsync</a>())?.Id ?? 0);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160; </div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;            <span class="keywordflow">foreach</span> (var orderItem <span class="keywordflow">in</span> orderItems)</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            {</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                var product = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6988632d04789e35ccbba9075409715d">_productService</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#ab448923cc8826840ac6cd1558a0f2a9d">GetProductByIdAsync</a>(orderItem.ProductId);</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160; </div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                <span class="comment">//fill in model values from the entity</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                var orderItemModel = <span class="keyword">new</span> <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a48fa2ca83f74ea1222f2477e06fc2181">OrderItemModel</a></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                {</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a968ff99d09af9aec2bb20d13d463c147">Id</a> = orderItem.Id,</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#a5f43f2b53838c9c8c34cf27f06f5e78c">ProductId</a> = orderItem.ProductId,</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#a7f49ddd95e2527adb2b7eed88c2b61b4">ProductName</a> = product.Name,</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#a9bfc9e3c5477ae8ce198f4ed303671d1">Quantity</a> = orderItem.Quantity,</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a4422d4a896bb8b8af2afda0a44df30a1">IsDownload</a> = product.IsDownload,</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#aed6bcf76e9af9efdc1b39036c07e2339">DownloadCount</a> = orderItem.DownloadCount,</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                    <a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_catalog.html#aac4d8a3bd92c128c85433a51cf05fc57">DownloadActivationType</a> = product.DownloadActivationType,</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a2b6e46b2877ac8c8cbd01815811940fc">IsDownloadActivated</a> = orderItem.IsDownloadActivated,</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a5ca47f8d28aa687e237c43c36903f519">UnitPriceInclTaxValue</a> = orderItem.UnitPriceInclTax,</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#ab84f08e414a037200b2653cfd7b2c04c">UnitPriceExclTaxValue</a> = orderItem.UnitPriceExclTax,</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a42a1516e9225b211efd05f15489a4831">DiscountInclTaxValue</a> = orderItem.DiscountAmountInclTax,</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a64aedab7416504516b20557019ed8f48">DiscountExclTaxValue</a> = orderItem.DiscountAmountExclTax,</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#acf17ed53d936a162f9bc7cd54b3f6a97">SubTotalInclTaxValue</a> = orderItem.PriceInclTax,</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a8b98b03d07da62cada77ddbe9469b72d">SubTotalExclTaxValue</a> = orderItem.PriceExclTax,</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a0ad9d98d0c828d09a4a88c229dcb50fe">AttributeInfo</a> = orderItem.AttributeDescription</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                };</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160; </div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                <span class="comment">//fill in additional values (not existing in the entity)</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                orderItemModel.Sku = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6988632d04789e35ccbba9075409715d">_productService</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#a8849542abc262326f286762f829b7ed6">FormatSkuAsync</a>(product, orderItem.AttributesXml);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                orderItemModel.VendorName = (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a84d08a964af828096c8fe9a930504c34">_vendorService</a>.<a class="code" href="interface_nop_1_1_services_1_1_vendors_1_1_i_vendor_service.html#a42318365fb0022b431a0a830ea0c7344">GetVendorByIdAsync</a>(product.VendorId))?.<a class="code" href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a5d49a2599538bfd3f9e5333e94ca11b0">Name</a>;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160; </div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                <span class="comment">//picture</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                var orderItemPicture = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#adff9d3582886576d13035a47fe38d4aa">_pictureService</a>.<a class="code" href="interface_nop_1_1_services_1_1_media_1_1_i_picture_service.html#a3bf05deaa7e473f98190ec77cbe0ebeb">GetProductPictureAsync</a>(product, orderItem.AttributesXml);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                (orderItemModel.PictureThumbnailUrl, _) = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#adff9d3582886576d13035a47fe38d4aa">_pictureService</a>.<a class="code" href="interface_nop_1_1_services_1_1_media_1_1_i_picture_service.html#ac3ffec253612819ac3068ebf257f4b81">GetPictureUrlAsync</a>(orderItemPicture, 75);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160; </div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                <span class="comment">//license file</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                <span class="keywordflow">if</span> (orderItem.LicenseDownloadId.HasValue)</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                {</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                    orderItemModel.LicenseDownloadGuid = (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a169bde984d85bb22570777f279998831">_downloadService</a></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                        .<a class="code" href="interface_nop_1_1_services_1_1_media_1_1_i_download_service.html#adcabe8c463ed649407fbbf5300565d29">GetDownloadByIdAsync</a>(orderItem.LicenseDownloadId.Value))?.<a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#ad63a45591ba7313a80335e5d97e003a3">DownloadGuid</a> ?? Guid.Empty;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                }</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160; </div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                var languageId = (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#af26dbef381792d0814c79993db317c3a">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a686f2cf36883b0c44436ddbf33a023a5">GetWorkingLanguageAsync</a>()).<a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a968ff99d09af9aec2bb20d13d463c147">Id</a>;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160; </div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                <span class="comment">//unit price</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                orderItemModel.UnitPriceInclTax = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6da91fcb0904bc0fc0fd72ce11ac9f51">_priceFormatter</a></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                    .<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html#ad86bb1f1a54fe9aa097e1498be32ec1c">FormatOrderPriceAsync</a>(orderItem.UnitPriceInclTax, order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#acfff109edd7dc8c5e3ade393b5deeb7b">CurrencyRate</a>, order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#aedd5ef1ae108d126cb0f8a7aaa302583">CustomerCurrencyCode</a>,</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                    <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab6682882a532cbb79a2a0a81b88e546f">_orderSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_settings.html#a7082cff0b0adbc5fbfb231b697a76b00">DisplayCustomerCurrencyOnOrders</a>, primaryStoreCurrency, languageId, <span class="keyword">true</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                orderItemModel.UnitPriceExclTax = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6da91fcb0904bc0fc0fd72ce11ac9f51">_priceFormatter</a></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                    .<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html#ad86bb1f1a54fe9aa097e1498be32ec1c">FormatOrderPriceAsync</a>(orderItem.UnitPriceExclTax, order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#acfff109edd7dc8c5e3ade393b5deeb7b">CurrencyRate</a>, order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#aedd5ef1ae108d126cb0f8a7aaa302583">CustomerCurrencyCode</a>,</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                    <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab6682882a532cbb79a2a0a81b88e546f">_orderSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_settings.html#a7082cff0b0adbc5fbfb231b697a76b00">DisplayCustomerCurrencyOnOrders</a>, primaryStoreCurrency, languageId, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160; </div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                <span class="comment">//discounts</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                orderItemModel.DiscountInclTax = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6da91fcb0904bc0fc0fd72ce11ac9f51">_priceFormatter</a></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                    .<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html#ad86bb1f1a54fe9aa097e1498be32ec1c">FormatOrderPriceAsync</a>(orderItem.DiscountAmountInclTax, order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#acfff109edd7dc8c5e3ade393b5deeb7b">CurrencyRate</a>, order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#aedd5ef1ae108d126cb0f8a7aaa302583">CustomerCurrencyCode</a>,</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                    <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab6682882a532cbb79a2a0a81b88e546f">_orderSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_settings.html#a7082cff0b0adbc5fbfb231b697a76b00">DisplayCustomerCurrencyOnOrders</a>, primaryStoreCurrency, languageId, <span class="keyword">true</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                orderItemModel.DiscountExclTax = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6da91fcb0904bc0fc0fd72ce11ac9f51">_priceFormatter</a></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                    .<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html#ad86bb1f1a54fe9aa097e1498be32ec1c">FormatOrderPriceAsync</a>(orderItem.DiscountAmountExclTax, order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#acfff109edd7dc8c5e3ade393b5deeb7b">CurrencyRate</a>, order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#aedd5ef1ae108d126cb0f8a7aaa302583">CustomerCurrencyCode</a>,</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                    <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab6682882a532cbb79a2a0a81b88e546f">_orderSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_settings.html#a7082cff0b0adbc5fbfb231b697a76b00">DisplayCustomerCurrencyOnOrders</a>, primaryStoreCurrency, languageId, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160; </div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                <span class="comment">//subtotal</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                orderItemModel.SubTotalInclTax = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6da91fcb0904bc0fc0fd72ce11ac9f51">_priceFormatter</a></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                    .<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html#ad86bb1f1a54fe9aa097e1498be32ec1c">FormatOrderPriceAsync</a>(orderItem.PriceInclTax, order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#acfff109edd7dc8c5e3ade393b5deeb7b">CurrencyRate</a>, order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#aedd5ef1ae108d126cb0f8a7aaa302583">CustomerCurrencyCode</a>,</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                    <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab6682882a532cbb79a2a0a81b88e546f">_orderSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_settings.html#a7082cff0b0adbc5fbfb231b697a76b00">DisplayCustomerCurrencyOnOrders</a>, primaryStoreCurrency, languageId, <span class="keyword">true</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                orderItemModel.SubTotalExclTax = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6da91fcb0904bc0fc0fd72ce11ac9f51">_priceFormatter</a></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                    .<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html#ad86bb1f1a54fe9aa097e1498be32ec1c">FormatOrderPriceAsync</a>(orderItem.PriceExclTax, order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#acfff109edd7dc8c5e3ade393b5deeb7b">CurrencyRate</a>, order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#aedd5ef1ae108d126cb0f8a7aaa302583">CustomerCurrencyCode</a>,</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                    <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab6682882a532cbb79a2a0a81b88e546f">_orderSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_settings.html#a7082cff0b0adbc5fbfb231b697a76b00">DisplayCustomerCurrencyOnOrders</a>, primaryStoreCurrency, languageId, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160; </div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                <span class="comment">//recurring info</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                <span class="keywordflow">if</span> (product.IsRecurring)</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                {</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                    orderItemModel.RecurringInfo = <span class="keywordtype">string</span>.Format(await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a9836ccb186b0a63b89a200ddda9d33a5">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;Admin.Orders.Products.RecurringPeriod&quot;</span>),</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                        product.RecurringCycleLength, await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a9836ccb186b0a63b89a200ddda9d33a5">_localizationService</a>.GetLocalizedEnumAsync(product.RecurringCyclePeriod));</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                }</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160; </div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                <span class="comment">//rental info</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                <span class="keywordflow">if</span> (product.IsRental)</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                {</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                    var rentalStartDate = orderItem.RentalStartDateUtc.HasValue</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                        ? <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6988632d04789e35ccbba9075409715d">_productService</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#a0e5bd0b3b0119c43e05585605162c888">FormatRentalDate</a>(product, orderItem.RentalStartDateUtc.Value) : <span class="keywordtype">string</span>.Empty;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                    var rentalEndDate = orderItem.RentalEndDateUtc.HasValue</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                        ? <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6988632d04789e35ccbba9075409715d">_productService</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#a0e5bd0b3b0119c43e05585605162c888">FormatRentalDate</a>(product, orderItem.RentalEndDateUtc.Value) : <span class="keywordtype">string</span>.Empty;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                    orderItemModel.RentalInfo = <span class="keywordtype">string</span>.Format(await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a9836ccb186b0a63b89a200ddda9d33a5">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;Order.Rental.FormattedDate&quot;</span>),</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                        rentalStartDate, rentalEndDate);</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                }</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160; </div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                <span class="comment">//prepare return request models</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a987dc596dec9b22b18eff5967a892fac">PrepareReturnRequestBriefModelsAsync</a>(orderItemModel.ReturnRequests, orderItem);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160; </div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                <span class="comment">//gift card identifiers</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                orderItemModel.PurchasedGiftCardIds = (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a7eabf838c0e8539109bd577349171443">_giftCardService</a></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                    .<a class="code" href="interface_nop_1_1_services_1_1_orders_1_1_i_gift_card_service.html#ab14751be1f17be5e79c1030ad1c37e76">GetGiftCardsByPurchasedWithOrderItemIdAsync</a>(orderItem.Id)).Select(card =&gt; card.Id).ToList();</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160; </div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                models.Add(orderItemModel);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            }</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_acfff109edd7dc8c5e3ade393b5deeb7b"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#acfff109edd7dc8c5e3ade393b5deeb7b">Nop.Core.Domain.Orders.Order.CurrencyRate</a></div><div class="ttdeci">decimal CurrencyRate</div><div class="ttdoc">Gets or sets the currency rate</div><div class="ttdef"><b>Definition:</b> Order.cs:79</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_aedd5ef1ae108d126cb0f8a7aaa302583"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#aedd5ef1ae108d126cb0f8a7aaa302583">Nop.Core.Domain.Orders.Order.CustomerCurrencyCode</a></div><div class="ttdeci">string CustomerCurrencyCode</div><div class="ttdoc">Gets or sets the customer currency code (at the moment of order placing)</div><div class="ttdef"><b>Definition:</b> Order.cs:74</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_settings_html_a7082cff0b0adbc5fbfb231b697a76b00"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_settings.html#a7082cff0b0adbc5fbfb231b697a76b00">Nop.Core.Domain.Orders.OrderSettings.DisplayCustomerCurrencyOnOrders</a></div><div class="ttdeci">bool DisplayCustomerCurrencyOnOrders</div><div class="ttdoc">Gets or sets a value indicating whether to display order amounts in customer's currency on the order ...</div><div class="ttdef"><b>Definition:</b> OrderSettings.cs:174</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_a987dc596dec9b22b18eff5967a892fac"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a987dc596dec9b22b18eff5967a892fac">Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareReturnRequestBriefModelsAsync</a></div><div class="ttdeci">virtual async Task PrepareReturnRequestBriefModelsAsync(IList&lt; OrderItemModel.ReturnRequestBriefModel &gt; models, OrderItem orderItem)</div><div class="ttdoc">Prepare return request brief models</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:332</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter_html_ad86bb1f1a54fe9aa097e1498be32ec1c"><div class="ttname"><a href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html#ad86bb1f1a54fe9aa097e1498be32ec1c">Nop.Services.Catalog.IPriceFormatter.FormatOrderPriceAsync</a></div><div class="ttdeci">Task&lt; string &gt; FormatOrderPriceAsync(decimal price, decimal currencyRate, string customerCurrencyCode, bool displayCustomerCurrency, Currency primaryStoreCurrency, int languageId, bool? priceIncludesTax=null, bool? showTax=null)</div><div class="ttdoc">Formats the order price</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_catalog_1_1_i_product_service_html_a0e5bd0b3b0119c43e05585605162c888"><div class="ttname"><a href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#a0e5bd0b3b0119c43e05585605162c888">Nop.Services.Catalog.IProductService.FormatRentalDate</a></div><div class="ttdeci">string FormatRentalDate(Product product, DateTime date)</div><div class="ttdoc">Formats start/end date for rental product</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_catalog_1_1_i_product_service_html_a8849542abc262326f286762f829b7ed6"><div class="ttname"><a href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#a8849542abc262326f286762f829b7ed6">Nop.Services.Catalog.IProductService.FormatSkuAsync</a></div><div class="ttdeci">Task&lt; string &gt; FormatSkuAsync(Product product, string attributesXml=null)</div><div class="ttdoc">Formats SKU</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_media_1_1_i_download_service_html_adcabe8c463ed649407fbbf5300565d29"><div class="ttname"><a href="interface_nop_1_1_services_1_1_media_1_1_i_download_service.html#adcabe8c463ed649407fbbf5300565d29">Nop.Services.Media.IDownloadService.GetDownloadByIdAsync</a></div><div class="ttdeci">Task&lt; Download &gt; GetDownloadByIdAsync(int downloadId)</div><div class="ttdoc">Gets a download</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_media_1_1_i_picture_service_html_a3bf05deaa7e473f98190ec77cbe0ebeb"><div class="ttname"><a href="interface_nop_1_1_services_1_1_media_1_1_i_picture_service.html#a3bf05deaa7e473f98190ec77cbe0ebeb">Nop.Services.Media.IPictureService.GetProductPictureAsync</a></div><div class="ttdeci">Task&lt; Picture &gt; GetProductPictureAsync(Product product, string attributesXml)</div><div class="ttdoc">Get product picture (for shopping cart and order details pages)</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_media_1_1_i_picture_service_html_ac3ffec253612819ac3068ebf257f4b81"><div class="ttname"><a href="interface_nop_1_1_services_1_1_media_1_1_i_picture_service.html#ac3ffec253612819ac3068ebf257f4b81">Nop.Services.Media.IPictureService.GetPictureUrlAsync</a></div><div class="ttdeci">Task&lt; string &gt; GetPictureUrlAsync(int pictureId, int targetSize=0, bool showDefaultPicture=true, string storeLocation=null, PictureType defaultPictureType=PictureType.Entity)</div><div class="ttdoc">Get a picture URL</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_orders_1_1_i_gift_card_service_html_ab14751be1f17be5e79c1030ad1c37e76"><div class="ttname"><a href="interface_nop_1_1_services_1_1_orders_1_1_i_gift_card_service.html#ab14751be1f17be5e79c1030ad1c37e76">Nop.Services.Orders.IGiftCardService.GetGiftCardsByPurchasedWithOrderItemIdAsync</a></div><div class="ttdeci">Task&lt; IList&lt; GiftCard &gt; &gt; GetGiftCardsByPurchasedWithOrderItemIdAsync(int purchasedWithOrderItemId)</div><div class="ttdoc">Gets gift cards by 'PurchasedWithOrderItemId'</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_orders_1_1_i_order_service_html_aea8bd5179d4144f1fd3da8d17a761de2"><div class="ttname"><a href="interface_nop_1_1_services_1_1_orders_1_1_i_order_service.html#aea8bd5179d4144f1fd3da8d17a761de2">Nop.Services.Orders.IOrderService.GetOrderItemsAsync</a></div><div class="ttdeci">Task&lt; IList&lt; OrderItem &gt; &gt; GetOrderItemsAsync(int orderId, bool? isNotReturnable=null, bool? isShipEnabled=null, int vendorId=0)</div><div class="ttdoc">Gets a list items of order</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_vendors_1_1_i_vendor_service_html_a42318365fb0022b431a0a830ea0c7344"><div class="ttname"><a href="interface_nop_1_1_services_1_1_vendors_1_1_i_vendor_service.html#a42318365fb0022b431a0a830ea0c7344">Nop.Services.Vendors.IVendorService.GetVendorByIdAsync</a></div><div class="ttdeci">Task&lt; Vendor &gt; GetVendorByIdAsync(int vendorId)</div><div class="ttdoc">Gets a vendor by vendor identifier</div></div>
<div class="ttc" id="anamespace_nop_1_1_core_1_1_domain_1_1_catalog_html_aac4d8a3bd92c128c85433a51cf05fc57"><div class="ttname"><a href="namespace_nop_1_1_core_1_1_domain_1_1_catalog.html#aac4d8a3bd92c128c85433a51cf05fc57">Nop.Core.Domain.Catalog.DownloadActivationType</a></div><div class="ttdeci">DownloadActivationType</div><div class="ttdoc">Represents a download activation type</div><div class="ttdef"><b>Definition:</b> DownloadActivationType.cs:7</div></div>
<div class="ttc" id="anamespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models_html_a5d49a2599538bfd3f9e5333e94ca11b0"><div class="ttname"><a href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a5d49a2599538bfd3f9e5333e94ca11b0">Nop.Plugin.Misc.Sendinblue.Models.Name</a></div><div class="ttdeci">string Name</div><div class="ttdef"><b>Definition:</b> SmsModel.cs:32</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog_html_a7f49ddd95e2527adb2b7eed88c2b61b4"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#a7f49ddd95e2527adb2b7eed88c2b61b4">Nop.Web.Areas.Admin.Models.Catalog.ProductName</a></div><div class="ttdeci">string ProductName</div><div class="ttdef"><b>Definition:</b> CategoryProductModel.cs:18</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog_html_a9bfc9e3c5477ae8ce198f4ed303671d1"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#a9bfc9e3c5477ae8ce198f4ed303671d1">Nop.Web.Areas.Admin.Models.Catalog.Quantity</a></div><div class="ttdeci">int Quantity</div><div class="ttdef"><b>Definition:</b> TierPriceModel.cs:44</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders_html_a0ad9d98d0c828d09a4a88c229dcb50fe"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a0ad9d98d0c828d09a4a88c229dcb50fe">Nop.Web.Areas.Admin.Models.Orders.AttributeInfo</a></div><div class="ttdeci">string AttributeInfo</div><div class="ttdef"><b>Definition:</b> OrderItemModel.cs:61</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders_html_a2b6e46b2877ac8c8cbd01815811940fc"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a2b6e46b2877ac8c8cbd01815811940fc">Nop.Web.Areas.Admin.Models.Orders.IsDownloadActivated</a></div><div class="ttdeci">bool IsDownloadActivated</div><div class="ttdef"><b>Definition:</b> OrderItemModel.cs:77</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders_html_a42a1516e9225b211efd05f15489a4831"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a42a1516e9225b211efd05f15489a4831">Nop.Web.Areas.Admin.Models.Orders.DiscountInclTaxValue</a></div><div class="ttdeci">decimal DiscountInclTaxValue</div><div class="ttdef"><b>Definition:</b> OrderItemModel.cs:49</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders_html_a4422d4a896bb8b8af2afda0a44df30a1"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a4422d4a896bb8b8af2afda0a44df30a1">Nop.Web.Areas.Admin.Models.Orders.IsDownload</a></div><div class="ttdeci">bool IsDownload</div><div class="ttdef"><b>Definition:</b> OrderItemModel.cs:71</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders_html_a48fa2ca83f74ea1222f2477e06fc2181"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a48fa2ca83f74ea1222f2477e06fc2181">Nop.Web.Areas.Admin.Models.Orders.OrderItemModel</a></div><div class="ttdeci">partial record OrderItemModel</div><div class="ttdoc">Represents an order item model</div><div class="ttdef"><b>Definition:</b> OrderItemModel.cs:17</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders_html_a5ca47f8d28aa687e237c43c36903f519"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a5ca47f8d28aa687e237c43c36903f519">Nop.Web.Areas.Admin.Models.Orders.UnitPriceInclTaxValue</a></div><div class="ttdeci">decimal UnitPriceInclTaxValue</div><div class="ttdef"><b>Definition:</b> OrderItemModel.cs:39</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders_html_a64aedab7416504516b20557019ed8f48"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a64aedab7416504516b20557019ed8f48">Nop.Web.Areas.Admin.Models.Orders.DiscountExclTaxValue</a></div><div class="ttdeci">decimal DiscountExclTaxValue</div><div class="ttdef"><b>Definition:</b> OrderItemModel.cs:51</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders_html_a8b98b03d07da62cada77ddbe9469b72d"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a8b98b03d07da62cada77ddbe9469b72d">Nop.Web.Areas.Admin.Models.Orders.SubTotalExclTaxValue</a></div><div class="ttdeci">decimal SubTotalExclTaxValue</div><div class="ttdef"><b>Definition:</b> OrderItemModel.cs:59</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders_html_ab84f08e414a037200b2653cfd7b2c04c"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#ab84f08e414a037200b2653cfd7b2c04c">Nop.Web.Areas.Admin.Models.Orders.UnitPriceExclTaxValue</a></div><div class="ttdeci">decimal UnitPriceExclTaxValue</div><div class="ttdef"><b>Definition:</b> OrderItemModel.cs:41</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders_html_acf17ed53d936a162f9bc7cd54b3f6a97"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#acf17ed53d936a162f9bc7cd54b3f6a97">Nop.Web.Areas.Admin.Models.Orders.SubTotalInclTaxValue</a></div><div class="ttdeci">decimal SubTotalInclTaxValue</div><div class="ttdef"><b>Definition:</b> OrderItemModel.cs:57</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders_html_ad63a45591ba7313a80335e5d97e003a3"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#ad63a45591ba7313a80335e5d97e003a3">Nop.Web.Areas.Admin.Models.Orders.DownloadGuid</a></div><div class="ttdeci">Guid DownloadGuid</div><div class="ttdef"><b>Definition:</b> OrderNoteModel.cs:26</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders_html_aed6bcf76e9af9efdc1b39036c07e2339"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#aed6bcf76e9af9efdc1b39036c07e2339">Nop.Web.Areas.Admin.Models.Orders.DownloadCount</a></div><div class="ttdeci">int DownloadCount</div><div class="ttdef"><b>Definition:</b> OrderItemModel.cs:73</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a2fb6ff7cb0522e3273c278d248f573ca">Nop.Web.Areas.Admin.Factories.OrderModelFactory._currencyService</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a430244906e5403b6ec592b8d92033b5e">Nop.Web.Areas.Admin.Factories.OrderModelFactory._currencySettings</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a169bde984d85bb22570777f279998831">Nop.Web.Areas.Admin.Factories.OrderModelFactory._downloadService</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a7eabf838c0e8539109bd577349171443">Nop.Web.Areas.Admin.Factories.OrderModelFactory._giftCardService</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a9836ccb186b0a63b89a200ddda9d33a5">Nop.Web.Areas.Admin.Factories.OrderModelFactory._localizationService</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#abbe64278bfe8930de878fb194ad22993">Nop.Web.Areas.Admin.Factories.OrderModelFactory._orderService</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab6682882a532cbb79a2a0a81b88e546f">Nop.Web.Areas.Admin.Factories.OrderModelFactory._orderSettings</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#adff9d3582886576d13035a47fe38d4aa">Nop.Web.Areas.Admin.Factories.OrderModelFactory._pictureService</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6da91fcb0904bc0fc0fd72ce11ac9f51">Nop.Web.Areas.Admin.Factories.OrderModelFactory._priceFormatter</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6988632d04789e35ccbba9075409715d">Nop.Web.Areas.Admin.Factories.OrderModelFactory._productService</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a84d08a964af828096c8fe9a930504c34">Nop.Web.Areas.Admin.Factories.OrderModelFactory._vendorService</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#af26dbef381792d0814c79993db317c3a">Nop.Web.Areas.Admin.Factories.OrderModelFactory._workContext</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a0ad9d98d0c828d09a4a88c229dcb50fe">Nop.Web.Areas.Admin.Models.Orders.AttributeInfo</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a64aedab7416504516b20557019ed8f48">Nop.Web.Areas.Admin.Models.Orders.DiscountExclTaxValue</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a42a1516e9225b211efd05f15489a4831">Nop.Web.Areas.Admin.Models.Orders.DiscountInclTaxValue</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_settings.html#a7082cff0b0adbc5fbfb231b697a76b00">Nop.Core.Domain.Orders.OrderSettings.DisplayCustomerCurrencyOnOrders</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#aed6bcf76e9af9efdc1b39036c07e2339">Nop.Web.Areas.Admin.Models.Orders.DownloadCount</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#ad63a45591ba7313a80335e5d97e003a3">Nop.Web.Areas.Admin.Models.Orders.DownloadGuid</a>, <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html#ad86bb1f1a54fe9aa097e1498be32ec1c">Nop.Services.Catalog.IPriceFormatter.FormatOrderPriceAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#a0e5bd0b3b0119c43e05585605162c888">Nop.Services.Catalog.IProductService.FormatRentalDate()</a>, <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#a8849542abc262326f286762f829b7ed6">Nop.Services.Catalog.IProductService.FormatSkuAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_directory_1_1_i_currency_service.html#a81c78d1c9841ac8dc226e43d5a19a4e4">Nop.Services.Directory.ICurrencyService.GetCurrencyByIdAsync()</a>, <a class="el" href="interface_nop_1_1_core_1_1_i_work_context.html#a89d734829c4f453033e1051632214427">Nop.Core.IWorkContext.GetCurrentVendorAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_media_1_1_i_download_service.html#adcabe8c463ed649407fbbf5300565d29">Nop.Services.Media.IDownloadService.GetDownloadByIdAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_gift_card_service.html#ab14751be1f17be5e79c1030ad1c37e76">Nop.Services.Orders.IGiftCardService.GetGiftCardsByPurchasedWithOrderItemIdAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_service.html#aea8bd5179d4144f1fd3da8d17a761de2">Nop.Services.Orders.IOrderService.GetOrderItemsAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_media_1_1_i_picture_service.html#ac3ffec253612819ac3068ebf257f4b81">Nop.Services.Media.IPictureService.GetPictureUrlAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#ab448923cc8826840ac6cd1558a0f2a9d">Nop.Services.Catalog.IProductService.GetProductByIdAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_media_1_1_i_picture_service.html#a3bf05deaa7e473f98190ec77cbe0ebeb">Nop.Services.Media.IPictureService.GetProductPictureAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">Nop.Services.Localization.ILocalizationService.GetResourceAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_vendors_1_1_i_vendor_service.html#a42318365fb0022b431a0a830ea0c7344">Nop.Services.Vendors.IVendorService.GetVendorByIdAsync()</a>, <a class="el" href="interface_nop_1_1_core_1_1_i_work_context.html#a686f2cf36883b0c44436ddbf33a023a5">Nop.Core.IWorkContext.GetWorkingLanguageAsync()</a>, <a class="el" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Nop.Core.BaseEntity.Id</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a968ff99d09af9aec2bb20d13d463c147">Nop.Web.Areas.Admin.Models.Orders.Id</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a4422d4a896bb8b8af2afda0a44df30a1">Nop.Web.Areas.Admin.Models.Orders.IsDownload</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a2b6e46b2877ac8c8cbd01815811940fc">Nop.Web.Areas.Admin.Models.Orders.IsDownloadActivated</a>, <a class="el" href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a5d49a2599538bfd3f9e5333e94ca11b0">Nop.Plugin.Misc.Sendinblue.Models.Name</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a48fa2ca83f74ea1222f2477e06fc2181">Nop.Web.Areas.Admin.Models.Orders.OrderItemModel</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a987dc596dec9b22b18eff5967a892fac">Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareReturnRequestBriefModelsAsync()</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_directory_1_1_currency_settings.html#a5d5ba8e598d20352aa491a9924572da8">Nop.Core.Domain.Directory.CurrencySettings.PrimaryStoreCurrencyId</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#a5f43f2b53838c9c8c34cf27f06f5e78c">Nop.Web.Areas.Admin.Models.Catalog.ProductId</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#a7f49ddd95e2527adb2b7eed88c2b61b4">Nop.Web.Areas.Admin.Models.Catalog.ProductName</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#a9bfc9e3c5477ae8ce198f4ed303671d1">Nop.Web.Areas.Admin.Models.Catalog.Quantity</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a8b98b03d07da62cada77ddbe9469b72d">Nop.Web.Areas.Admin.Models.Orders.SubTotalExclTaxValue</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#acf17ed53d936a162f9bc7cd54b3f6a97">Nop.Web.Areas.Admin.Models.Orders.SubTotalInclTaxValue</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#ab84f08e414a037200b2653cfd7b2c04c">Nop.Web.Areas.Admin.Models.Orders.UnitPriceExclTaxValue</a> e <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a5ca47f8d28aa687e237c43c36903f519">Nop.Web.Areas.Admin.Models.Orders.UnitPriceInclTaxValue</a>.</p>

</div>
</div>
<a id="a0b1db8350c977fe898f489f95f9f14ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b1db8350c977fe898f489f95f9f14ac">&#9670;&nbsp;</a></span>PrepareOrderListModelAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;OrderListModel&gt; Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareOrderListModelAsync </td>
          <td>(</td>
          <td class="paramtype">OrderSearchModel&#160;</td>
          <td class="paramname"><em>searchModel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare paged order list model </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">searchModel</td><td>Order search model</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the order list model </dd></dl>

<p>Implementa <a class="el" href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_order_model_factory.html#add696600242087012f056ef41e7c162f">Nop.Web.Areas.Admin.Factories.IOrderModelFactory</a>.</p>
<div class="fragment"><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;        {</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;            <span class="keywordflow">if</span> (searchModel == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(searchModel));</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160; </div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;            <span class="comment">//get parameters to filter orders</span></div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;            var orderStatusIds = (searchModel.OrderStatusIds?.Contains(0) ?? <span class="keyword">true</span>) ? <span class="keyword">null</span> : searchModel.OrderStatusIds.ToList();</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;            var paymentStatusIds = (searchModel.PaymentStatusIds?.Contains(0) ?? <span class="keyword">true</span>) ? <span class="keyword">null</span> : searchModel.PaymentStatusIds.ToList();</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;            var shippingStatusIds = (searchModel.ShippingStatusIds?.Contains(0) ?? <span class="keyword">true</span>) ? <span class="keyword">null</span> : searchModel.ShippingStatusIds.ToList();</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;            <span class="keywordflow">if</span> (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#af26dbef381792d0814c79993db317c3a">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a89d734829c4f453033e1051632214427">GetCurrentVendorAsync</a>() != <span class="keyword">null</span>)</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;                searchModel.VendorId = (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#af26dbef381792d0814c79993db317c3a">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a89d734829c4f453033e1051632214427">GetCurrentVendorAsync</a>()).<a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a968ff99d09af9aec2bb20d13d463c147">Id</a>;</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;            var startDateValue = !searchModel.StartDate.HasValue ? null</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;                : (DateTime?)<a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a3f46f2e2528845d2aa2d23e4578ecafa">_dateTimeHelper</a>.<a class="code" href="interface_nop_1_1_services_1_1_helpers_1_1_i_date_time_helper.html#a39dea4b6533a9390b7abf02d1d48ab79">ConvertToUtcTime</a>(searchModel.StartDate.Value, await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a3f46f2e2528845d2aa2d23e4578ecafa">_dateTimeHelper</a>.<a class="code" href="interface_nop_1_1_services_1_1_helpers_1_1_i_date_time_helper.html#a694ea4e78b8ef139cd0f1b14312ca2ac">GetCurrentTimeZoneAsync</a>());</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;            var endDateValue = !searchModel.EndDate.HasValue ? null</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;                : (DateTime?)<a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a3f46f2e2528845d2aa2d23e4578ecafa">_dateTimeHelper</a>.<a class="code" href="interface_nop_1_1_services_1_1_helpers_1_1_i_date_time_helper.html#a39dea4b6533a9390b7abf02d1d48ab79">ConvertToUtcTime</a>(searchModel.EndDate.Value, await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a3f46f2e2528845d2aa2d23e4578ecafa">_dateTimeHelper</a>.<a class="code" href="interface_nop_1_1_services_1_1_helpers_1_1_i_date_time_helper.html#a694ea4e78b8ef139cd0f1b14312ca2ac">GetCurrentTimeZoneAsync</a>()).AddDays(1);</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;            var product = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6988632d04789e35ccbba9075409715d">_productService</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#ab448923cc8826840ac6cd1558a0f2a9d">GetProductByIdAsync</a>(searchModel.ProductId);</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;            var filterByProductId = product != <span class="keyword">null</span> &amp;&amp; (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#af26dbef381792d0814c79993db317c3a">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a89d734829c4f453033e1051632214427">GetCurrentVendorAsync</a>() == <span class="keyword">null</span> || product.VendorId == (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#af26dbef381792d0814c79993db317c3a">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a89d734829c4f453033e1051632214427">GetCurrentVendorAsync</a>()).<a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a968ff99d09af9aec2bb20d13d463c147">Id</a>)</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;                ? searchModel.ProductId : 0;</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160; </div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;            <span class="comment">//get orders</span></div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;            var orders = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#abbe64278bfe8930de878fb194ad22993">_orderService</a>.<a class="code" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_service.html#af4691b2b927a34dd70cff5396436602f">SearchOrdersAsync</a>(storeId: searchModel.StoreId,</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;                vendorId: searchModel.VendorId,</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;                productId: filterByProductId,</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;                warehouseId: searchModel.WarehouseId,</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;                paymentMethodSystemName: searchModel.PaymentMethodSystemName,</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;                createdFromUtc: startDateValue,</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;                createdToUtc: endDateValue,</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;                osIds: orderStatusIds,</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;                psIds: paymentStatusIds,</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;                ssIds: shippingStatusIds,</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;                billingPhone: searchModel.BillingPhone,</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;                billingEmail: searchModel.BillingEmail,</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;                billingLastName: searchModel.BillingLastName,</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;                billingCountryId: searchModel.BillingCountryId,</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;                orderNotes: searchModel.OrderNotes,</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;                pageIndex: searchModel.Page - 1, pageSize: searchModel.PageSize);</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160; </div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;            <span class="comment">//prepare list model</span></div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;            var model = await <span class="keyword">new</span> OrderListModel().PrepareToGridAsync(searchModel, orders, () =&gt;</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;            {</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;                <span class="comment">//fill in model values from the entity</span></div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;                <span class="keywordflow">return</span> orders.SelectAwait(async order =&gt;</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;                {</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;                    var billingAddress = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#aacde7cf726f871bd66f342fc4017c364">_addressService</a>.<a class="code" href="interface_nop_1_1_services_1_1_common_1_1_i_address_service.html#a91a223bb48ad616e4155d16894c64470">GetAddressByIdAsync</a>(order.BillingAddressId);</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160; </div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;                    <span class="comment">//fill in model values from the entity</span></div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;                    var orderModel = <span class="keyword">new</span> <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a282721735b372bfcca56b1a43c5530f4">OrderModel</a></div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;                    {</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;                        Id = order.Id,</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;                        OrderStatusId = order.OrderStatusId,</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;                        PaymentStatusId = order.PaymentStatusId,</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;                        ShippingStatusId = order.ShippingStatusId,</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;                        CustomerEmail = billingAddress.Email,</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;                        CustomerFullName = $<span class="stringliteral">&quot;{billingAddress.FirstName} {billingAddress.LastName}&quot;</span>,</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;                        CustomerId = order.CustomerId,</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;                        CustomOrderNumber = order.CustomOrderNumber</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;                    };</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160; </div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;                    <span class="comment">//convert dates to the user time</span></div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;                    orderModel.CreatedOn = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a3f46f2e2528845d2aa2d23e4578ecafa">_dateTimeHelper</a>.<a class="code" href="interface_nop_1_1_services_1_1_helpers_1_1_i_date_time_helper.html#a1708db62bd94308eacba6e1e19372f36">ConvertToUserTimeAsync</a>(order.CreatedOnUtc, DateTimeKind.Utc);</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160; </div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;                    <span class="comment">//fill in additional values (not existing in the entity)</span></div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;                    orderModel.StoreName = (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#adcd9a53131ac96de5e10beaad0e71e38">_storeService</a>.<a class="code" href="interface_nop_1_1_services_1_1_stores_1_1_i_store_service.html#ab8f918f81f58ea433cb22a9b0de35192">GetStoreByIdAsync</a>(order.StoreId))?.Name ?? <span class="stringliteral">&quot;Deleted&quot;</span>;</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;                    orderModel.OrderStatus = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a9836ccb186b0a63b89a200ddda9d33a5">_localizationService</a>.GetLocalizedEnumAsync(order.OrderStatus);</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;                    orderModel.PaymentStatus = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a9836ccb186b0a63b89a200ddda9d33a5">_localizationService</a>.GetLocalizedEnumAsync(order.PaymentStatus);</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;                    orderModel.ShippingStatus = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a9836ccb186b0a63b89a200ddda9d33a5">_localizationService</a>.GetLocalizedEnumAsync(order.ShippingStatus);</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;                    orderModel.OrderTotal = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6da91fcb0904bc0fc0fd72ce11ac9f51">_priceFormatter</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html#a5e131524dfbb20c6d2d175f3323de98a">FormatPriceAsync</a>(order.OrderTotal, <span class="keyword">true</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160; </div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;                    <span class="keywordflow">return</span> orderModel;</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;                });</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;            });</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160; </div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;            <span class="keywordflow">return</span> model;</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;        }</div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_common_1_1_i_address_service_html_a91a223bb48ad616e4155d16894c64470"><div class="ttname"><a href="interface_nop_1_1_services_1_1_common_1_1_i_address_service.html#a91a223bb48ad616e4155d16894c64470">Nop.Services.Common.IAddressService.GetAddressByIdAsync</a></div><div class="ttdeci">Task&lt; Address &gt; GetAddressByIdAsync(int addressId)</div><div class="ttdoc">Gets an address by address identifier</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_helpers_1_1_i_date_time_helper_html_a1708db62bd94308eacba6e1e19372f36"><div class="ttname"><a href="interface_nop_1_1_services_1_1_helpers_1_1_i_date_time_helper.html#a1708db62bd94308eacba6e1e19372f36">Nop.Services.Helpers.IDateTimeHelper.ConvertToUserTimeAsync</a></div><div class="ttdeci">Task&lt; DateTime &gt; ConvertToUserTimeAsync(DateTime dt)</div><div class="ttdoc">Converts the date and time to current user date and time</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_orders_1_1_i_order_service_html_af4691b2b927a34dd70cff5396436602f"><div class="ttname"><a href="interface_nop_1_1_services_1_1_orders_1_1_i_order_service.html#af4691b2b927a34dd70cff5396436602f">Nop.Services.Orders.IOrderService.SearchOrdersAsync</a></div><div class="ttdeci">Task&lt; IPagedList&lt; Order &gt; &gt; SearchOrdersAsync(int storeId=0, int vendorId=0, int customerId=0, int productId=0, int affiliateId=0, int warehouseId=0, int billingCountryId=0, string paymentMethodSystemName=null, DateTime? createdFromUtc=null, DateTime? createdToUtc=null, List&lt; int &gt; osIds=null, List&lt; int &gt; psIds=null, List&lt; int &gt; ssIds=null, string billingPhone=null, string billingEmail=null, string billingLastName=&quot;&quot;, string orderNotes=null, int pageIndex=0, int pageSize=int.MaxValue, bool getOnlyTotalCount=false)</div><div class="ttdoc">Search orders</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_stores_1_1_i_store_service_html_ab8f918f81f58ea433cb22a9b0de35192"><div class="ttname"><a href="interface_nop_1_1_services_1_1_stores_1_1_i_store_service.html#ab8f918f81f58ea433cb22a9b0de35192">Nop.Services.Stores.IStoreService.GetStoreByIdAsync</a></div><div class="ttdeci">Task&lt; Store &gt; GetStoreByIdAsync(int storeId)</div><div class="ttdoc">Gets a store</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders_html_a282721735b372bfcca56b1a43c5530f4"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a282721735b372bfcca56b1a43c5530f4">Nop.Web.Areas.Admin.Models.Orders.OrderModel</a></div><div class="ttdeci">partial record OrderModel</div><div class="ttdoc">Represents an order model</div><div class="ttdef"><b>Definition:</b> OrderModel.cs:20</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a968ff99d09af9aec2bb20d13d463c147">Nop.Web.Areas.Admin.Models.Orders.Id</a> e <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a282721735b372bfcca56b1a43c5530f4">Nop.Web.Areas.Admin.Models.Orders.OrderModel</a>.</p>

</div>
</div>
<a id="affbcd5506b09916d78733cfac1f633c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affbcd5506b09916d78733cfac1f633c9">&#9670;&nbsp;</a></span>PrepareOrderModelAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;OrderModel&gt; Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareOrderModelAsync </td>
          <td>(</td>
          <td class="paramtype">OrderModel&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a>&#160;</td>
          <td class="paramname"><em>order</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>excludeProperties</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare order model </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">model</td><td>Order model</td></tr>
    <tr><td class="paramname">order</td><td>Order</td></tr>
    <tr><td class="paramname">excludeProperties</td><td>Whether to exclude populating of some properties of model</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the order model </dd></dl>

<p>Implementa <a class="el" href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_order_model_factory.html#acc93bd1c46be78fdd996dc3e9084f1d8">Nop.Web.Areas.Admin.Factories.IOrderModelFactory</a>.</p>
<div class="fragment"><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;        {</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;            <span class="keywordflow">if</span> (order != <span class="keyword">null</span>)</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;            {</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;                <span class="comment">//fill in model values from the entity</span></div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;                model ??= <span class="keyword">new</span> <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a282721735b372bfcca56b1a43c5530f4">OrderModel</a></div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;                {</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a968ff99d09af9aec2bb20d13d463c147">Id</a> = order.<a class="code" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Id</a>,</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_affiliates.html#aedc59a500d26b4bfff07402af821cdda">OrderStatusId</a> = order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a1083e0aad7ea7c52eca0023e127f1233">OrderStatusId</a>,</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#ac030142457f0ea1f838bb620e2340d9e">VatNumber</a> = order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a2da3556f5cafcd390e691529e649fd76">VatNumber</a>,</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#abce2b6923d27d79613ec96f34e926dae">CheckoutAttributeInfo</a> = order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a426f23a8b95d19e75c6458f86531f59e">CheckoutAttributeDescription</a></div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;                };</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160; </div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;                var customer = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a3305bf0bf98804ee203caaf841dc8fec">_customerService</a>.<a class="code" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#a9d2dc587d116a6f656792c4f4cf22e09">GetCustomerByIdAsync</a>(order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#afc851a198d160f4084e1398b3b4892c3">CustomerId</a>);</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160; </div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;                model.OrderGuid = order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#aaa850211b032f8e766793f70841caa73">OrderGuid</a>;</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;                model.CustomOrderNumber = order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a7061d07eef94408c40f32832cf91aafa">CustomOrderNumber</a>;</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;                model.CustomerIp = order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a1d6427d2a0b16195161d0cb5a01a0c30">CustomerIp</a>;</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;                model.CustomerId = customer.Id;</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;                model.OrderStatus = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a9836ccb186b0a63b89a200ddda9d33a5">_localizationService</a>.GetLocalizedEnumAsync(order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a1da26c037c2fa677811f7ae1b6748286">OrderStatus</a>);</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;                model.StoreName = (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#adcd9a53131ac96de5e10beaad0e71e38">_storeService</a>.<a class="code" href="interface_nop_1_1_services_1_1_stores_1_1_i_store_service.html#ab8f918f81f58ea433cb22a9b0de35192">GetStoreByIdAsync</a>(order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a6eab9b1126cda0970526b3c4d9af9aed">StoreId</a>))?.<a class="code" href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a5d49a2599538bfd3f9e5333e94ca11b0">Name</a> ?? <span class="stringliteral">&quot;Deleted&quot;</span>;</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;                model.CustomerInfo = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a3305bf0bf98804ee203caaf841dc8fec">_customerService</a>.<a class="code" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#af6b928fad7e1ea6d21e194c5aa74fc6b">IsRegisteredAsync</a>(customer) ? customer.Email : await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a9836ccb186b0a63b89a200ddda9d33a5">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;Admin.Customers.Guest&quot;</span>);</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;                model.CreatedOn = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a3f46f2e2528845d2aa2d23e4578ecafa">_dateTimeHelper</a>.<a class="code" href="interface_nop_1_1_services_1_1_helpers_1_1_i_date_time_helper.html#a1708db62bd94308eacba6e1e19372f36">ConvertToUserTimeAsync</a>(order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a41103e3f7860b256a8b14d87f58546e7">CreatedOnUtc</a>, DateTimeKind.Utc);</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;                model.CustomValues = <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a1bac9a1717c949ee3435857de31de38b">_paymentService</a>.<a class="code" href="interface_nop_1_1_services_1_1_payments_1_1_i_payment_service.html#aa4ebb9ce309fe00bb9657f9f41bd11e6">DeserializeCustomValues</a>(order);</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160; </div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;                var affiliate = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ad4e6087a4745d5c050a546fc25455bec">_affiliateService</a>.<a class="code" href="interface_nop_1_1_services_1_1_affiliates_1_1_i_affiliate_service.html#ab888b7c22d44ae6f781bfc0611855315">GetAffiliateByIdAsync</a>(order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#ae01165473b03ae2c517710de69734ba1">AffiliateId</a>);</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;                <span class="keywordflow">if</span> (affiliate != <span class="keyword">null</span>)</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;                {</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;                    model.AffiliateId = affiliate.Id;</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;                    model.AffiliateName = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ad4e6087a4745d5c050a546fc25455bec">_affiliateService</a>.<a class="code" href="interface_nop_1_1_services_1_1_affiliates_1_1_i_affiliate_service.html#a3cb3ca965e909d0e54e72b55c98f8026">GetAffiliateFullNameAsync</a>(affiliate);</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;                }</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160; </div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;                <span class="comment">//prepare order totals</span></div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;                await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab2e3cdb66c60f86192382d4178495b12">PrepareOrderModelTotalsAsync</a>(model, order);</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160; </div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;                <span class="comment">//prepare order items</span></div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;                await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ad6b2cd579b5810d653056ee9da50dadb">PrepareOrderItemModelsAsync</a>(model.Items, order);</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;                model.HasDownloadableProducts = model.Items.Any(item =&gt; item.IsDownload);</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160; </div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;                <span class="comment">//prepare payment info</span></div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;                await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a39e6a399a8a3de76141bf2e3b16e3f48">PrepareOrderModelPaymentInfoAsync</a>(model, order);</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160; </div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;                <span class="comment">//prepare shipping info</span></div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;                await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a0025d2d64554be5aa75de669f6e97634">PrepareOrderModelShippingInfoAsync</a>(model, order);</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160; </div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;                <span class="comment">//prepare nested search model</span></div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;                <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab27f6e3bd8431dedc5ad609db2f00e94">PrepareOrderShipmentSearchModel</a>(model.OrderShipmentSearchModel, order);</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;                <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a4594cb7f931358892aa7c3e2823eda48">PrepareOrderNoteSearchModel</a>(model.OrderNoteSearchModel, order);</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;            }</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160; </div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;            model.IsLoggedInAsVendor = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#af26dbef381792d0814c79993db317c3a">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a89d734829c4f453033e1051632214427">GetCurrentVendorAsync</a>() != <span class="keyword">null</span>;</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;            model.AllowCustomersToSelectTaxDisplayType = <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a758c226f21c8cec5d74cc3d61dea9c78">_taxSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html#ad8b0185cf2d4654763f15d5725034b0f">AllowCustomersToSelectTaxDisplayType</a>;</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;            model.TaxDisplayType = <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a758c226f21c8cec5d74cc3d61dea9c78">_taxSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html#a82f18b7fa06a2b57db30c1128c4def25">TaxDisplayType</a>;</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160; </div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;            <span class="keywordflow">return</span> model;</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_a1083e0aad7ea7c52eca0023e127f1233"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a1083e0aad7ea7c52eca0023e127f1233">Nop.Core.Domain.Orders.Order.OrderStatusId</a></div><div class="ttdeci">int OrderStatusId</div><div class="ttdoc">Gets or sets an order status identifier</div><div class="ttdef"><b>Definition:</b> Order.cs:54</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_a1d6427d2a0b16195161d0cb5a01a0c30"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a1d6427d2a0b16195161d0cb5a01a0c30">Nop.Core.Domain.Orders.Order.CustomerIp</a></div><div class="ttdeci">string CustomerIp</div><div class="ttdoc">Gets or sets the customer IP address</div><div class="ttdef"><b>Definition:</b> Order.cs:184</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_a1da26c037c2fa677811f7ae1b6748286"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a1da26c037c2fa677811f7ae1b6748286">Nop.Core.Domain.Orders.Order.OrderStatus</a></div><div class="ttdeci">OrderStatus OrderStatus</div><div class="ttdoc">Gets or sets the order status</div><div class="ttdef"><b>Definition:</b> Order.cs:304</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_a2da3556f5cafcd390e691529e649fd76"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a2da3556f5cafcd390e691529e649fd76">Nop.Core.Domain.Orders.Order.VatNumber</a></div><div class="ttdeci">string VatNumber</div><div class="ttdoc">Gets or sets the VAT number (the European Union Value Added Tax)</div><div class="ttdef"><b>Definition:</b> Order.cs:89</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_a41103e3f7860b256a8b14d87f58546e7"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a41103e3f7860b256a8b14d87f58546e7">Nop.Core.Domain.Orders.Order.CreatedOnUtc</a></div><div class="ttdeci">DateTime CreatedOnUtc</div><div class="ttdoc">Gets or sets the date and time of order creation</div><div class="ttdef"><b>Definition:</b> Order.cs:284</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_a426f23a8b95d19e75c6458f86531f59e"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a426f23a8b95d19e75c6458f86531f59e">Nop.Core.Domain.Orders.Order.CheckoutAttributeDescription</a></div><div class="ttdeci">string CheckoutAttributeDescription</div><div class="ttdoc">Gets or sets the checkout attribute description</div><div class="ttdef"><b>Definition:</b> Order.cs:164</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_a6eab9b1126cda0970526b3c4d9af9aed"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a6eab9b1126cda0970526b3c4d9af9aed">Nop.Core.Domain.Orders.Order.StoreId</a></div><div class="ttdeci">int StoreId</div><div class="ttdoc">Gets or sets the store identifier</div><div class="ttdef"><b>Definition:</b> Order.cs:24</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_a7061d07eef94408c40f32832cf91aafa"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a7061d07eef94408c40f32832cf91aafa">Nop.Core.Domain.Orders.Order.CustomOrderNumber</a></div><div class="ttdeci">string CustomOrderNumber</div><div class="ttdoc">Gets or sets the custom order number without prefix</div><div class="ttdef"><b>Definition:</b> Order.cs:289</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_aaa850211b032f8e766793f70841caa73"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#aaa850211b032f8e766793f70841caa73">Nop.Core.Domain.Orders.Order.OrderGuid</a></div><div class="ttdeci">Guid OrderGuid</div><div class="ttdoc">Gets or sets the order identifier</div><div class="ttdef"><b>Definition:</b> Order.cs:19</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_ae01165473b03ae2c517710de69734ba1"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#ae01165473b03ae2c517710de69734ba1">Nop.Core.Domain.Orders.Order.AffiliateId</a></div><div class="ttdeci">int AffiliateId</div><div class="ttdoc">Gets or sets the affiliate identifier</div><div class="ttdef"><b>Definition:</b> Order.cs:179</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings_html_a82f18b7fa06a2b57db30c1128c4def25"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html#a82f18b7fa06a2b57db30c1128c4def25">Nop.Core.Domain.Tax.TaxSettings.TaxDisplayType</a></div><div class="ttdeci">TaxDisplayType TaxDisplayType</div><div class="ttdoc">Tax display type</div><div class="ttdef"><b>Definition:</b> TaxSettings.cs:23</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings_html_ad8b0185cf2d4654763f15d5725034b0f"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html#ad8b0185cf2d4654763f15d5725034b0f">Nop.Core.Domain.Tax.TaxSettings.AllowCustomersToSelectTaxDisplayType</a></div><div class="ttdeci">bool AllowCustomersToSelectTaxDisplayType</div><div class="ttdoc">Gets or sets a value indicating whether customers are allowed to select tax display type</div><div class="ttdef"><b>Definition:</b> TaxSettings.cs:53</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_a0025d2d64554be5aa75de669f6e97634"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a0025d2d64554be5aa75de669f6e97634">Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareOrderModelShippingInfoAsync</a></div><div class="ttdeci">virtual async Task PrepareOrderModelShippingInfoAsync(OrderModel model, Order order)</div><div class="ttdoc">Prepare order model shipping info</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:589</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_a39e6a399a8a3de76141bf2e3b16e3f48"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a39e6a399a8a3de76141bf2e3b16e3f48">Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareOrderModelPaymentInfoAsync</a></div><div class="ttdeci">virtual async Task PrepareOrderModelPaymentInfoAsync(OrderModel model, Order order)</div><div class="ttdoc">Prepare order model payment info</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:509</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_a4594cb7f931358892aa7c3e2823eda48"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a4594cb7f931358892aa7c3e2823eda48">Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareOrderNoteSearchModel</a></div><div class="ttdeci">virtual OrderNoteSearchModel PrepareOrderNoteSearchModel(OrderNoteSearchModel searchModel, Order order)</div><div class="ttdoc">Prepare order note search model</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:841</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_ab27f6e3bd8431dedc5ad609db2f00e94"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab27f6e3bd8431dedc5ad609db2f00e94">Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareOrderShipmentSearchModel</a></div><div class="ttdeci">virtual OrderShipmentSearchModel PrepareOrderShipmentSearchModel(OrderShipmentSearchModel searchModel, Order order)</div><div class="ttdoc">Prepare order shipment search model</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:800</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_ab2e3cdb66c60f86192382d4178495b12"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab2e3cdb66c60f86192382d4178495b12">Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareOrderModelTotalsAsync</a></div><div class="ttdeci">virtual async Task PrepareOrderModelTotalsAsync(OrderModel model, Order order)</div><div class="ttdoc">Prepare order model totals</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:357</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_ad6b2cd579b5810d653056ee9da50dadb"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ad6b2cd579b5810d653056ee9da50dadb">Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareOrderItemModelsAsync</a></div><div class="ttdeci">virtual async Task PrepareOrderItemModelsAsync(IList&lt; OrderItemModel &gt; models, Order order)</div><div class="ttdoc">Prepare order item models</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:219</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_affiliates_1_1_i_affiliate_service_html_a3cb3ca965e909d0e54e72b55c98f8026"><div class="ttname"><a href="interface_nop_1_1_services_1_1_affiliates_1_1_i_affiliate_service.html#a3cb3ca965e909d0e54e72b55c98f8026">Nop.Services.Affiliates.IAffiliateService.GetAffiliateFullNameAsync</a></div><div class="ttdeci">Task&lt; string &gt; GetAffiliateFullNameAsync(Affiliate affiliate)</div><div class="ttdoc">Get full name</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_affiliates_1_1_i_affiliate_service_html_ab888b7c22d44ae6f781bfc0611855315"><div class="ttname"><a href="interface_nop_1_1_services_1_1_affiliates_1_1_i_affiliate_service.html#ab888b7c22d44ae6f781bfc0611855315">Nop.Services.Affiliates.IAffiliateService.GetAffiliateByIdAsync</a></div><div class="ttdeci">Task&lt; Affiliate &gt; GetAffiliateByIdAsync(int affiliateId)</div><div class="ttdoc">Gets an affiliate by affiliate identifier</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_customers_1_1_i_customer_service_html_af6b928fad7e1ea6d21e194c5aa74fc6b"><div class="ttname"><a href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#af6b928fad7e1ea6d21e194c5aa74fc6b">Nop.Services.Customers.ICustomerService.IsRegisteredAsync</a></div><div class="ttdeci">Task&lt; bool &gt; IsRegisteredAsync(Customer customer, bool onlyActiveCustomerRoles=true)</div><div class="ttdoc">Gets a value indicating whether customer is registered</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_payments_1_1_i_payment_service_html_aa4ebb9ce309fe00bb9657f9f41bd11e6"><div class="ttname"><a href="interface_nop_1_1_services_1_1_payments_1_1_i_payment_service.html#aa4ebb9ce309fe00bb9657f9f41bd11e6">Nop.Services.Payments.IPaymentService.DeserializeCustomValues</a></div><div class="ttdeci">Dictionary&lt; string, object &gt; DeserializeCustomValues(Order order)</div><div class="ttdoc">Deserialize CustomValues of Order</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_affiliates_html_aedc59a500d26b4bfff07402af821cdda"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_affiliates.html#aedc59a500d26b4bfff07402af821cdda">Nop.Web.Areas.Admin.Models.Affiliates.OrderStatusId</a></div><div class="ttdeci">int OrderStatusId</div><div class="ttdef"><b>Definition:</b> AffiliatedOrderModel.cs:22</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders_html_abce2b6923d27d79613ec96f34e926dae"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#abce2b6923d27d79613ec96f34e926dae">Nop.Web.Areas.Admin.Models.Orders.CheckoutAttributeInfo</a></div><div class="ttdeci">string CheckoutAttributeInfo</div><div class="ttdef"><b>Definition:</b> OrderModel.cs:211</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders_html_ac030142457f0ea1f838bb620e2340d9e"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#ac030142457f0ea1f838bb620e2340d9e">Nop.Web.Areas.Admin.Models.Orders.VatNumber</a></div><div class="ttdeci">string VatNumber</div><div class="ttdef"><b>Definition:</b> OrderModel.cs:197</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#ae01165473b03ae2c517710de69734ba1">Nop.Core.Domain.Orders.Order.AffiliateId</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a426f23a8b95d19e75c6458f86531f59e">Nop.Core.Domain.Orders.Order.CheckoutAttributeDescription</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#abce2b6923d27d79613ec96f34e926dae">Nop.Web.Areas.Admin.Models.Orders.CheckoutAttributeInfo</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a41103e3f7860b256a8b14d87f58546e7">Nop.Core.Domain.Orders.Order.CreatedOnUtc</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#afc851a198d160f4084e1398b3b4892c3">Nop.Core.Domain.Orders.Order.CustomerId</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a1d6427d2a0b16195161d0cb5a01a0c30">Nop.Core.Domain.Orders.Order.CustomerIp</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a7061d07eef94408c40f32832cf91aafa">Nop.Core.Domain.Orders.Order.CustomOrderNumber</a>, <a class="el" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Nop.Core.BaseEntity.Id</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a968ff99d09af9aec2bb20d13d463c147">Nop.Web.Areas.Admin.Models.Orders.Id</a>, <a class="el" href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a5d49a2599538bfd3f9e5333e94ca11b0">Nop.Plugin.Misc.Sendinblue.Models.Name</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#aaa850211b032f8e766793f70841caa73">Nop.Core.Domain.Orders.Order.OrderGuid</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a282721735b372bfcca56b1a43c5530f4">Nop.Web.Areas.Admin.Models.Orders.OrderModel</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a1da26c037c2fa677811f7ae1b6748286">Nop.Core.Domain.Orders.Order.OrderStatus</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a1083e0aad7ea7c52eca0023e127f1233">Nop.Core.Domain.Orders.Order.OrderStatusId</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_affiliates.html#aedc59a500d26b4bfff07402af821cdda">Nop.Web.Areas.Admin.Models.Affiliates.OrderStatusId</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a6eab9b1126cda0970526b3c4d9af9aed">Nop.Core.Domain.Orders.Order.StoreId</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a2da3556f5cafcd390e691529e649fd76">Nop.Core.Domain.Orders.Order.VatNumber</a> e <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#ac030142457f0ea1f838bb620e2340d9e">Nop.Web.Areas.Admin.Models.Orders.VatNumber</a>.</p>

</div>
</div>
<a id="a39e6a399a8a3de76141bf2e3b16e3f48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39e6a399a8a3de76141bf2e3b16e3f48">&#9670;&nbsp;</a></span>PrepareOrderModelPaymentInfoAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a> Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareOrderModelPaymentInfoAsync </td>
          <td>(</td>
          <td class="paramtype">OrderModel&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a>&#160;</td>
          <td class="paramname"><em>order</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare order model payment info </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">model</td><td>Order model</td></tr>
    <tr><td class="paramname">order</td><td>Order</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation</dd></dl>
<div class="fragment"><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        {</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;            <span class="keywordflow">if</span> (model == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(model));</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160; </div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;            <span class="keywordflow">if</span> (order == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(order));</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160; </div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;            var billingAddress = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#aacde7cf726f871bd66f342fc4017c364">_addressService</a>.<a class="code" href="interface_nop_1_1_services_1_1_common_1_1_i_address_service.html#a91a223bb48ad616e4155d16894c64470">GetAddressByIdAsync</a>(order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a70400dbb1fb7c02f6f3e9f3b3bcf6e7c">BillingAddressId</a>);</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160; </div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;            <span class="comment">//prepare billing address</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;            model.BillingAddress = billingAddress.ToModel(model.BillingAddress);</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160; </div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;            model.BillingAddress.CountryName = (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ae615982a6467b18f4a33b2a5b4efbde4">_countryService</a>.<a class="code" href="interface_nop_1_1_services_1_1_directory_1_1_i_country_service.html#ac5036ded2f392a64646355d5e49e3936">GetCountryByAddressAsync</a>(billingAddress))?.<a class="code" href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a5d49a2599538bfd3f9e5333e94ca11b0">Name</a>;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;            model.BillingAddress.StateProvinceName = (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a17f2ab16bbb673cb5e722b7071e6df40">_stateProvinceService</a>.<a class="code" href="interface_nop_1_1_services_1_1_directory_1_1_i_state_province_service.html#a86108f628f57439260d5a90aaeaddf8d">GetStateProvinceByAddressAsync</a>(billingAddress))?.<a class="code" href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a5d49a2599538bfd3f9e5333e94ca11b0">Name</a>;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160; </div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;            await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#af7b14d9158a4e15d939905847464614b">_addressModelFactory</a>.<a class="code" href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_address_model_factory.html#a2c58c405cf85d97ed0a3a6ca5f912080">PrepareAddressModelAsync</a>(model.BillingAddress, billingAddress);</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a9a0c897a0bc0f788c3ce243d773ef8cd">SetAddressFieldsAsRequired</a>(model.BillingAddress);</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160; </div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;            <span class="keywordflow">if</span> (order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#acb6921f3050c03e39731be232890e4dc">AllowStoringCreditCardNumber</a>)</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;            {</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;                <span class="comment">//card type</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                model.CardType = <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#aa7894db3160e0861e87e2d3d1c5f49d8">_encryptionService</a>.<a class="code" href="interface_nop_1_1_services_1_1_security_1_1_i_encryption_service.html#a8c42744952a9b68161ea9f5886242832">DecryptText</a>(order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a34a2279e1cec3eec1d46dd9aa8ae2947">CardType</a>);</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                <span class="comment">//cardholder name</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                model.CardName = <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#aa7894db3160e0861e87e2d3d1c5f49d8">_encryptionService</a>.<a class="code" href="interface_nop_1_1_services_1_1_security_1_1_i_encryption_service.html#a8c42744952a9b68161ea9f5886242832">DecryptText</a>(order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a21886453c24c1b51e9423c67e81d4ebd">CardName</a>);</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                <span class="comment">//card number</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                model.CardNumber = <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#aa7894db3160e0861e87e2d3d1c5f49d8">_encryptionService</a>.<a class="code" href="interface_nop_1_1_services_1_1_security_1_1_i_encryption_service.html#a8c42744952a9b68161ea9f5886242832">DecryptText</a>(order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#add60005fb640a72c5e99d29124de1cfd">CardNumber</a>);</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;                <span class="comment">//cvv</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                model.CardCvv2 = <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#aa7894db3160e0861e87e2d3d1c5f49d8">_encryptionService</a>.<a class="code" href="interface_nop_1_1_services_1_1_security_1_1_i_encryption_service.html#a8c42744952a9b68161ea9f5886242832">DecryptText</a>(order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a77b970a76d13313b10b625857b29b3e9">CardCvv2</a>);</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                <span class="comment">//expiry date</span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                var cardExpirationMonthDecrypted = <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#aa7894db3160e0861e87e2d3d1c5f49d8">_encryptionService</a>.<a class="code" href="interface_nop_1_1_services_1_1_security_1_1_i_encryption_service.html#a8c42744952a9b68161ea9f5886242832">DecryptText</a>(order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#aab9e381583d1b0b3863b88d7c460f97e">CardExpirationMonth</a>);</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                <span class="keywordflow">if</span> (!<span class="keywordtype">string</span>.IsNullOrEmpty(cardExpirationMonthDecrypted) &amp;&amp; cardExpirationMonthDecrypted != <span class="stringliteral">&quot;0&quot;</span>)</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                    model.CardExpirationMonth = cardExpirationMonthDecrypted;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                var cardExpirationYearDecrypted = <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#aa7894db3160e0861e87e2d3d1c5f49d8">_encryptionService</a>.<a class="code" href="interface_nop_1_1_services_1_1_security_1_1_i_encryption_service.html#a8c42744952a9b68161ea9f5886242832">DecryptText</a>(order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a6fdc331e0246d2ec1fb515b8ae762c95">CardExpirationYear</a>);</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                <span class="keywordflow">if</span> (!<span class="keywordtype">string</span>.IsNullOrEmpty(cardExpirationYearDecrypted) &amp;&amp; cardExpirationYearDecrypted != <span class="stringliteral">&quot;0&quot;</span>)</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                    model.CardExpirationYear = cardExpirationYearDecrypted;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160; </div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                model.AllowStoringCreditCardNumber = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;            }</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;            {</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                var maskedCreditCardNumberDecrypted = <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#aa7894db3160e0861e87e2d3d1c5f49d8">_encryptionService</a>.<a class="code" href="interface_nop_1_1_services_1_1_security_1_1_i_encryption_service.html#a8c42744952a9b68161ea9f5886242832">DecryptText</a>(order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#aaf8dc2900ad7d9f07e2ba8e4b9a24612">MaskedCreditCardNumber</a>);</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                <span class="keywordflow">if</span> (!<span class="keywordtype">string</span>.IsNullOrEmpty(maskedCreditCardNumberDecrypted))</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                    model.CardNumber = maskedCreditCardNumberDecrypted;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;            }</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160; </div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;            <span class="comment">//payment transaction info</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;            model.AuthorizationTransactionId = order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a49db81a0633adfac22f1058d3042728f">AuthorizationTransactionId</a>;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;            model.CaptureTransactionId = order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a767b0713af5f7bd040aef9ebf7b2c7e9">CaptureTransactionId</a>;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;            model.SubscriptionTransactionId = order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a21b5a2c2e5440a75c55208d7e4c7f8e0">SubscriptionTransactionId</a>;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160; </div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;            <span class="comment">//payment method info</span></div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;            var pm = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a1084c4344b2534317c4f2eecb03573e0">_paymentPluginManager</a>.<a class="code" href="interface_nop_1_1_services_1_1_plugins_1_1_i_plugin_manager.html#ae65d47d1226a9c2099ff48e24a976235">LoadPluginBySystemNameAsync</a>(order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a1a4dc20567fdbe33a1f5a1a6ad9a71a2">PaymentMethodSystemName</a>);</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;            model.PaymentMethod = pm != <span class="keyword">null</span> ? pm.PluginDescriptor.FriendlyName : order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a1a4dc20567fdbe33a1f5a1a6ad9a71a2">PaymentMethodSystemName</a>;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;            model.PaymentStatus = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a9836ccb186b0a63b89a200ddda9d33a5">_localizationService</a>.GetLocalizedEnumAsync(order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a1ef8e44cb2bff7de9ab65a583f03252c">PaymentStatus</a>);</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160; </div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;            <span class="comment">//payment method buttons</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;            model.CanCancelOrder = <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a902e9073fdca3fe7c0525ce292c20e86">_orderProcessingService</a>.<a class="code" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_processing_service.html#a4f5e84d239204b2e72103a058096ac48">CanCancelOrder</a>(order);</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;            model.CanCapture = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a902e9073fdca3fe7c0525ce292c20e86">_orderProcessingService</a>.<a class="code" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_processing_service.html#a6c9b16f0630eb463e26a1e5b1aee373c">CanCaptureAsync</a>(order);</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;            model.CanMarkOrderAsPaid = <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a902e9073fdca3fe7c0525ce292c20e86">_orderProcessingService</a>.<a class="code" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_processing_service.html#a1f7dee67df2bf3480efdbd5ab0aa83d2">CanMarkOrderAsPaid</a>(order);</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;            model.CanRefund = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a902e9073fdca3fe7c0525ce292c20e86">_orderProcessingService</a>.<a class="code" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_processing_service.html#ae069158ce1d4a48fb2af44f07540a8a3">CanRefundAsync</a>(order);</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;            model.CanRefundOffline = <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a902e9073fdca3fe7c0525ce292c20e86">_orderProcessingService</a>.<a class="code" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_processing_service.html#adbb3e924a5983c61c70aad629e9276dc">CanRefundOffline</a>(order);</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;            model.CanPartiallyRefund = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a902e9073fdca3fe7c0525ce292c20e86">_orderProcessingService</a>.<a class="code" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_processing_service.html#a6338bbb6511b727f5574e1a4462f8a0e">CanPartiallyRefundAsync</a>(order, decimal.Zero);</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;            model.CanPartiallyRefundOffline = <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a902e9073fdca3fe7c0525ce292c20e86">_orderProcessingService</a>.<a class="code" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_processing_service.html#a5e93c72b05d9b0df952fc0e5f5e7ce6b">CanPartiallyRefundOffline</a>(order, decimal.Zero);</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;            model.CanVoid = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a902e9073fdca3fe7c0525ce292c20e86">_orderProcessingService</a>.<a class="code" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_processing_service.html#a93cf66d5d6092597fbf4a37079e70928">CanVoidAsync</a>(order);</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;            model.CanVoidOffline = <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a902e9073fdca3fe7c0525ce292c20e86">_orderProcessingService</a>.<a class="code" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_processing_service.html#a9525f3983a5fde2adb138c1fda7a2ce2">CanVoidOffline</a>(order);</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160; </div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;            model.PrimaryStoreCurrencyCode = (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a2fb6ff7cb0522e3273c278d248f573ca">_currencyService</a>.<a class="code" href="interface_nop_1_1_services_1_1_directory_1_1_i_currency_service.html#a81c78d1c9841ac8dc226e43d5a19a4e4">GetCurrencyByIdAsync</a>(<a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a430244906e5403b6ec592b8d92033b5e">_currencySettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_directory_1_1_currency_settings.html#a5d5ba8e598d20352aa491a9924572da8">PrimaryStoreCurrencyId</a>))?.CurrencyCode;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;            model.MaxAmountToRefund = order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a5707771d888f12d4a74e1e2eac82f720">OrderTotal</a> - order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a9b339205739d7323f10102549276d3b2">RefundedAmount</a>;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160; </div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;            <span class="comment">//recurring payment record</span></div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;            model.RecurringPaymentId = (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#abbe64278bfe8930de878fb194ad22993">_orderService</a>.<a class="code" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_service.html#aab18b8ee56cc32d37977e38d032a36d7">SearchRecurringPaymentsAsync</a>(initialOrderId: order.<a class="code" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Id</a>, showHidden: <span class="keyword">true</span>)).FirstOrDefault()?.Id ?? 0;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_a1a4dc20567fdbe33a1f5a1a6ad9a71a2"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a1a4dc20567fdbe33a1f5a1a6ad9a71a2">Nop.Core.Domain.Orders.Order.PaymentMethodSystemName</a></div><div class="ttdeci">string PaymentMethodSystemName</div><div class="ttdoc">Gets or sets the payment method system name</div><div class="ttdef"><b>Definition:</b> Order.cs:69</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_a1ef8e44cb2bff7de9ab65a583f03252c"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a1ef8e44cb2bff7de9ab65a583f03252c">Nop.Core.Domain.Orders.Order.PaymentStatus</a></div><div class="ttdeci">PaymentStatus PaymentStatus</div><div class="ttdoc">Gets or sets the payment status</div><div class="ttdef"><b>Definition:</b> Order.cs:313</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_a21886453c24c1b51e9423c67e81d4ebd"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a21886453c24c1b51e9423c67e81d4ebd">Nop.Core.Domain.Orders.Order.CardName</a></div><div class="ttdeci">string CardName</div><div class="ttdoc">Gets or sets the card name</div><div class="ttdef"><b>Definition:</b> Order.cs:199</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_a21b5a2c2e5440a75c55208d7e4c7f8e0"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a21b5a2c2e5440a75c55208d7e4c7f8e0">Nop.Core.Domain.Orders.Order.SubscriptionTransactionId</a></div><div class="ttdeci">string SubscriptionTransactionId</div><div class="ttdoc">Gets or sets the subscription transaction identifier</div><div class="ttdef"><b>Definition:</b> Order.cs:254</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_a34a2279e1cec3eec1d46dd9aa8ae2947"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a34a2279e1cec3eec1d46dd9aa8ae2947">Nop.Core.Domain.Orders.Order.CardType</a></div><div class="ttdeci">string CardType</div><div class="ttdoc">Gets or sets the card type</div><div class="ttdef"><b>Definition:</b> Order.cs:194</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_a49db81a0633adfac22f1058d3042728f"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a49db81a0633adfac22f1058d3042728f">Nop.Core.Domain.Orders.Order.AuthorizationTransactionId</a></div><div class="ttdeci">string AuthorizationTransactionId</div><div class="ttdoc">Gets or sets the authorization transaction identifier</div><div class="ttdef"><b>Definition:</b> Order.cs:229</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_a5707771d888f12d4a74e1e2eac82f720"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a5707771d888f12d4a74e1e2eac82f720">Nop.Core.Domain.Orders.Order.OrderTotal</a></div><div class="ttdeci">decimal OrderTotal</div><div class="ttdoc">Gets or sets the order total</div><div class="ttdef"><b>Definition:</b> Order.cs:149</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_a6fdc331e0246d2ec1fb515b8ae762c95"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a6fdc331e0246d2ec1fb515b8ae762c95">Nop.Core.Domain.Orders.Order.CardExpirationYear</a></div><div class="ttdeci">string CardExpirationYear</div><div class="ttdoc">Gets or sets the card expiration year</div><div class="ttdef"><b>Definition:</b> Order.cs:224</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_a70400dbb1fb7c02f6f3e9f3b3bcf6e7c"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a70400dbb1fb7c02f6f3e9f3b3bcf6e7c">Nop.Core.Domain.Orders.Order.BillingAddressId</a></div><div class="ttdeci">int BillingAddressId</div><div class="ttdoc">Gets or sets the billing address identifier</div><div class="ttdef"><b>Definition:</b> Order.cs:34</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_a767b0713af5f7bd040aef9ebf7b2c7e9"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a767b0713af5f7bd040aef9ebf7b2c7e9">Nop.Core.Domain.Orders.Order.CaptureTransactionId</a></div><div class="ttdeci">string CaptureTransactionId</div><div class="ttdoc">Gets or sets the capture transaction identifier</div><div class="ttdef"><b>Definition:</b> Order.cs:244</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_a77b970a76d13313b10b625857b29b3e9"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a77b970a76d13313b10b625857b29b3e9">Nop.Core.Domain.Orders.Order.CardCvv2</a></div><div class="ttdeci">string CardCvv2</div><div class="ttdoc">Gets or sets the card CVV2</div><div class="ttdef"><b>Definition:</b> Order.cs:214</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_a9b339205739d7323f10102549276d3b2"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a9b339205739d7323f10102549276d3b2">Nop.Core.Domain.Orders.Order.RefundedAmount</a></div><div class="ttdeci">decimal RefundedAmount</div><div class="ttdoc">Gets or sets the refunded amount</div><div class="ttdef"><b>Definition:</b> Order.cs:154</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_aab9e381583d1b0b3863b88d7c460f97e"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#aab9e381583d1b0b3863b88d7c460f97e">Nop.Core.Domain.Orders.Order.CardExpirationMonth</a></div><div class="ttdeci">string CardExpirationMonth</div><div class="ttdoc">Gets or sets the card expiration month</div><div class="ttdef"><b>Definition:</b> Order.cs:219</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_aaf8dc2900ad7d9f07e2ba8e4b9a24612"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#aaf8dc2900ad7d9f07e2ba8e4b9a24612">Nop.Core.Domain.Orders.Order.MaskedCreditCardNumber</a></div><div class="ttdeci">string MaskedCreditCardNumber</div><div class="ttdoc">Gets or sets the masked credit card number</div><div class="ttdef"><b>Definition:</b> Order.cs:209</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_acb6921f3050c03e39731be232890e4dc"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#acb6921f3050c03e39731be232890e4dc">Nop.Core.Domain.Orders.Order.AllowStoringCreditCardNumber</a></div><div class="ttdeci">bool AllowStoringCreditCardNumber</div><div class="ttdoc">Gets or sets a value indicating whether storing of credit card number is allowed</div><div class="ttdef"><b>Definition:</b> Order.cs:189</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_add60005fb640a72c5e99d29124de1cfd"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#add60005fb640a72c5e99d29124de1cfd">Nop.Core.Domain.Orders.Order.CardNumber</a></div><div class="ttdeci">string CardNumber</div><div class="ttdoc">Gets or sets the card number</div><div class="ttdef"><b>Definition:</b> Order.cs:204</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_directory_1_1_i_country_service_html_ac5036ded2f392a64646355d5e49e3936"><div class="ttname"><a href="interface_nop_1_1_services_1_1_directory_1_1_i_country_service.html#ac5036ded2f392a64646355d5e49e3936">Nop.Services.Directory.ICountryService.GetCountryByAddressAsync</a></div><div class="ttdeci">Task&lt; Country &gt; GetCountryByAddressAsync(Address address)</div><div class="ttdoc">Gets a country by address</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_directory_1_1_i_state_province_service_html_a86108f628f57439260d5a90aaeaddf8d"><div class="ttname"><a href="interface_nop_1_1_services_1_1_directory_1_1_i_state_province_service.html#a86108f628f57439260d5a90aaeaddf8d">Nop.Services.Directory.IStateProvinceService.GetStateProvinceByAddressAsync</a></div><div class="ttdeci">Task&lt; StateProvince &gt; GetStateProvinceByAddressAsync(Address address)</div><div class="ttdoc">Gets a state/province by address</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_orders_1_1_i_order_processing_service_html_a1f7dee67df2bf3480efdbd5ab0aa83d2"><div class="ttname"><a href="interface_nop_1_1_services_1_1_orders_1_1_i_order_processing_service.html#a1f7dee67df2bf3480efdbd5ab0aa83d2">Nop.Services.Orders.IOrderProcessingService.CanMarkOrderAsPaid</a></div><div class="ttdeci">bool CanMarkOrderAsPaid(Order order)</div><div class="ttdoc">Gets a value indicating whether order can be marked as paid</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_orders_1_1_i_order_processing_service_html_a4f5e84d239204b2e72103a058096ac48"><div class="ttname"><a href="interface_nop_1_1_services_1_1_orders_1_1_i_order_processing_service.html#a4f5e84d239204b2e72103a058096ac48">Nop.Services.Orders.IOrderProcessingService.CanCancelOrder</a></div><div class="ttdeci">bool CanCancelOrder(Order order)</div><div class="ttdoc">Gets a value indicating whether cancel is allowed</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_orders_1_1_i_order_processing_service_html_a5e93c72b05d9b0df952fc0e5f5e7ce6b"><div class="ttname"><a href="interface_nop_1_1_services_1_1_orders_1_1_i_order_processing_service.html#a5e93c72b05d9b0df952fc0e5f5e7ce6b">Nop.Services.Orders.IOrderProcessingService.CanPartiallyRefundOffline</a></div><div class="ttdeci">bool CanPartiallyRefundOffline(Order order, decimal amountToRefund)</div><div class="ttdoc">Gets a value indicating whether order can be marked as partially refunded</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_orders_1_1_i_order_processing_service_html_a6338bbb6511b727f5574e1a4462f8a0e"><div class="ttname"><a href="interface_nop_1_1_services_1_1_orders_1_1_i_order_processing_service.html#a6338bbb6511b727f5574e1a4462f8a0e">Nop.Services.Orders.IOrderProcessingService.CanPartiallyRefundAsync</a></div><div class="ttdeci">Task&lt; bool &gt; CanPartiallyRefundAsync(Order order, decimal amountToRefund)</div><div class="ttdoc">Gets a value indicating whether partial refund from admin panel is allowed</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_orders_1_1_i_order_processing_service_html_a6c9b16f0630eb463e26a1e5b1aee373c"><div class="ttname"><a href="interface_nop_1_1_services_1_1_orders_1_1_i_order_processing_service.html#a6c9b16f0630eb463e26a1e5b1aee373c">Nop.Services.Orders.IOrderProcessingService.CanCaptureAsync</a></div><div class="ttdeci">Task&lt; bool &gt; CanCaptureAsync(Order order)</div><div class="ttdoc">Gets a value indicating whether capture from admin panel is allowed</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_orders_1_1_i_order_processing_service_html_a93cf66d5d6092597fbf4a37079e70928"><div class="ttname"><a href="interface_nop_1_1_services_1_1_orders_1_1_i_order_processing_service.html#a93cf66d5d6092597fbf4a37079e70928">Nop.Services.Orders.IOrderProcessingService.CanVoidAsync</a></div><div class="ttdeci">Task&lt; bool &gt; CanVoidAsync(Order order)</div><div class="ttdoc">Gets a value indicating whether Task from admin panel is allowed</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_orders_1_1_i_order_processing_service_html_a9525f3983a5fde2adb138c1fda7a2ce2"><div class="ttname"><a href="interface_nop_1_1_services_1_1_orders_1_1_i_order_processing_service.html#a9525f3983a5fde2adb138c1fda7a2ce2">Nop.Services.Orders.IOrderProcessingService.CanVoidOffline</a></div><div class="ttdeci">bool CanVoidOffline(Order order)</div><div class="ttdoc">Gets a value indicating whether order can be marked as Tasked</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_orders_1_1_i_order_processing_service_html_adbb3e924a5983c61c70aad629e9276dc"><div class="ttname"><a href="interface_nop_1_1_services_1_1_orders_1_1_i_order_processing_service.html#adbb3e924a5983c61c70aad629e9276dc">Nop.Services.Orders.IOrderProcessingService.CanRefundOffline</a></div><div class="ttdeci">bool CanRefundOffline(Order order)</div><div class="ttdoc">Gets a value indicating whether order can be marked as refunded</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_orders_1_1_i_order_processing_service_html_ae069158ce1d4a48fb2af44f07540a8a3"><div class="ttname"><a href="interface_nop_1_1_services_1_1_orders_1_1_i_order_processing_service.html#ae069158ce1d4a48fb2af44f07540a8a3">Nop.Services.Orders.IOrderProcessingService.CanRefundAsync</a></div><div class="ttdeci">Task&lt; bool &gt; CanRefundAsync(Order order)</div><div class="ttdoc">Gets a value indicating whether refund from admin panel is allowed</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_orders_1_1_i_order_service_html_aab18b8ee56cc32d37977e38d032a36d7"><div class="ttname"><a href="interface_nop_1_1_services_1_1_orders_1_1_i_order_service.html#aab18b8ee56cc32d37977e38d032a36d7">Nop.Services.Orders.IOrderService.SearchRecurringPaymentsAsync</a></div><div class="ttdeci">Task&lt; IPagedList&lt; RecurringPayment &gt; &gt; SearchRecurringPaymentsAsync(int storeId=0, int customerId=0, int initialOrderId=0, OrderStatus? initialOrderStatus=null, int pageIndex=0, int pageSize=int.MaxValue, bool showHidden=false)</div><div class="ttdoc">Search recurring payments</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_plugins_1_1_i_plugin_manager_html_ae65d47d1226a9c2099ff48e24a976235"><div class="ttname"><a href="interface_nop_1_1_services_1_1_plugins_1_1_i_plugin_manager.html#ae65d47d1226a9c2099ff48e24a976235">Nop.Services.Plugins.IPluginManager.LoadPluginBySystemNameAsync</a></div><div class="ttdeci">Task&lt; TPlugin &gt; LoadPluginBySystemNameAsync(string systemName, Customer customer=null, int storeId=0)</div><div class="ttdoc">Load plugin by system name</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_security_1_1_i_encryption_service_html_a8c42744952a9b68161ea9f5886242832"><div class="ttname"><a href="interface_nop_1_1_services_1_1_security_1_1_i_encryption_service.html#a8c42744952a9b68161ea9f5886242832">Nop.Services.Security.IEncryptionService.DecryptText</a></div><div class="ttdeci">string DecryptText(string cipherText, string encryptionPrivateKey=&quot;&quot;)</div><div class="ttdoc">Decrypt text</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#acb6921f3050c03e39731be232890e4dc">Nop.Core.Domain.Orders.Order.AllowStoringCreditCardNumber</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a49db81a0633adfac22f1058d3042728f">Nop.Core.Domain.Orders.Order.AuthorizationTransactionId</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a70400dbb1fb7c02f6f3e9f3b3bcf6e7c">Nop.Core.Domain.Orders.Order.BillingAddressId</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a767b0713af5f7bd040aef9ebf7b2c7e9">Nop.Core.Domain.Orders.Order.CaptureTransactionId</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a77b970a76d13313b10b625857b29b3e9">Nop.Core.Domain.Orders.Order.CardCvv2</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#aab9e381583d1b0b3863b88d7c460f97e">Nop.Core.Domain.Orders.Order.CardExpirationMonth</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a6fdc331e0246d2ec1fb515b8ae762c95">Nop.Core.Domain.Orders.Order.CardExpirationYear</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a21886453c24c1b51e9423c67e81d4ebd">Nop.Core.Domain.Orders.Order.CardName</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#add60005fb640a72c5e99d29124de1cfd">Nop.Core.Domain.Orders.Order.CardNumber</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a34a2279e1cec3eec1d46dd9aa8ae2947">Nop.Core.Domain.Orders.Order.CardType</a>, <a class="el" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Nop.Core.BaseEntity.Id</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#aaf8dc2900ad7d9f07e2ba8e4b9a24612">Nop.Core.Domain.Orders.Order.MaskedCreditCardNumber</a>, <a class="el" href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a5d49a2599538bfd3f9e5333e94ca11b0">Nop.Plugin.Misc.Sendinblue.Models.Name</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a5707771d888f12d4a74e1e2eac82f720">Nop.Core.Domain.Orders.Order.OrderTotal</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a1a4dc20567fdbe33a1f5a1a6ad9a71a2">Nop.Core.Domain.Orders.Order.PaymentMethodSystemName</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a1ef8e44cb2bff7de9ab65a583f03252c">Nop.Core.Domain.Orders.Order.PaymentStatus</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a9b339205739d7323f10102549276d3b2">Nop.Core.Domain.Orders.Order.RefundedAmount</a> e <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a21b5a2c2e5440a75c55208d7e4c7f8e0">Nop.Core.Domain.Orders.Order.SubscriptionTransactionId</a>.</p>

</div>
</div>
<a id="a0025d2d64554be5aa75de669f6e97634"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0025d2d64554be5aa75de669f6e97634">&#9670;&nbsp;</a></span>PrepareOrderModelShippingInfoAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a> Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareOrderModelShippingInfoAsync </td>
          <td>(</td>
          <td class="paramtype">OrderModel&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a>&#160;</td>
          <td class="paramname"><em>order</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare order model shipping info </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">model</td><td>Order model</td></tr>
    <tr><td class="paramname">order</td><td>Order</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation</dd></dl>
<div class="fragment"><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        {</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;            <span class="keywordflow">if</span> (model == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(model));</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160; </div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;            <span class="keywordflow">if</span> (order == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(order));</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160; </div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;            model.ShippingStatus = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a9836ccb186b0a63b89a200ddda9d33a5">_localizationService</a>.GetLocalizedEnumAsync(order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a6ee56dfef88f0242ccbc7df201d2cb0a">ShippingStatus</a>);</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;            <span class="keywordflow">if</span> (order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a6ee56dfef88f0242ccbc7df201d2cb0a">ShippingStatus</a> == <a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_shipping.html#a1dbf5d81e9b14f65a14f24436b374fae">ShippingStatus</a>.ShippingNotRequired)</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160; </div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;            model.IsShippable = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;            model.ShippingMethod = order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#ad115f1e2554b7dc2d6fb436290dc299d">ShippingMethod</a>;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;            model.CanAddNewShipments = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#abbe64278bfe8930de878fb194ad22993">_orderService</a>.<a class="code" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_service.html#aaf9783d7fd7a3d38bda26ecc870593b3">HasItemsToAddToShipmentAsync</a>(order);</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;            model.PickupInStore = order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a00f0ace9af78d272d8940372113d8dc7">PickupInStore</a>;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;            <span class="keywordflow">if</span> (!order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a00f0ace9af78d272d8940372113d8dc7">PickupInStore</a>)</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;            {</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;                var shippingAddress = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#aacde7cf726f871bd66f342fc4017c364">_addressService</a>.<a class="code" href="interface_nop_1_1_services_1_1_common_1_1_i_address_service.html#a91a223bb48ad616e4155d16894c64470">GetAddressByIdAsync</a>(order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#af1d40c1e5b6527352f696c68cc7ebd5a">ShippingAddressId</a>.Value);</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;                var shippingCountry = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ae615982a6467b18f4a33b2a5b4efbde4">_countryService</a>.<a class="code" href="interface_nop_1_1_services_1_1_directory_1_1_i_country_service.html#ac5036ded2f392a64646355d5e49e3936">GetCountryByAddressAsync</a>(shippingAddress);</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160; </div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;                model.ShippingAddress = shippingAddress.ToModel(model.ShippingAddress);</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;                model.ShippingAddress.CountryName = shippingCountry?.Name;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;                model.ShippingAddress.StateProvinceName = (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a17f2ab16bbb673cb5e722b7071e6df40">_stateProvinceService</a>.<a class="code" href="interface_nop_1_1_services_1_1_directory_1_1_i_state_province_service.html#a86108f628f57439260d5a90aaeaddf8d">GetStateProvinceByAddressAsync</a>(shippingAddress))?.<a class="code" href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a5d49a2599538bfd3f9e5333e94ca11b0">Name</a>;</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;                await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#af7b14d9158a4e15d939905847464614b">_addressModelFactory</a>.<a class="code" href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_address_model_factory.html#a2c58c405cf85d97ed0a3a6ca5f912080">PrepareAddressModelAsync</a>(model.ShippingAddress, shippingAddress);</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;                <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a9a0c897a0bc0f788c3ce243d773ef8cd">SetAddressFieldsAsRequired</a>(model.ShippingAddress);</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                model.ShippingAddressGoogleMapsUrl = <span class="stringliteral">&quot;https://maps.google.com/maps?f=q&amp;hl=en&amp;ie=UTF8&amp;oe=UTF8&amp;geocode=&amp;q=&quot;</span> +</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                    $<span class="stringliteral">&quot;{WebUtility.UrlEncode(shippingAddress.Address1 + &quot;</span> <span class="stringliteral">&quot; + shippingAddress.ZipPostalCode + &quot;</span> <span class="stringliteral">&quot; + shippingAddress.City + &quot;</span> <span class="stringliteral">&quot; + (shippingCountry?.Name ?? string.Empty))}&quot;</span>;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;            }</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;            {</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;                <span class="keywordflow">if</span> (order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#af782dcc88ec5bb543fd212ee8577b68f">PickupAddressId</a> is <span class="keyword">null</span>)</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160; </div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                var pickupAddress = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#aacde7cf726f871bd66f342fc4017c364">_addressService</a>.<a class="code" href="interface_nop_1_1_services_1_1_common_1_1_i_address_service.html#a91a223bb48ad616e4155d16894c64470">GetAddressByIdAsync</a>(order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#af782dcc88ec5bb543fd212ee8577b68f">PickupAddressId</a>.Value);</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160; </div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;                var pickupCountry = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ae615982a6467b18f4a33b2a5b4efbde4">_countryService</a>.<a class="code" href="interface_nop_1_1_services_1_1_directory_1_1_i_country_service.html#ac5036ded2f392a64646355d5e49e3936">GetCountryByAddressAsync</a>(pickupAddress);</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160; </div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                model.PickupAddress = pickupAddress.ToModel(model.PickupAddress);</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;                model.PickupAddressGoogleMapsUrl = $<span class="stringliteral">&quot;https://maps.google.com/maps?f=q&amp;hl=en&amp;ie=UTF8&amp;oe=UTF8&amp;geocode=&amp;q=&quot;</span> +</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;                    $<span class="stringliteral">&quot;{WebUtility.UrlEncode($&quot;</span>{pickupAddress.Address1} {pickupAddress.ZipPostalCode} {pickupAddress.City} {(pickupCountry?.Name ?? <span class="keywordtype">string</span>.Empty)}<span class="stringliteral">&quot;)}&quot;</span>;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;            }</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_a00f0ace9af78d272d8940372113d8dc7"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a00f0ace9af78d272d8940372113d8dc7">Nop.Core.Domain.Orders.Order.PickupInStore</a></div><div class="ttdeci">bool PickupInStore</div><div class="ttdoc">Gets or sets a value indicating whether a customer chose &quot;pick up in store&quot; shipping option</div><div class="ttdef"><b>Definition:</b> Order.cs:49</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_a6ee56dfef88f0242ccbc7df201d2cb0a"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a6ee56dfef88f0242ccbc7df201d2cb0a">Nop.Core.Domain.Orders.Order.ShippingStatus</a></div><div class="ttdeci">ShippingStatus ShippingStatus</div><div class="ttdoc">Gets or sets the shipping status</div><div class="ttdef"><b>Definition:</b> Order.cs:322</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_ad115f1e2554b7dc2d6fb436290dc299d"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#ad115f1e2554b7dc2d6fb436290dc299d">Nop.Core.Domain.Orders.Order.ShippingMethod</a></div><div class="ttdeci">string ShippingMethod</div><div class="ttdoc">Gets or sets the shipping method</div><div class="ttdef"><b>Definition:</b> Order.cs:264</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_af1d40c1e5b6527352f696c68cc7ebd5a"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#af1d40c1e5b6527352f696c68cc7ebd5a">Nop.Core.Domain.Orders.Order.ShippingAddressId</a></div><div class="ttdeci">int? ShippingAddressId</div><div class="ttdoc">Gets or sets the shipping address identifier</div><div class="ttdef"><b>Definition:</b> Order.cs:39</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_af782dcc88ec5bb543fd212ee8577b68f"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#af782dcc88ec5bb543fd212ee8577b68f">Nop.Core.Domain.Orders.Order.PickupAddressId</a></div><div class="ttdeci">int? PickupAddressId</div><div class="ttdoc">Gets or sets the pickup address identifier</div><div class="ttdef"><b>Definition:</b> Order.cs:44</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_orders_1_1_i_order_service_html_aaf9783d7fd7a3d38bda26ecc870593b3"><div class="ttname"><a href="interface_nop_1_1_services_1_1_orders_1_1_i_order_service.html#aaf9783d7fd7a3d38bda26ecc870593b3">Nop.Services.Orders.IOrderService.HasItemsToAddToShipmentAsync</a></div><div class="ttdeci">Task&lt; bool &gt; HasItemsToAddToShipmentAsync(Order order)</div><div class="ttdoc">Gets a value indicating whether an order has items to be added to a shipment</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a5d49a2599538bfd3f9e5333e94ca11b0">Nop.Plugin.Misc.Sendinblue.Models.Name</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#af782dcc88ec5bb543fd212ee8577b68f">Nop.Core.Domain.Orders.Order.PickupAddressId</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a00f0ace9af78d272d8940372113d8dc7">Nop.Core.Domain.Orders.Order.PickupInStore</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#af1d40c1e5b6527352f696c68cc7ebd5a">Nop.Core.Domain.Orders.Order.ShippingAddressId</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#ad115f1e2554b7dc2d6fb436290dc299d">Nop.Core.Domain.Orders.Order.ShippingMethod</a> e <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a6ee56dfef88f0242ccbc7df201d2cb0a">Nop.Core.Domain.Orders.Order.ShippingStatus</a>.</p>

</div>
</div>
<a id="ab2e3cdb66c60f86192382d4178495b12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2e3cdb66c60f86192382d4178495b12">&#9670;&nbsp;</a></span>PrepareOrderModelTotalsAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a> Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareOrderModelTotalsAsync </td>
          <td>(</td>
          <td class="paramtype">OrderModel&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a>&#160;</td>
          <td class="paramname"><em>order</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare order model totals </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">model</td><td>Order model</td></tr>
    <tr><td class="paramname">order</td><td>Order</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation</dd></dl>
<div class="fragment"><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        {</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;            <span class="keywordflow">if</span> (model == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(model));</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160; </div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;            <span class="keywordflow">if</span> (order == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(order));</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160; </div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;            var primaryStoreCurrency = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a2fb6ff7cb0522e3273c278d248f573ca">_currencyService</a>.<a class="code" href="interface_nop_1_1_services_1_1_directory_1_1_i_currency_service.html#a81c78d1c9841ac8dc226e43d5a19a4e4">GetCurrencyByIdAsync</a>(<a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a430244906e5403b6ec592b8d92033b5e">_currencySettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_directory_1_1_currency_settings.html#a5d5ba8e598d20352aa491a9924572da8">PrimaryStoreCurrencyId</a>);</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;            var languageId = (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#af26dbef381792d0814c79993db317c3a">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a686f2cf36883b0c44436ddbf33a023a5">GetWorkingLanguageAsync</a>()).<a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a968ff99d09af9aec2bb20d13d463c147">Id</a>;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160; </div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;            <span class="comment">//subtotal</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;            model.OrderSubtotalInclTax = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6da91fcb0904bc0fc0fd72ce11ac9f51">_priceFormatter</a></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                .<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html#ad86bb1f1a54fe9aa097e1498be32ec1c">FormatOrderPriceAsync</a>(order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a6e0aa71748f6ff05b348b95a68a8fa0b">OrderSubtotalInclTax</a>, order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#acfff109edd7dc8c5e3ade393b5deeb7b">CurrencyRate</a>, order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#aedd5ef1ae108d126cb0f8a7aaa302583">CustomerCurrencyCode</a>,</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab6682882a532cbb79a2a0a81b88e546f">_orderSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_settings.html#a7082cff0b0adbc5fbfb231b697a76b00">DisplayCustomerCurrencyOnOrders</a>, primaryStoreCurrency, languageId, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;            model.OrderSubtotalExclTax = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6da91fcb0904bc0fc0fd72ce11ac9f51">_priceFormatter</a></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                .<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html#ad86bb1f1a54fe9aa097e1498be32ec1c">FormatOrderPriceAsync</a>(order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a0be8cfcf6609a8d43569d5d462f059aa">OrderSubtotalExclTax</a>, order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#acfff109edd7dc8c5e3ade393b5deeb7b">CurrencyRate</a>, order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#aedd5ef1ae108d126cb0f8a7aaa302583">CustomerCurrencyCode</a>,</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab6682882a532cbb79a2a0a81b88e546f">_orderSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_settings.html#a7082cff0b0adbc5fbfb231b697a76b00">DisplayCustomerCurrencyOnOrders</a>, primaryStoreCurrency, languageId, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;            model.OrderSubtotalInclTaxValue = order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a6e0aa71748f6ff05b348b95a68a8fa0b">OrderSubtotalInclTax</a>;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;            model.OrderSubtotalExclTaxValue = order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a0be8cfcf6609a8d43569d5d462f059aa">OrderSubtotalExclTax</a>;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160; </div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;            <span class="comment">//discount (applied to order subtotal)</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;            var orderSubtotalDiscountInclTaxStr = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6da91fcb0904bc0fc0fd72ce11ac9f51">_priceFormatter</a></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                .<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html#ad86bb1f1a54fe9aa097e1498be32ec1c">FormatOrderPriceAsync</a>(order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#aa40cf241e04fa35f61fd95206ff0e4f3">OrderSubTotalDiscountInclTax</a>, order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#acfff109edd7dc8c5e3ade393b5deeb7b">CurrencyRate</a>, order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#aedd5ef1ae108d126cb0f8a7aaa302583">CustomerCurrencyCode</a>,</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab6682882a532cbb79a2a0a81b88e546f">_orderSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_settings.html#a7082cff0b0adbc5fbfb231b697a76b00">DisplayCustomerCurrencyOnOrders</a>, primaryStoreCurrency, languageId, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;            var orderSubtotalDiscountExclTaxStr = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6da91fcb0904bc0fc0fd72ce11ac9f51">_priceFormatter</a></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                .<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html#ad86bb1f1a54fe9aa097e1498be32ec1c">FormatOrderPriceAsync</a>(order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a1a5925ff7d0a8bd948ff2868a21a6f1b">OrderSubTotalDiscountExclTax</a>, order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#acfff109edd7dc8c5e3ade393b5deeb7b">CurrencyRate</a>, order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#aedd5ef1ae108d126cb0f8a7aaa302583">CustomerCurrencyCode</a>,</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab6682882a532cbb79a2a0a81b88e546f">_orderSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_settings.html#a7082cff0b0adbc5fbfb231b697a76b00">DisplayCustomerCurrencyOnOrders</a>, primaryStoreCurrency, languageId, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;            <span class="keywordflow">if</span> (order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#aa40cf241e04fa35f61fd95206ff0e4f3">OrderSubTotalDiscountInclTax</a> &gt; decimal.Zero)</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                model.OrderSubTotalDiscountInclTax = orderSubtotalDiscountInclTaxStr;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;            <span class="keywordflow">if</span> (order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a1a5925ff7d0a8bd948ff2868a21a6f1b">OrderSubTotalDiscountExclTax</a> &gt; decimal.Zero)</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                model.OrderSubTotalDiscountExclTax = orderSubtotalDiscountExclTaxStr;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            model.OrderSubTotalDiscountInclTaxValue = order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#aa40cf241e04fa35f61fd95206ff0e4f3">OrderSubTotalDiscountInclTax</a>;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;            model.OrderSubTotalDiscountExclTaxValue = order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a1a5925ff7d0a8bd948ff2868a21a6f1b">OrderSubTotalDiscountExclTax</a>;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160; </div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;            <span class="comment">//shipping</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;            model.OrderShippingInclTax = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6da91fcb0904bc0fc0fd72ce11ac9f51">_priceFormatter</a></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                .<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html#ad86bb1f1a54fe9aa097e1498be32ec1c">FormatOrderPriceAsync</a>(order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#ad5df520cde264bc84fa73ed2d60a4bc6">OrderShippingInclTax</a>, order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#acfff109edd7dc8c5e3ade393b5deeb7b">CurrencyRate</a>, order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#aedd5ef1ae108d126cb0f8a7aaa302583">CustomerCurrencyCode</a>,</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab6682882a532cbb79a2a0a81b88e546f">_orderSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_settings.html#a7082cff0b0adbc5fbfb231b697a76b00">DisplayCustomerCurrencyOnOrders</a>, primaryStoreCurrency, languageId, <span class="keyword">true</span>,</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a758c226f21c8cec5d74cc3d61dea9c78">_taxSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html#a88164d4deb7f0e92cc7343b74b369273">ShippingIsTaxable</a> &amp;&amp; <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a758c226f21c8cec5d74cc3d61dea9c78">_taxSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html#ac5f14a356533f083ff1be801e274a94f">DisplayTaxSuffix</a>);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;            model.OrderShippingExclTax = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6da91fcb0904bc0fc0fd72ce11ac9f51">_priceFormatter</a></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                .<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html#ad86bb1f1a54fe9aa097e1498be32ec1c">FormatOrderPriceAsync</a>(order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#ab9419756e1177bf5ec2d18bb7dbeb9a0">OrderShippingExclTax</a>, order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#acfff109edd7dc8c5e3ade393b5deeb7b">CurrencyRate</a>, order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#aedd5ef1ae108d126cb0f8a7aaa302583">CustomerCurrencyCode</a>,</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab6682882a532cbb79a2a0a81b88e546f">_orderSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_settings.html#a7082cff0b0adbc5fbfb231b697a76b00">DisplayCustomerCurrencyOnOrders</a>, primaryStoreCurrency, languageId, <span class="keyword">false</span>,</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a758c226f21c8cec5d74cc3d61dea9c78">_taxSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html#a88164d4deb7f0e92cc7343b74b369273">ShippingIsTaxable</a> &amp;&amp; <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a758c226f21c8cec5d74cc3d61dea9c78">_taxSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html#ac5f14a356533f083ff1be801e274a94f">DisplayTaxSuffix</a>);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            model.OrderShippingInclTaxValue = order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#ad5df520cde264bc84fa73ed2d60a4bc6">OrderShippingInclTax</a>;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            model.OrderShippingExclTaxValue = order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#ab9419756e1177bf5ec2d18bb7dbeb9a0">OrderShippingExclTax</a>;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160; </div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            <span class="comment">//payment method additional fee</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            <span class="keywordflow">if</span> (order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#ad199da73885e19a3c2d01c13e152a489">PaymentMethodAdditionalFeeInclTax</a> &gt; decimal.Zero)</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;            {</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                model.PaymentMethodAdditionalFeeInclTax = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6da91fcb0904bc0fc0fd72ce11ac9f51">_priceFormatter</a></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                    .<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html#ad86bb1f1a54fe9aa097e1498be32ec1c">FormatOrderPriceAsync</a>(order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#ad199da73885e19a3c2d01c13e152a489">PaymentMethodAdditionalFeeInclTax</a>, order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#acfff109edd7dc8c5e3ade393b5deeb7b">CurrencyRate</a>, order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#aedd5ef1ae108d126cb0f8a7aaa302583">CustomerCurrencyCode</a>,</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                    <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab6682882a532cbb79a2a0a81b88e546f">_orderSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_settings.html#a7082cff0b0adbc5fbfb231b697a76b00">DisplayCustomerCurrencyOnOrders</a>, primaryStoreCurrency, languageId, <span class="keyword">true</span>,</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                    <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a758c226f21c8cec5d74cc3d61dea9c78">_taxSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html#ae7b181a5e8a6de2ca22903360ef1f126">PaymentMethodAdditionalFeeIsTaxable</a> &amp;&amp; <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a758c226f21c8cec5d74cc3d61dea9c78">_taxSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html#ac5f14a356533f083ff1be801e274a94f">DisplayTaxSuffix</a>);</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                model.PaymentMethodAdditionalFeeExclTax = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6da91fcb0904bc0fc0fd72ce11ac9f51">_priceFormatter</a></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                    .<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html#ad86bb1f1a54fe9aa097e1498be32ec1c">FormatOrderPriceAsync</a>(order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a2b1db82cb59715d71a9440f4e2671798">PaymentMethodAdditionalFeeExclTax</a>, order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#acfff109edd7dc8c5e3ade393b5deeb7b">CurrencyRate</a>, order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#aedd5ef1ae108d126cb0f8a7aaa302583">CustomerCurrencyCode</a>,</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                    <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab6682882a532cbb79a2a0a81b88e546f">_orderSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_settings.html#a7082cff0b0adbc5fbfb231b697a76b00">DisplayCustomerCurrencyOnOrders</a>, primaryStoreCurrency, languageId, <span class="keyword">false</span>,</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                    <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a758c226f21c8cec5d74cc3d61dea9c78">_taxSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html#ae7b181a5e8a6de2ca22903360ef1f126">PaymentMethodAdditionalFeeIsTaxable</a> &amp;&amp; <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a758c226f21c8cec5d74cc3d61dea9c78">_taxSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html#ac5f14a356533f083ff1be801e274a94f">DisplayTaxSuffix</a>);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;            }</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160; </div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;            model.PaymentMethodAdditionalFeeInclTaxValue = order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#ad199da73885e19a3c2d01c13e152a489">PaymentMethodAdditionalFeeInclTax</a>;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;            model.PaymentMethodAdditionalFeeExclTaxValue = order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a2b1db82cb59715d71a9440f4e2671798">PaymentMethodAdditionalFeeExclTax</a>;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160; </div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;            <span class="comment">//tax</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;            model.Tax = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6da91fcb0904bc0fc0fd72ce11ac9f51">_priceFormatter</a></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                .<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html#ad86bb1f1a54fe9aa097e1498be32ec1c">FormatOrderPriceAsync</a>(order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#af8a979c9501c08fd5eb7930a283c04c3">OrderTax</a>, order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#acfff109edd7dc8c5e3ade393b5deeb7b">CurrencyRate</a>, order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#aedd5ef1ae108d126cb0f8a7aaa302583">CustomerCurrencyCode</a>,</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab6682882a532cbb79a2a0a81b88e546f">_orderSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_settings.html#a7082cff0b0adbc5fbfb231b697a76b00">DisplayCustomerCurrencyOnOrders</a>, primaryStoreCurrency, languageId, <span class="keyword">null</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;            var taxRates = <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#abbe64278bfe8930de878fb194ad22993">_orderService</a>.<a class="code" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_service.html#ac75025e9f3bf9cbdbbc9d59a165150c2">ParseTaxRates</a>(order, order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#ac53037203797a6ac8722899379bd1269">TaxRates</a>);</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;            var displayTaxRates = <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a758c226f21c8cec5d74cc3d61dea9c78">_taxSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html#a9726103c4e5c157a7d9805c3e7f1e3e3">DisplayTaxRates</a> &amp;&amp; taxRates.Any();</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;            var displayTax = !displayTaxRates;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;            <span class="keywordflow">foreach</span> (var tr <span class="keywordflow">in</span> taxRates)</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;            {</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                model.TaxRates.Add(<span class="keyword">new</span> <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a282721735b372bfcca56b1a43c5530f4">OrderModel</a>.TaxRate</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                {</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                    <a class="code" href="namespace_nop_1_1_plugin_1_1_shipping_1_1_fixed_by_weight_by_total_1_1_models.html#a066eb9b5cd2886a8a4d02fde31113150">Rate</a> = <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6da91fcb0904bc0fc0fd72ce11ac9f51">_priceFormatter</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html#af1c43608fadfd18474b7f6e4a1f81fe7">FormatTaxRate</a>(tr.Key),</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#ae81f2364e2d171b827c01c1105f2be5f">Value</a> = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6da91fcb0904bc0fc0fd72ce11ac9f51">_priceFormatter</a></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                        .<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html#ad86bb1f1a54fe9aa097e1498be32ec1c">FormatOrderPriceAsync</a>(tr.Value, order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#acfff109edd7dc8c5e3ade393b5deeb7b">CurrencyRate</a>, order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#aedd5ef1ae108d126cb0f8a7aaa302583">CustomerCurrencyCode</a>,</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                        <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab6682882a532cbb79a2a0a81b88e546f">_orderSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_settings.html#a7082cff0b0adbc5fbfb231b697a76b00">DisplayCustomerCurrencyOnOrders</a>, primaryStoreCurrency, languageId, <span class="keyword">null</span>, <span class="keyword">false</span>)</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                });</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;            }</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160; </div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;            model.DisplayTaxRates = displayTaxRates;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;            model.DisplayTax = displayTax;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;            model.TaxValue = order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#af8a979c9501c08fd5eb7930a283c04c3">OrderTax</a>;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;            model.TaxRatesValue = order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#ac53037203797a6ac8722899379bd1269">TaxRates</a>;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160; </div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;            <span class="comment">//discount</span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;            <span class="keywordflow">if</span> (order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a3db000dfb97212c2fefefbf925ca8e00">OrderDiscount</a> &gt; 0)</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;            {</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                model.OrderTotalDiscount = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6da91fcb0904bc0fc0fd72ce11ac9f51">_priceFormatter</a></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                    .<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html#ad86bb1f1a54fe9aa097e1498be32ec1c">FormatOrderPriceAsync</a>(-order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a3db000dfb97212c2fefefbf925ca8e00">OrderDiscount</a>, order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#acfff109edd7dc8c5e3ade393b5deeb7b">CurrencyRate</a>, order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#aedd5ef1ae108d126cb0f8a7aaa302583">CustomerCurrencyCode</a>,</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                    <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab6682882a532cbb79a2a0a81b88e546f">_orderSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_settings.html#a7082cff0b0adbc5fbfb231b697a76b00">DisplayCustomerCurrencyOnOrders</a>, primaryStoreCurrency, languageId, <span class="keyword">null</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;            }</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;            model.OrderTotalDiscountValue = order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a3db000dfb97212c2fefefbf925ca8e00">OrderDiscount</a>;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160; </div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;            <span class="comment">//gift cards</span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;            <span class="keywordflow">foreach</span> (var gcuh <span class="keywordflow">in</span> await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a7eabf838c0e8539109bd577349171443">_giftCardService</a>.<a class="code" href="interface_nop_1_1_services_1_1_orders_1_1_i_gift_card_service.html#a477a5f4899c7b1c63eff26f5b68300a2">GetGiftCardUsageHistoryAsync</a>(order))</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;            {</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                model.GiftCards.Add(<span class="keyword">new</span> <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a282721735b372bfcca56b1a43c5530f4">OrderModel</a>.GiftCard</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                {</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_discounts.html#a9dc1e689d26d3a7d08b6f51faa44d168">CouponCode</a> = (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a7eabf838c0e8539109bd577349171443">_giftCardService</a>.<a class="code" href="interface_nop_1_1_services_1_1_orders_1_1_i_gift_card_service.html#a307099c90fe373d7f71d55d26590dd61">GetGiftCardByIdAsync</a>(gcuh.GiftCardId)).GiftCardCouponCode,</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#ae367eb09b221d67f54cd231220ee462c">Amount</a> = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6da91fcb0904bc0fc0fd72ce11ac9f51">_priceFormatter</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html#a5e131524dfbb20c6d2d175f3323de98a">FormatPriceAsync</a>(-gcuh.UsedValue, <span class="keyword">true</span>, <span class="keyword">false</span>)</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                });</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;            }</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160; </div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;            <span class="comment">//reward points</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;            <span class="keywordflow">if</span> (order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a495ce0b486e38f4b6a0c59639521d3c4">RedeemedRewardPointsEntryId</a>.HasValue &amp;&amp; await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#aa507067ff470196a42e29e3139702ad1">_rewardPointService</a>.<a class="code" href="interface_nop_1_1_services_1_1_orders_1_1_i_reward_point_service.html#a1998cca68e5c819a20ae1f0fafff08ba">GetRewardPointsHistoryEntryByIdAsync</a>(order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a495ce0b486e38f4b6a0c59639521d3c4">RedeemedRewardPointsEntryId</a>.Value) is <a class="code" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_reward_points_history.html">RewardPointsHistory</a> redeemedRewardPointsEntry)</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;            {</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                model.RedeemedRewardPoints = -redeemedRewardPointsEntry.Points;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                model.RedeemedRewardPointsAmount =</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                    await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6da91fcb0904bc0fc0fd72ce11ac9f51">_priceFormatter</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html#a5e131524dfbb20c6d2d175f3323de98a">FormatPriceAsync</a>(-redeemedRewardPointsEntry.UsedAmount, <span class="keyword">true</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;            }</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160; </div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            <span class="comment">//total</span></div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;            model.OrderTotal = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6da91fcb0904bc0fc0fd72ce11ac9f51">_priceFormatter</a></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                .<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html#ad86bb1f1a54fe9aa097e1498be32ec1c">FormatOrderPriceAsync</a>(order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a5707771d888f12d4a74e1e2eac82f720">OrderTotal</a>, order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#acfff109edd7dc8c5e3ade393b5deeb7b">CurrencyRate</a>, order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#aedd5ef1ae108d126cb0f8a7aaa302583">CustomerCurrencyCode</a>,</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab6682882a532cbb79a2a0a81b88e546f">_orderSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_settings.html#a7082cff0b0adbc5fbfb231b697a76b00">DisplayCustomerCurrencyOnOrders</a>, primaryStoreCurrency, languageId, <span class="keyword">null</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;            model.OrderTotalValue = order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a5707771d888f12d4a74e1e2eac82f720">OrderTotal</a>;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160; </div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;            <span class="comment">//refunded amount</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;            <span class="keywordflow">if</span> (order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a9b339205739d7323f10102549276d3b2">RefundedAmount</a> &gt; decimal.Zero)</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                model.RefundedAmount = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6da91fcb0904bc0fc0fd72ce11ac9f51">_priceFormatter</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html#a5e131524dfbb20c6d2d175f3323de98a">FormatPriceAsync</a>(order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a9b339205739d7323f10102549276d3b2">RefundedAmount</a>, <span class="keyword">true</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160; </div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;            <span class="comment">//used discounts</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;            var duh = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6a632a10b2d07c1bf4f2054d6c66b5ac">_discountService</a>.<a class="code" href="interface_nop_1_1_services_1_1_discounts_1_1_i_discount_service.html#a0473d241079dd560242837ac5c9f7460">GetAllDiscountUsageHistoryAsync</a>(orderId: order.<a class="code" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Id</a>);</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;            <span class="keywordflow">foreach</span> (var d <span class="keywordflow">in</span> duh)</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;            {</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                var discount = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6a632a10b2d07c1bf4f2054d6c66b5ac">_discountService</a>.<a class="code" href="interface_nop_1_1_services_1_1_discounts_1_1_i_discount_service.html#a9697750465b8fa7893867cb73d358842">GetDiscountByIdAsync</a>(d.DiscountId);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160; </div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;                model.UsedDiscounts.Add(<span class="keyword">new</span> <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a282721735b372bfcca56b1a43c5530f4">OrderModel</a>.UsedDiscountModel</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;                {</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_discounts.html#af041086ef7fd47ba975c04641acd8723">DiscountId</a> = d.DiscountId,</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a01b1cd6d9d86e4dbdd2acb3ac990f222">DiscountName</a> = discount.Name</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;                });</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;            }</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160; </div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;            <span class="comment">//profit (hide for vendors)</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;            <span class="keywordflow">if</span> (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#af26dbef381792d0814c79993db317c3a">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a89d734829c4f453033e1051632214427">GetCurrentVendorAsync</a>() != <span class="keyword">null</span>)</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160; </div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;            var profit = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a4ed906aaccb7f008ed5d9c511da89b53">_orderReportService</a>.<a class="code" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_report_service.html#a1b5bf55d2f02cb2b6abce43ac3656b60">ProfitReportAsync</a>(orderId: order.<a class="code" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Id</a>);</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;            model.Profit = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6da91fcb0904bc0fc0fd72ce11ac9f51">_priceFormatter</a></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;                .<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html#ad86bb1f1a54fe9aa097e1498be32ec1c">FormatOrderPriceAsync</a>(profit, order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#acfff109edd7dc8c5e3ade393b5deeb7b">CurrencyRate</a>, order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#aedd5ef1ae108d126cb0f8a7aaa302583">CustomerCurrencyCode</a>,</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;                <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab6682882a532cbb79a2a0a81b88e546f">_orderSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_settings.html#a7082cff0b0adbc5fbfb231b697a76b00">DisplayCustomerCurrencyOnOrders</a>, primaryStoreCurrency, languageId, <span class="keyword">null</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_customers_1_1_reward_points_history_html"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_reward_points_history.html">Nop.Core.Domain.Customers.RewardPointsHistory</a></div><div class="ttdoc">Represents a reward point history entry</div><div class="ttdef"><b>Definition:</b> RewardPointsHistory.cs:9</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_a0be8cfcf6609a8d43569d5d462f059aa"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a0be8cfcf6609a8d43569d5d462f059aa">Nop.Core.Domain.Orders.Order.OrderSubtotalExclTax</a></div><div class="ttdeci">decimal OrderSubtotalExclTax</div><div class="ttdoc">Gets or sets the order subtotal (exclude tax)</div><div class="ttdef"><b>Definition:</b> Order.cs:99</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_a1a5925ff7d0a8bd948ff2868a21a6f1b"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a1a5925ff7d0a8bd948ff2868a21a6f1b">Nop.Core.Domain.Orders.Order.OrderSubTotalDiscountExclTax</a></div><div class="ttdeci">decimal OrderSubTotalDiscountExclTax</div><div class="ttdoc">Gets or sets the order subtotal discount (exclude tax)</div><div class="ttdef"><b>Definition:</b> Order.cs:109</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_a2b1db82cb59715d71a9440f4e2671798"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a2b1db82cb59715d71a9440f4e2671798">Nop.Core.Domain.Orders.Order.PaymentMethodAdditionalFeeExclTax</a></div><div class="ttdeci">decimal PaymentMethodAdditionalFeeExclTax</div><div class="ttdoc">Gets or sets the payment method additional fee (exclude tax)</div><div class="ttdef"><b>Definition:</b> Order.cs:129</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_a3db000dfb97212c2fefefbf925ca8e00"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a3db000dfb97212c2fefefbf925ca8e00">Nop.Core.Domain.Orders.Order.OrderDiscount</a></div><div class="ttdeci">decimal OrderDiscount</div><div class="ttdoc">Gets or sets the order discount (applied to order total)</div><div class="ttdef"><b>Definition:</b> Order.cs:144</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_a495ce0b486e38f4b6a0c59639521d3c4"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a495ce0b486e38f4b6a0c59639521d3c4">Nop.Core.Domain.Orders.Order.RedeemedRewardPointsEntryId</a></div><div class="ttdeci">virtual ? int RedeemedRewardPointsEntryId</div><div class="ttdoc">Gets or sets the reward points history record (spent by a customer when placing this order)</div><div class="ttdef"><b>Definition:</b> Order.cs:294</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_a6e0aa71748f6ff05b348b95a68a8fa0b"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a6e0aa71748f6ff05b348b95a68a8fa0b">Nop.Core.Domain.Orders.Order.OrderSubtotalInclTax</a></div><div class="ttdeci">decimal OrderSubtotalInclTax</div><div class="ttdoc">Gets or sets the order subtotal (include tax)</div><div class="ttdef"><b>Definition:</b> Order.cs:94</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_aa40cf241e04fa35f61fd95206ff0e4f3"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#aa40cf241e04fa35f61fd95206ff0e4f3">Nop.Core.Domain.Orders.Order.OrderSubTotalDiscountInclTax</a></div><div class="ttdeci">decimal OrderSubTotalDiscountInclTax</div><div class="ttdoc">Gets or sets the order subtotal discount (include tax)</div><div class="ttdef"><b>Definition:</b> Order.cs:104</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_ab9419756e1177bf5ec2d18bb7dbeb9a0"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#ab9419756e1177bf5ec2d18bb7dbeb9a0">Nop.Core.Domain.Orders.Order.OrderShippingExclTax</a></div><div class="ttdeci">decimal OrderShippingExclTax</div><div class="ttdoc">Gets or sets the order shipping (exclude tax)</div><div class="ttdef"><b>Definition:</b> Order.cs:119</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_ac53037203797a6ac8722899379bd1269"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#ac53037203797a6ac8722899379bd1269">Nop.Core.Domain.Orders.Order.TaxRates</a></div><div class="ttdeci">string TaxRates</div><div class="ttdoc">Gets or sets the tax rates</div><div class="ttdef"><b>Definition:</b> Order.cs:134</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_ad199da73885e19a3c2d01c13e152a489"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#ad199da73885e19a3c2d01c13e152a489">Nop.Core.Domain.Orders.Order.PaymentMethodAdditionalFeeInclTax</a></div><div class="ttdeci">decimal PaymentMethodAdditionalFeeInclTax</div><div class="ttdoc">Gets or sets the payment method additional fee (incl tax)</div><div class="ttdef"><b>Definition:</b> Order.cs:124</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_ad5df520cde264bc84fa73ed2d60a4bc6"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#ad5df520cde264bc84fa73ed2d60a4bc6">Nop.Core.Domain.Orders.Order.OrderShippingInclTax</a></div><div class="ttdeci">decimal OrderShippingInclTax</div><div class="ttdoc">Gets or sets the order shipping (include tax)</div><div class="ttdef"><b>Definition:</b> Order.cs:114</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_af8a979c9501c08fd5eb7930a283c04c3"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#af8a979c9501c08fd5eb7930a283c04c3">Nop.Core.Domain.Orders.Order.OrderTax</a></div><div class="ttdeci">decimal OrderTax</div><div class="ttdoc">Gets or sets the order tax</div><div class="ttdef"><b>Definition:</b> Order.cs:139</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings_html_a88164d4deb7f0e92cc7343b74b369273"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html#a88164d4deb7f0e92cc7343b74b369273">Nop.Core.Domain.Tax.TaxSettings.ShippingIsTaxable</a></div><div class="ttdeci">bool ShippingIsTaxable</div><div class="ttdoc">Gets or sets a value indicating whether shipping price is taxable</div><div class="ttdef"><b>Definition:</b> TaxSettings.cs:78</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings_html_a9726103c4e5c157a7d9805c3e7f1e3e3"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html#a9726103c4e5c157a7d9805c3e7f1e3e3">Nop.Core.Domain.Tax.TaxSettings.DisplayTaxRates</a></div><div class="ttdeci">bool DisplayTaxRates</div><div class="ttdoc">Gets or sets a value indicating whether each tax rate should be displayed on separate line (shopping ...</div><div class="ttdef"><b>Definition:</b> TaxSettings.cs:43</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings_html_ac5f14a356533f083ff1be801e274a94f"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html#ac5f14a356533f083ff1be801e274a94f">Nop.Core.Domain.Tax.TaxSettings.DisplayTaxSuffix</a></div><div class="ttdeci">bool DisplayTaxSuffix</div><div class="ttdoc">Gets or sets a value indicating whether to display tax suffix</div><div class="ttdef"><b>Definition:</b> TaxSettings.cs:38</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings_html_ae7b181a5e8a6de2ca22903360ef1f126"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html#ae7b181a5e8a6de2ca22903360ef1f126">Nop.Core.Domain.Tax.TaxSettings.PaymentMethodAdditionalFeeIsTaxable</a></div><div class="ttdeci">bool PaymentMethodAdditionalFeeIsTaxable</div><div class="ttdoc">Gets or sets a value indicating whether payment method additional fee is taxable</div><div class="ttdef"><b>Definition:</b> TaxSettings.cs:93</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter_html_af1c43608fadfd18474b7f6e4a1f81fe7"><div class="ttname"><a href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html#af1c43608fadfd18474b7f6e4a1f81fe7">Nop.Services.Catalog.IPriceFormatter.FormatTaxRate</a></div><div class="ttdeci">string FormatTaxRate(decimal taxRate)</div><div class="ttdoc">Formats a tax rate</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_discounts_1_1_i_discount_service_html_a0473d241079dd560242837ac5c9f7460"><div class="ttname"><a href="interface_nop_1_1_services_1_1_discounts_1_1_i_discount_service.html#a0473d241079dd560242837ac5c9f7460">Nop.Services.Discounts.IDiscountService.GetAllDiscountUsageHistoryAsync</a></div><div class="ttdeci">Task&lt; IPagedList&lt; DiscountUsageHistory &gt; &gt; GetAllDiscountUsageHistoryAsync(int? discountId=null, int? customerId=null, int? orderId=null, int pageIndex=0, int pageSize=int.MaxValue)</div><div class="ttdoc">Gets all discount usage history records</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_discounts_1_1_i_discount_service_html_a9697750465b8fa7893867cb73d358842"><div class="ttname"><a href="interface_nop_1_1_services_1_1_discounts_1_1_i_discount_service.html#a9697750465b8fa7893867cb73d358842">Nop.Services.Discounts.IDiscountService.GetDiscountByIdAsync</a></div><div class="ttdeci">Task&lt; Discount &gt; GetDiscountByIdAsync(int discountId)</div><div class="ttdoc">Gets a discount</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_orders_1_1_i_gift_card_service_html_a307099c90fe373d7f71d55d26590dd61"><div class="ttname"><a href="interface_nop_1_1_services_1_1_orders_1_1_i_gift_card_service.html#a307099c90fe373d7f71d55d26590dd61">Nop.Services.Orders.IGiftCardService.GetGiftCardByIdAsync</a></div><div class="ttdeci">Task&lt; GiftCard &gt; GetGiftCardByIdAsync(int giftCardId)</div><div class="ttdoc">Gets a gift card</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_orders_1_1_i_gift_card_service_html_a477a5f4899c7b1c63eff26f5b68300a2"><div class="ttname"><a href="interface_nop_1_1_services_1_1_orders_1_1_i_gift_card_service.html#a477a5f4899c7b1c63eff26f5b68300a2">Nop.Services.Orders.IGiftCardService.GetGiftCardUsageHistoryAsync</a></div><div class="ttdeci">Task&lt; IList&lt; GiftCardUsageHistory &gt; &gt; GetGiftCardUsageHistoryAsync(GiftCard giftCard)</div><div class="ttdoc">Gets a gift card usage history entries</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_orders_1_1_i_order_service_html_ac75025e9f3bf9cbdbbc9d59a165150c2"><div class="ttname"><a href="interface_nop_1_1_services_1_1_orders_1_1_i_order_service.html#ac75025e9f3bf9cbdbbc9d59a165150c2">Nop.Services.Orders.IOrderService.ParseTaxRates</a></div><div class="ttdeci">SortedDictionary&lt; decimal, decimal &gt; ParseTaxRates(Order order, string taxRatesStr)</div><div class="ttdoc">Parse tax rates</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_orders_1_1_i_reward_point_service_html_a1998cca68e5c819a20ae1f0fafff08ba"><div class="ttname"><a href="interface_nop_1_1_services_1_1_orders_1_1_i_reward_point_service.html#a1998cca68e5c819a20ae1f0fafff08ba">Nop.Services.Orders.IRewardPointService.GetRewardPointsHistoryEntryByIdAsync</a></div><div class="ttdeci">Task&lt; RewardPointsHistory &gt; GetRewardPointsHistoryEntryByIdAsync(int rewardPointsHistoryId)</div><div class="ttdoc">Gets a reward point history entry</div></div>
<div class="ttc" id="anamespace_nop_1_1_plugin_1_1_shipping_1_1_fixed_by_weight_by_total_1_1_models_html_a066eb9b5cd2886a8a4d02fde31113150"><div class="ttname"><a href="namespace_nop_1_1_plugin_1_1_shipping_1_1_fixed_by_weight_by_total_1_1_models.html#a066eb9b5cd2886a8a4d02fde31113150">Nop.Plugin.Shipping.FixedByWeightByTotal.Models.Rate</a></div><div class="ttdeci">decimal Rate</div><div class="ttdef"><b>Definition:</b> FixedRateModel.cs:15</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog_html_ae81f2364e2d171b827c01c1105f2be5f"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#ae81f2364e2d171b827c01c1105f2be5f">Nop.Web.Areas.Admin.Models.Catalog.Value</a></div><div class="ttdeci">string Value</div><div class="ttdef"><b>Definition:</b> AddSpecificationAttributeLocalizedModel.cs:17</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_discounts_html_a9dc1e689d26d3a7d08b6f51faa44d168"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_discounts.html#a9dc1e689d26d3a7d08b6f51faa44d168">Nop.Web.Areas.Admin.Models.Discounts.CouponCode</a></div><div class="ttdeci">string CouponCode</div><div class="ttdef"><b>Definition:</b> DiscountModel.cs:77</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_discounts_html_af041086ef7fd47ba975c04641acd8723"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_discounts.html#af041086ef7fd47ba975c04641acd8723">Nop.Web.Areas.Admin.Models.Discounts.DiscountId</a></div><div class="ttdeci">int DiscountId</div><div class="ttdef"><b>Definition:</b> AddCategoryToDiscountModel.cs:21</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders_html_a01b1cd6d9d86e4dbdd2acb3ac990f222"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a01b1cd6d9d86e4dbdd2acb3ac990f222">Nop.Web.Areas.Admin.Models.Orders.DiscountName</a></div><div class="ttdeci">string DiscountName</div><div class="ttdef"><b>Definition:</b> OrderModel.cs:264</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders_html_ae367eb09b221d67f54cd231220ee462c"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#ae367eb09b221d67f54cd231220ee462c">Nop.Web.Areas.Admin.Models.Orders.Amount</a></div><div class="ttdeci">decimal Amount</div><div class="ttdef"><b>Definition:</b> GiftCardModel.cs:34</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a2fb6ff7cb0522e3273c278d248f573ca">Nop.Web.Areas.Admin.Factories.OrderModelFactory._currencyService</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a430244906e5403b6ec592b8d92033b5e">Nop.Web.Areas.Admin.Factories.OrderModelFactory._currencySettings</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#abbe64278bfe8930de878fb194ad22993">Nop.Web.Areas.Admin.Factories.OrderModelFactory._orderService</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab6682882a532cbb79a2a0a81b88e546f">Nop.Web.Areas.Admin.Factories.OrderModelFactory._orderSettings</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6da91fcb0904bc0fc0fd72ce11ac9f51">Nop.Web.Areas.Admin.Factories.OrderModelFactory._priceFormatter</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a758c226f21c8cec5d74cc3d61dea9c78">Nop.Web.Areas.Admin.Factories.OrderModelFactory._taxSettings</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#af26dbef381792d0814c79993db317c3a">Nop.Web.Areas.Admin.Factories.OrderModelFactory._workContext</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#acfff109edd7dc8c5e3ade393b5deeb7b">Nop.Core.Domain.Orders.Order.CurrencyRate</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#aedd5ef1ae108d126cb0f8a7aaa302583">Nop.Core.Domain.Orders.Order.CustomerCurrencyCode</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_settings.html#a7082cff0b0adbc5fbfb231b697a76b00">Nop.Core.Domain.Orders.OrderSettings.DisplayCustomerCurrencyOnOrders</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html#a9726103c4e5c157a7d9805c3e7f1e3e3">Nop.Core.Domain.Tax.TaxSettings.DisplayTaxRates</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html#ac5f14a356533f083ff1be801e274a94f">Nop.Core.Domain.Tax.TaxSettings.DisplayTaxSuffix</a>, <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html#ad86bb1f1a54fe9aa097e1498be32ec1c">Nop.Services.Catalog.IPriceFormatter.FormatOrderPriceAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html#af1c43608fadfd18474b7f6e4a1f81fe7">Nop.Services.Catalog.IPriceFormatter.FormatTaxRate()</a>, <a class="el" href="interface_nop_1_1_services_1_1_directory_1_1_i_currency_service.html#a81c78d1c9841ac8dc226e43d5a19a4e4">Nop.Services.Directory.ICurrencyService.GetCurrencyByIdAsync()</a>, <a class="el" href="interface_nop_1_1_core_1_1_i_work_context.html#a686f2cf36883b0c44436ddbf33a023a5">Nop.Core.IWorkContext.GetWorkingLanguageAsync()</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a968ff99d09af9aec2bb20d13d463c147">Nop.Web.Areas.Admin.Models.Orders.Id</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a282721735b372bfcca56b1a43c5530f4">Nop.Web.Areas.Admin.Models.Orders.OrderModel</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#ab9419756e1177bf5ec2d18bb7dbeb9a0">Nop.Core.Domain.Orders.Order.OrderShippingExclTax</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#ad5df520cde264bc84fa73ed2d60a4bc6">Nop.Core.Domain.Orders.Order.OrderShippingInclTax</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a1a5925ff7d0a8bd948ff2868a21a6f1b">Nop.Core.Domain.Orders.Order.OrderSubTotalDiscountExclTax</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#aa40cf241e04fa35f61fd95206ff0e4f3">Nop.Core.Domain.Orders.Order.OrderSubTotalDiscountInclTax</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a0be8cfcf6609a8d43569d5d462f059aa">Nop.Core.Domain.Orders.Order.OrderSubtotalExclTax</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a6e0aa71748f6ff05b348b95a68a8fa0b">Nop.Core.Domain.Orders.Order.OrderSubtotalInclTax</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#af8a979c9501c08fd5eb7930a283c04c3">Nop.Core.Domain.Orders.Order.OrderTax</a>, <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_service.html#ac75025e9f3bf9cbdbbc9d59a165150c2">Nop.Services.Orders.IOrderService.ParseTaxRates()</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a2b1db82cb59715d71a9440f4e2671798">Nop.Core.Domain.Orders.Order.PaymentMethodAdditionalFeeExclTax</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#ad199da73885e19a3c2d01c13e152a489">Nop.Core.Domain.Orders.Order.PaymentMethodAdditionalFeeInclTax</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html#ae7b181a5e8a6de2ca22903360ef1f126">Nop.Core.Domain.Tax.TaxSettings.PaymentMethodAdditionalFeeIsTaxable</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_directory_1_1_currency_settings.html#a5d5ba8e598d20352aa491a9924572da8">Nop.Core.Domain.Directory.CurrencySettings.PrimaryStoreCurrencyId</a>, <a class="el" href="namespace_nop_1_1_plugin_1_1_shipping_1_1_fixed_by_weight_by_total_1_1_models.html#a066eb9b5cd2886a8a4d02fde31113150">Nop.Plugin.Shipping.FixedByWeightByTotal.Models.Rate</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html#a88164d4deb7f0e92cc7343b74b369273">Nop.Core.Domain.Tax.TaxSettings.ShippingIsTaxable</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#ac53037203797a6ac8722899379bd1269">Nop.Core.Domain.Orders.Order.TaxRates</a> e <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#ae81f2364e2d171b827c01c1105f2be5f">Nop.Web.Areas.Admin.Models.Catalog.Value</a>.</p>

</div>
</div>
<a id="a9079cf93c4b00cab1360acab8e88f71d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9079cf93c4b00cab1360acab8e88f71d">&#9670;&nbsp;</a></span>PrepareOrderNoteListModelAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;OrderNoteListModel&gt; Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareOrderNoteListModelAsync </td>
          <td>(</td>
          <td class="paramtype">OrderNoteSearchModel&#160;</td>
          <td class="paramname"><em>searchModel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a>&#160;</td>
          <td class="paramname"><em>order</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare paged order note list model </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">searchModel</td><td>Order note search model</td></tr>
    <tr><td class="paramname">order</td><td>Order</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the order note list model </dd></dl>

<p>Implementa <a class="el" href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_order_model_factory.html#a6b906b0f0282c7bd6248b14360d44711">Nop.Web.Areas.Admin.Factories.IOrderModelFactory</a>.</p>
<div class="fragment"><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;        {</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;            <span class="keywordflow">if</span> (searchModel == <span class="keyword">null</span>)</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(searchModel));</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160; </div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;            <span class="keywordflow">if</span> (order == <span class="keyword">null</span>)</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(order));</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160; </div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;            <span class="comment">//get notes</span></div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;            var orderNotes = (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#abbe64278bfe8930de878fb194ad22993">_orderService</a>.<a class="code" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_service.html#adb1a21c41b0ac7da061ae1a2be32b347">GetOrderNotesByOrderIdAsync</a>(order.<a class="code" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Id</a>)).OrderByDescending(on =&gt; on.CreatedOnUtc).ToList().ToPagedList(searchModel);</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160; </div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;            <span class="comment">//prepare list model</span></div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;            var model = await <span class="keyword">new</span> OrderNoteListModel().PrepareToGridAsync(searchModel, orderNotes, () =&gt;</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;            {</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;                <span class="comment">//fill in model values from the entity</span></div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;                <span class="keywordflow">return</span> orderNotes.SelectAwait(async orderNote =&gt;</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;                {</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;                    <span class="comment">//fill in model values from the entity</span></div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;                    var orderNoteModel = orderNote.ToModel&lt;<a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a43ae58b46965b04664728c7a584c2cae">OrderNoteModel</a>&gt;();</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160; </div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;                    <span class="comment">//convert dates to the user time</span></div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;                    orderNoteModel.CreatedOn = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a3f46f2e2528845d2aa2d23e4578ecafa">_dateTimeHelper</a>.<a class="code" href="interface_nop_1_1_services_1_1_helpers_1_1_i_date_time_helper.html#a1708db62bd94308eacba6e1e19372f36">ConvertToUserTimeAsync</a>(orderNote.CreatedOnUtc, DateTimeKind.Utc);</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160; </div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;                    <span class="comment">//fill in additional values (not existing in the entity)</span></div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;                    orderNoteModel.Note = <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#abbe64278bfe8930de878fb194ad22993">_orderService</a>.<a class="code" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_service.html#a78bccdbb3cd465a2c09904f3559ab64b">FormatOrderNoteText</a>(orderNote);</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160; </div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;                    orderNoteModel.DownloadGuid = (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a169bde984d85bb22570777f279998831">_downloadService</a>.<a class="code" href="interface_nop_1_1_services_1_1_media_1_1_i_download_service.html#adcabe8c463ed649407fbbf5300565d29">GetDownloadByIdAsync</a>(orderNote.DownloadId))?.DownloadGuid ?? Guid.Empty;</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160; </div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;                    <span class="keywordflow">return</span> orderNoteModel;</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;                });</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;            });</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160; </div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;            <span class="keywordflow">return</span> model;</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;        }</div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_orders_1_1_i_order_service_html_a78bccdbb3cd465a2c09904f3559ab64b"><div class="ttname"><a href="interface_nop_1_1_services_1_1_orders_1_1_i_order_service.html#a78bccdbb3cd465a2c09904f3559ab64b">Nop.Services.Orders.IOrderService.FormatOrderNoteText</a></div><div class="ttdeci">string FormatOrderNoteText(OrderNote orderNote)</div><div class="ttdoc">Formats the order note text</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_orders_1_1_i_order_service_html_adb1a21c41b0ac7da061ae1a2be32b347"><div class="ttname"><a href="interface_nop_1_1_services_1_1_orders_1_1_i_order_service.html#adb1a21c41b0ac7da061ae1a2be32b347">Nop.Services.Orders.IOrderService.GetOrderNotesByOrderIdAsync</a></div><div class="ttdeci">Task&lt; IList&lt; OrderNote &gt; &gt; GetOrderNotesByOrderIdAsync(int orderId, bool? displayToCustomer=null)</div><div class="ttdoc">Gets a list notes of order</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders_html_a43ae58b46965b04664728c7a584c2cae"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a43ae58b46965b04664728c7a584c2cae">Nop.Web.Areas.Admin.Models.Orders.OrderNoteModel</a></div><div class="ttdeci">partial record OrderNoteModel</div><div class="ttdoc">Represents an order note model</div><div class="ttdef"><b>Definition:</b> OrderNoteModel.cs:14</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Nop.Core.BaseEntity.Id</a> e <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a43ae58b46965b04664728c7a584c2cae">Nop.Web.Areas.Admin.Models.Orders.OrderNoteModel</a>.</p>

</div>
</div>
<a id="a4594cb7f931358892aa7c3e2823eda48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4594cb7f931358892aa7c3e2823eda48">&#9670;&nbsp;</a></span>PrepareOrderNoteSearchModel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual OrderNoteSearchModel Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareOrderNoteSearchModel </td>
          <td>(</td>
          <td class="paramtype">OrderNoteSearchModel&#160;</td>
          <td class="paramname"><em>searchModel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a>&#160;</td>
          <td class="paramname"><em>order</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare order note search model </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">searchModel</td><td>Order note search model</td></tr>
    <tr><td class="paramname">order</td><td>Order</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>Order note search model</dd></dl>
<div class="fragment"><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        {</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;            <span class="keywordflow">if</span> (searchModel == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(searchModel));</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160; </div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;            <span class="keywordflow">if</span> (order == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(order));</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160; </div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;            searchModel.OrderId = order.<a class="code" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Id</a>;</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160; </div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;            <span class="comment">//prepare page parameters</span></div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;            searchModel.SetGridPageSize();</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160; </div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;            <span class="keywordflow">return</span> searchModel;</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Nop.Core.BaseEntity.Id</a>.</p>

</div>
</div>
<a id="a9fcfeedae08342e99adbdbbb4df1f22c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fcfeedae08342e99adbdbbb4df1f22c">&#9670;&nbsp;</a></span>PrepareOrderSearchModelAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;OrderSearchModel&gt; Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareOrderSearchModelAsync </td>
          <td>(</td>
          <td class="paramtype">OrderSearchModel&#160;</td>
          <td class="paramname"><em>searchModel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare order search model </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">searchModel</td><td>Order search model</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the order search model </dd></dl>

<p>Implementa <a class="el" href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_order_model_factory.html#a91f1257f12d98ffa05ea8be1e6be367d">Nop.Web.Areas.Admin.Factories.IOrderModelFactory</a>.</p>
<div class="fragment"><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;        {</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;            <span class="keywordflow">if</span> (searchModel == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(searchModel));</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160; </div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;            searchModel.IsLoggedInAsVendor = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#af26dbef381792d0814c79993db317c3a">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a89d734829c4f453033e1051632214427">GetCurrentVendorAsync</a>() != <span class="keyword">null</span>;</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;            searchModel.BillingPhoneEnabled = <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a2011570edf3ae45c34f6e652fee681b3">_addressSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address_settings.html#a8c02cbcc11ea5183ab6ca9e5a34dedb5">PhoneEnabled</a>;</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160; </div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;            <span class="comment">//prepare available order, payment and shipping statuses</span></div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;            await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6232ea2a7557eacfc3f1570ede36753e">_baseAdminModelFactory</a>.<a class="code" href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_base_admin_model_factory.html#aa1235cbcf07f854861a07a6e3f4499f8">PrepareOrderStatusesAsync</a>(searchModel.AvailableOrderStatuses);</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;            <span class="keywordflow">if</span> (searchModel.AvailableOrderStatuses.Any())</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;            {</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;                <span class="keywordflow">if</span> (searchModel.OrderStatusIds?.Any() ?? <span class="keyword">false</span>)</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;                {</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;                    var ids = searchModel.OrderStatusIds.Select(<span class="keywordtype">id</span> =&gt; <span class="keywordtype">id</span>.ToString());</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;                    searchModel.AvailableOrderStatuses.Where(statusItem =&gt; ids.Contains(statusItem.Value)).ToList()</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;                        .ForEach(statusItem =&gt; statusItem.Selected = <span class="keyword">true</span>);</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;                }</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;                    searchModel.AvailableOrderStatuses.FirstOrDefault().Selected = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;            }</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160; </div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;            await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6232ea2a7557eacfc3f1570ede36753e">_baseAdminModelFactory</a>.<a class="code" href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_base_admin_model_factory.html#a559920249f44297bf5d8f6cf6d490f53">PreparePaymentStatusesAsync</a>(searchModel.AvailablePaymentStatuses);</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;            <span class="keywordflow">if</span> (searchModel.AvailablePaymentStatuses.Any())</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;            {</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;                <span class="keywordflow">if</span> (searchModel.PaymentStatusIds?.Any() ?? <span class="keyword">false</span>)</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;                {</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;                    var ids = searchModel.PaymentStatusIds.Select(<span class="keywordtype">id</span> =&gt; <span class="keywordtype">id</span>.ToString());</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;                    searchModel.AvailablePaymentStatuses.Where(statusItem =&gt; ids.Contains(statusItem.Value)).ToList()</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;                        .ForEach(statusItem =&gt; statusItem.Selected = <span class="keyword">true</span>);</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;                }</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;                    searchModel.AvailablePaymentStatuses.FirstOrDefault().Selected = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;            }</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160; </div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;            await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6232ea2a7557eacfc3f1570ede36753e">_baseAdminModelFactory</a>.<a class="code" href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_base_admin_model_factory.html#ad2f2e58c49972cacde4c26e53132ee2d">PrepareShippingStatusesAsync</a>(searchModel.AvailableShippingStatuses);</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;            <span class="keywordflow">if</span> (searchModel.AvailableShippingStatuses.Any())</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;            {</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;                <span class="keywordflow">if</span> (searchModel.ShippingStatusIds?.Any() ?? <span class="keyword">false</span>)</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;                {</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;                    var ids = searchModel.ShippingStatusIds.Select(<span class="keywordtype">id</span> =&gt; <span class="keywordtype">id</span>.ToString());</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;                    searchModel.AvailableShippingStatuses.Where(statusItem =&gt; ids.Contains(statusItem.Value)).ToList()</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;                        .ForEach(statusItem =&gt; statusItem.Selected = <span class="keyword">true</span>);</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;                }</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;                    searchModel.AvailableShippingStatuses.FirstOrDefault().Selected = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;            }</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160; </div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;            <span class="comment">//prepare available stores</span></div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;            await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6232ea2a7557eacfc3f1570ede36753e">_baseAdminModelFactory</a>.<a class="code" href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_base_admin_model_factory.html#a0e1ca0e51d00ef70d691ecc7ce7a6e38">PrepareStoresAsync</a>(searchModel.AvailableStores);</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160; </div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;            <span class="comment">//prepare available vendors</span></div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;            await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6232ea2a7557eacfc3f1570ede36753e">_baseAdminModelFactory</a>.<a class="code" href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_base_admin_model_factory.html#ad3de923373dc47b2c38e2c28a9407e1d">PrepareVendorsAsync</a>(searchModel.AvailableVendors);</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160; </div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;            <span class="comment">//prepare available warehouses</span></div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;            await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6232ea2a7557eacfc3f1570ede36753e">_baseAdminModelFactory</a>.<a class="code" href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_base_admin_model_factory.html#a53f2335b965b8c1f42024da907152b1f">PrepareWarehousesAsync</a>(searchModel.AvailableWarehouses);</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160; </div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;            <span class="comment">//prepare available payment methods</span></div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;            searchModel.AvailablePaymentMethods = (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a1084c4344b2534317c4f2eecb03573e0">_paymentPluginManager</a>.<a class="code" href="interface_nop_1_1_services_1_1_plugins_1_1_i_plugin_manager.html#a51ff3b3dff38eac5b65903aa46328710">LoadAllPluginsAsync</a>()).Select(method =&gt;</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;                <span class="keyword">new</span> SelectListItem { <a class="code" href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a2c7aec4f6e1f8a7946bd8a33c55b2d4d">Text</a> = method.PluginDescriptor.FriendlyName, <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#ae81f2364e2d171b827c01c1105f2be5f">Value</a> = method.PluginDescriptor.SystemName }).ToList();</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;            searchModel.AvailablePaymentMethods.Insert(0, <span class="keyword">new</span> SelectListItem { <a class="code" href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a2c7aec4f6e1f8a7946bd8a33c55b2d4d">Text</a> = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a9836ccb186b0a63b89a200ddda9d33a5">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;Admin.Common.All&quot;</span>), <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#ae81f2364e2d171b827c01c1105f2be5f">Value</a> = <span class="keywordtype">string</span>.Empty });</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160; </div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;            <span class="comment">//prepare available billing countries</span></div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;            searchModel.AvailableCountries = (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ae615982a6467b18f4a33b2a5b4efbde4">_countryService</a>.<a class="code" href="interface_nop_1_1_services_1_1_directory_1_1_i_country_service.html#af54162839f88e0e0d92af0a77690c492">GetAllCountriesForBillingAsync</a>(showHidden: <span class="keyword">true</span>))</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;                .Select(country =&gt; <span class="keyword">new</span> SelectListItem { <a class="code" href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a2c7aec4f6e1f8a7946bd8a33c55b2d4d">Text</a> = country.Name, <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#ae81f2364e2d171b827c01c1105f2be5f">Value</a> = country.Id.ToString() }).ToList();</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;            searchModel.AvailableCountries.Insert(0, <span class="keyword">new</span> SelectListItem { <a class="code" href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a2c7aec4f6e1f8a7946bd8a33c55b2d4d">Text</a> = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a9836ccb186b0a63b89a200ddda9d33a5">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;Admin.Common.All&quot;</span>), <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#ae81f2364e2d171b827c01c1105f2be5f">Value</a> = <span class="stringliteral">&quot;0&quot;</span> });</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160; </div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;            <span class="comment">//prepare grid</span></div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;            searchModel.SetGridPageSize();</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160; </div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;            searchModel.HideStoresList = <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a97ad9d1cd65429e39c7432234c60348f">_catalogSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_catalog_settings.html#a0f08235b0fefe10f3f69781c16e16895">IgnoreStoreLimitations</a> || searchModel.AvailableStores.SelectionIsNotPossible();</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160; </div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;            <span class="keywordflow">return</span> searchModel;</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_catalog_1_1_catalog_settings_html_a0f08235b0fefe10f3f69781c16e16895"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_catalog_settings.html#a0f08235b0fefe10f3f69781c16e16895">Nop.Core.Domain.Catalog.CatalogSettings.IgnoreStoreLimitations</a></div><div class="ttdeci">bool IgnoreStoreLimitations</div><div class="ttdoc">Gets or sets a value indicating whether to ignore &quot;limit per store&quot; rules (side-wide)....</div><div class="ttdef"><b>Definition:</b> CatalogSettings.cs:371</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_common_1_1_address_settings_html_a8c02cbcc11ea5183ab6ca9e5a34dedb5"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address_settings.html#a8c02cbcc11ea5183ab6ca9e5a34dedb5">Nop.Core.Domain.Common.AddressSettings.PhoneEnabled</a></div><div class="ttdeci">bool PhoneEnabled</div><div class="ttdoc">Gets or sets a value indicating whether 'Phone number' is enabled</div><div class="ttdef"><b>Definition:</b> AddressSettings.cs:83</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_directory_1_1_i_country_service_html_af54162839f88e0e0d92af0a77690c492"><div class="ttname"><a href="interface_nop_1_1_services_1_1_directory_1_1_i_country_service.html#af54162839f88e0e0d92af0a77690c492">Nop.Services.Directory.ICountryService.GetAllCountriesForBillingAsync</a></div><div class="ttdeci">Task&lt; IList&lt; Country &gt; &gt; GetAllCountriesForBillingAsync(int languageId=0, bool showHidden=false)</div><div class="ttdoc">Gets all countries that allow billing</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_plugins_1_1_i_plugin_manager_html_a51ff3b3dff38eac5b65903aa46328710"><div class="ttname"><a href="interface_nop_1_1_services_1_1_plugins_1_1_i_plugin_manager.html#a51ff3b3dff38eac5b65903aa46328710">Nop.Services.Plugins.IPluginManager.LoadAllPluginsAsync</a></div><div class="ttdeci">Task&lt; IList&lt; TPlugin &gt; &gt; LoadAllPluginsAsync(Customer customer=null, int storeId=0)</div><div class="ttdoc">Load all plugins</div></div>
<div class="ttc" id="ainterface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_base_admin_model_factory_html_a0e1ca0e51d00ef70d691ecc7ce7a6e38"><div class="ttname"><a href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_base_admin_model_factory.html#a0e1ca0e51d00ef70d691ecc7ce7a6e38">Nop.Web.Areas.Admin.Factories.IBaseAdminModelFactory.PrepareStoresAsync</a></div><div class="ttdeci">Task PrepareStoresAsync(IList&lt; SelectListItem &gt; items, bool withSpecialDefaultItem=true, string defaultItemText=null)</div><div class="ttdoc">Prepare available stores</div></div>
<div class="ttc" id="ainterface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_base_admin_model_factory_html_a53f2335b965b8c1f42024da907152b1f"><div class="ttname"><a href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_base_admin_model_factory.html#a53f2335b965b8c1f42024da907152b1f">Nop.Web.Areas.Admin.Factories.IBaseAdminModelFactory.PrepareWarehousesAsync</a></div><div class="ttdeci">Task PrepareWarehousesAsync(IList&lt; SelectListItem &gt; items, bool withSpecialDefaultItem=true, string defaultItemText=null)</div><div class="ttdoc">Prepare available warehouses</div></div>
<div class="ttc" id="ainterface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_base_admin_model_factory_html_a559920249f44297bf5d8f6cf6d490f53"><div class="ttname"><a href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_base_admin_model_factory.html#a559920249f44297bf5d8f6cf6d490f53">Nop.Web.Areas.Admin.Factories.IBaseAdminModelFactory.PreparePaymentStatusesAsync</a></div><div class="ttdeci">Task PreparePaymentStatusesAsync(IList&lt; SelectListItem &gt; items, bool withSpecialDefaultItem=true, string defaultItemText=null)</div><div class="ttdoc">Prepare available payment statuses</div></div>
<div class="ttc" id="ainterface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_base_admin_model_factory_html_aa1235cbcf07f854861a07a6e3f4499f8"><div class="ttname"><a href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_base_admin_model_factory.html#aa1235cbcf07f854861a07a6e3f4499f8">Nop.Web.Areas.Admin.Factories.IBaseAdminModelFactory.PrepareOrderStatusesAsync</a></div><div class="ttdeci">Task PrepareOrderStatusesAsync(IList&lt; SelectListItem &gt; items, bool withSpecialDefaultItem=true, string defaultItemText=null)</div><div class="ttdoc">Prepare available order statuses</div></div>
<div class="ttc" id="ainterface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_base_admin_model_factory_html_ad2f2e58c49972cacde4c26e53132ee2d"><div class="ttname"><a href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_base_admin_model_factory.html#ad2f2e58c49972cacde4c26e53132ee2d">Nop.Web.Areas.Admin.Factories.IBaseAdminModelFactory.PrepareShippingStatusesAsync</a></div><div class="ttdeci">Task PrepareShippingStatusesAsync(IList&lt; SelectListItem &gt; items, bool withSpecialDefaultItem=true, string defaultItemText=null)</div><div class="ttdoc">Prepare available shipping statuses</div></div>
<div class="ttc" id="ainterface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_base_admin_model_factory_html_ad3de923373dc47b2c38e2c28a9407e1d"><div class="ttname"><a href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_base_admin_model_factory.html#ad3de923373dc47b2c38e2c28a9407e1d">Nop.Web.Areas.Admin.Factories.IBaseAdminModelFactory.PrepareVendorsAsync</a></div><div class="ttdeci">Task PrepareVendorsAsync(IList&lt; SelectListItem &gt; items, bool withSpecialDefaultItem=true, string defaultItemText=null)</div><div class="ttdoc">Prepare available vendors</div></div>
<div class="ttc" id="anamespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models_html_a2c7aec4f6e1f8a7946bd8a33c55b2d4d"><div class="ttname"><a href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a2c7aec4f6e1f8a7946bd8a33c55b2d4d">Nop.Plugin.Misc.Sendinblue.Models.Text</a></div><div class="ttdeci">string Text</div><div class="ttdef"><b>Definition:</b> SmsModel.cs:44</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a2c7aec4f6e1f8a7946bd8a33c55b2d4d">Nop.Plugin.Misc.Sendinblue.Models.Text</a> e <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#ae81f2364e2d171b827c01c1105f2be5f">Nop.Web.Areas.Admin.Models.Catalog.Value</a>.</p>

</div>
</div>
<a id="af29c71e8461247d695351ee8341bf5bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af29c71e8461247d695351ee8341bf5bc">&#9670;&nbsp;</a></span>PrepareOrderShipmentListModelAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;OrderShipmentListModel&gt; Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareOrderShipmentListModelAsync </td>
          <td>(</td>
          <td class="paramtype">OrderShipmentSearchModel&#160;</td>
          <td class="paramname"><em>searchModel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a>&#160;</td>
          <td class="paramname"><em>order</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare paged order shipment list model </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">searchModel</td><td>Order shipment search model</td></tr>
    <tr><td class="paramname">order</td><td>Order</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the order shipment list model </dd></dl>

<p>Implementa <a class="el" href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_order_model_factory.html#a147f967e7e9e7776df6ee0afeb0d31a9">Nop.Web.Areas.Admin.Factories.IOrderModelFactory</a>.</p>
<div class="fragment"><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;        {</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;            <span class="keywordflow">if</span> (searchModel == <span class="keyword">null</span>)</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(searchModel));</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160; </div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;            <span class="keywordflow">if</span> (order == <span class="keyword">null</span>)</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(order));</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160; </div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;            <span class="comment">//get shipments</span></div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;            var shipments = (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a4c7379f0c7ec0d1984366500983dd77b">_shipmentService</a>.<a class="code" href="interface_nop_1_1_services_1_1_shipping_1_1_i_shipment_service.html#a460487ad9048a7d8e53cfd6a77247ade">GetAllShipmentsAsync</a>(</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;                orderId: order.<a class="code" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Id</a>,</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;                <span class="comment">//a vendor should have access only to his products</span></div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;                vendorId: (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#af26dbef381792d0814c79993db317c3a">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a89d734829c4f453033e1051632214427">GetCurrentVendorAsync</a>())?.Id ?? 0))</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;                .<a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_reports.html#a8a0cb97a8967b57de41fd3341b795efc">OrderBy</a>(shipment =&gt; shipment.CreatedOnUtc)</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;                .ToList();</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160; </div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;            var pagedShipments = shipments.ToPagedList(searchModel);</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160; </div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;            <span class="comment">//prepare list model</span></div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;            var model = await <span class="keyword">new</span> OrderShipmentListModel().PrepareToGridAsync(searchModel, pagedShipments, () =&gt;</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;            {</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;                <span class="comment">//fill in model values from the entity</span></div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;                <span class="keywordflow">return</span> pagedShipments.SelectAwait(async shipment =&gt;</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;                {</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;                    <span class="comment">//fill in model values from the entity</span></div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;                    var shipmentModel = shipment.ToModel&lt;<a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#aa82297e05cc7a3baf68f4ccc9853ad03">ShipmentModel</a>&gt;();</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160; </div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;                    <span class="comment">//convert dates to the user time</span></div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;                    shipmentModel.ShippedDate = shipment.ShippedDateUtc.HasValue</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;                        ? (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a3f46f2e2528845d2aa2d23e4578ecafa">_dateTimeHelper</a>.<a class="code" href="interface_nop_1_1_services_1_1_helpers_1_1_i_date_time_helper.html#a1708db62bd94308eacba6e1e19372f36">ConvertToUserTimeAsync</a>(shipment.ShippedDateUtc.Value, DateTimeKind.Utc)).ToString()</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;                        : await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a9836ccb186b0a63b89a200ddda9d33a5">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;Admin.Orders.Shipments.ShippedDate.NotYet&quot;</span>);</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;                    shipmentModel.DeliveryDate = shipment.DeliveryDateUtc.HasValue</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;                        ? (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a3f46f2e2528845d2aa2d23e4578ecafa">_dateTimeHelper</a>.<a class="code" href="interface_nop_1_1_services_1_1_helpers_1_1_i_date_time_helper.html#a1708db62bd94308eacba6e1e19372f36">ConvertToUserTimeAsync</a>(shipment.DeliveryDateUtc.Value, DateTimeKind.Utc)).ToString()</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;                        : await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a9836ccb186b0a63b89a200ddda9d33a5">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;Admin.Orders.Shipments.DeliveryDate.NotYet&quot;</span>);</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160; </div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;                    <span class="comment">//fill in additional values (not existing in the entity)</span></div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;                    shipmentModel.CanShip = !shipment.ShippedDateUtc.HasValue;</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;                    shipmentModel.CanDeliver = shipment.ShippedDateUtc.HasValue &amp;&amp; !shipment.DeliveryDateUtc.HasValue;</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160; </div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;                    shipmentModel.CustomOrderNumber = order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a7061d07eef94408c40f32832cf91aafa">CustomOrderNumber</a>;</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160; </div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;                    var baseWeight = (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a4ba50b1aa5dae92524d85ed2677f8df0">_measureService</a>.<a class="code" href="interface_nop_1_1_services_1_1_directory_1_1_i_measure_service.html#a0fedcb712550fb4fd1b9639411cdea5e">GetMeasureWeightByIdAsync</a>(<a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a407290ca008ada3377b25f0c6d39b401">_measureSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_directory_1_1_measure_settings.html#acc998c1d5f0976a5131d9f29fb964f40">BaseWeightId</a>))?.<a class="code" href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a5d49a2599538bfd3f9e5333e94ca11b0">Name</a>;</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160; </div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;                    <span class="keywordflow">if</span> (shipment.TotalWeight.HasValue)</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;                        shipmentModel.TotalWeight = $<span class="stringliteral">&quot;{shipment.TotalWeight:F2} [{baseWeight}]&quot;</span>;</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160; </div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;                    <span class="keywordflow">return</span> shipmentModel;</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;                });</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;            });</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160; </div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;            <span class="keywordflow">return</span> model;</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_directory_1_1_measure_settings_html_acc998c1d5f0976a5131d9f29fb964f40"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_directory_1_1_measure_settings.html#acc998c1d5f0976a5131d9f29fb964f40">Nop.Core.Domain.Directory.MeasureSettings.BaseWeightId</a></div><div class="ttdeci">int BaseWeightId</div><div class="ttdoc">Base weight identifier</div><div class="ttdef"><b>Definition:</b> MeasureSettings.cs:18</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_directory_1_1_i_measure_service_html_a0fedcb712550fb4fd1b9639411cdea5e"><div class="ttname"><a href="interface_nop_1_1_services_1_1_directory_1_1_i_measure_service.html#a0fedcb712550fb4fd1b9639411cdea5e">Nop.Services.Directory.IMeasureService.GetMeasureWeightByIdAsync</a></div><div class="ttdeci">Task&lt; MeasureWeight &gt; GetMeasureWeightByIdAsync(int measureWeightId)</div><div class="ttdoc">Gets a measure weight by identifier</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_shipping_1_1_i_shipment_service_html_a460487ad9048a7d8e53cfd6a77247ade"><div class="ttname"><a href="interface_nop_1_1_services_1_1_shipping_1_1_i_shipment_service.html#a460487ad9048a7d8e53cfd6a77247ade">Nop.Services.Shipping.IShipmentService.GetAllShipmentsAsync</a></div><div class="ttdeci">Task&lt; IPagedList&lt; Shipment &gt; &gt; GetAllShipmentsAsync(int vendorId=0, int warehouseId=0, int shippingCountryId=0, int shippingStateId=0, string shippingCounty=null, string shippingCity=null, string trackingNumber=null, bool loadNotShipped=false, bool loadNotDelivered=false, int orderId=0, DateTime? createdFromUtc=null, DateTime? createdToUtc=null, int pageIndex=0, int pageSize=int.MaxValue)</div><div class="ttdoc">Search shipments</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders_html_aa82297e05cc7a3baf68f4ccc9853ad03"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#aa82297e05cc7a3baf68f4ccc9853ad03">Nop.Web.Areas.Admin.Models.Orders.ShipmentModel</a></div><div class="ttdeci">partial record ShipmentModel</div><div class="ttdoc">Represents a shipment model</div><div class="ttdef"><b>Definition:</b> ShipmentModel.cs:17</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_reports_html_a8a0cb97a8967b57de41fd3341b795efc"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_reports.html#a8a0cb97a8967b57de41fd3341b795efc">Nop.Web.Areas.Admin.Models.Reports.OrderBy</a></div><div class="ttdeci">OrderByEnum OrderBy</div><div class="ttdef"><b>Definition:</b> BestCustomersReportSearchModel.cs:29</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a7061d07eef94408c40f32832cf91aafa">Nop.Core.Domain.Orders.Order.CustomOrderNumber</a>, <a class="el" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Nop.Core.BaseEntity.Id</a>, <a class="el" href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a5d49a2599538bfd3f9e5333e94ca11b0">Nop.Plugin.Misc.Sendinblue.Models.Name</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_reports.html#a8a0cb97a8967b57de41fd3341b795efc">Nop.Web.Areas.Admin.Models.Reports.OrderBy</a> e <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#aa82297e05cc7a3baf68f4ccc9853ad03">Nop.Web.Areas.Admin.Models.Orders.ShipmentModel</a>.</p>

</div>
</div>
<a id="ab27f6e3bd8431dedc5ad609db2f00e94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab27f6e3bd8431dedc5ad609db2f00e94">&#9670;&nbsp;</a></span>PrepareOrderShipmentSearchModel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual OrderShipmentSearchModel Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareOrderShipmentSearchModel </td>
          <td>(</td>
          <td class="paramtype">OrderShipmentSearchModel&#160;</td>
          <td class="paramname"><em>searchModel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a>&#160;</td>
          <td class="paramname"><em>order</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare order shipment search model </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">searchModel</td><td>Order shipment search model</td></tr>
    <tr><td class="paramname">order</td><td>Order</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>Order shipment search model</dd></dl>
<div class="fragment"><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;        {</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;            <span class="keywordflow">if</span> (searchModel == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(searchModel));</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160; </div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;            <span class="keywordflow">if</span> (order == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(order));</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160; </div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;            searchModel.OrderId = order.<a class="code" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Id</a>;</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160; </div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;            <span class="comment">//prepare nested search model</span></div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#aecc34a655cd3a06d47efe4430a2cf6ed">PrepareShipmentItemSearchModel</a>(searchModel.ShipmentItemSearchModel);</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160; </div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;            <span class="comment">//prepare page parameters</span></div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;            searchModel.SetGridPageSize();</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160; </div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;            <span class="keywordflow">return</span> searchModel;</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_aecc34a655cd3a06d47efe4430a2cf6ed"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#aecc34a655cd3a06d47efe4430a2cf6ed">Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareShipmentItemSearchModel</a></div><div class="ttdeci">virtual ShipmentItemSearchModel PrepareShipmentItemSearchModel(ShipmentItemSearchModel searchModel)</div><div class="ttdoc">Prepare shipment item search model</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:824</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Nop.Core.BaseEntity.Id</a>.</p>

</div>
</div>
<a id="a5cd64f898375697c565316d6572721e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cd64f898375697c565316d6572721e6">&#9670;&nbsp;</a></span>PrepareProductAttributeModelsAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a> Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareProductAttributeModelsAsync </td>
          <td>(</td>
          <td class="paramtype">IList&lt; AddProductToOrderModel.ProductAttributeModel &gt;&#160;</td>
          <td class="paramname"><em>models</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a>&#160;</td>
          <td class="paramname"><em>order</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html">Product</a>&#160;</td>
          <td class="paramname"><em>product</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare product attribute models </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">models</td><td>List of product attribute models</td></tr>
    <tr><td class="paramname">order</td><td>Order</td></tr>
    <tr><td class="paramname">product</td><td>Product</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation</dd></dl>
<div class="fragment"><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        {</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;            <span class="keywordflow">if</span> (models == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(models));</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160; </div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;            <span class="keywordflow">if</span> (order == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(order));</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160; </div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;            <span class="keywordflow">if</span> (product == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(product));</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160; </div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;            var attributes = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ae3cbe94ff108675898369e050d4fd3e4">_productAttributeService</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_service.html#af16272e3f5c7c58336ae3eb77c2beadc">GetProductAttributeMappingsByProductIdAsync</a>(product.<a class="code" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Id</a>);</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;            <span class="keywordflow">foreach</span> (var attribute <span class="keywordflow">in</span> attributes)</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;            {</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;                var attributeModel = <span class="keyword">new</span> <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a3b1d496830a68853a9e0a34540387dd6">AddProductToOrderModel</a>.ProductAttributeModel</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;                {</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a968ff99d09af9aec2bb20d13d463c147">Id</a> = attribute.Id,</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#a874d05233dac3b756ca8d60c3e19270b">ProductAttributeId</a> = attribute.ProductAttributeId,</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;                    <a class="code" href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a5d49a2599538bfd3f9e5333e94ca11b0">Name</a> = (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ae3cbe94ff108675898369e050d4fd3e4">_productAttributeService</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_service.html#aca2595be388061949bf0eb0fccd3b6f4">GetProductAttributeByIdAsync</a>(attribute.ProductAttributeId)).<a class="code" href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a5d49a2599538bfd3f9e5333e94ca11b0">Name</a>,</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#a7dc72bf1dc64aee2d739e06cdfc83d82">TextPrompt</a> = attribute.TextPrompt,</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#af6f64ee1ba148a6d77ef51bc44ef409c">IsRequired</a> = attribute.IsRequired,</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;                    <a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_catalog.html#a6ad29624b8115f1f879a4b439d9c0826">AttributeControlType</a> = attribute.AttributeControlType,</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a362494035cf81cf6bfcfc97235d1f72b">HasCondition</a> = !<span class="keywordtype">string</span>.IsNullOrEmpty(attribute.ConditionAttributeXml)</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;                };</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;                <span class="keywordflow">if</span> (!<span class="keywordtype">string</span>.IsNullOrEmpty(attribute.ValidationFileAllowedExtensions))</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;                {</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                    attributeModel.AllowedFileExtensions = attribute.ValidationFileAllowedExtensions</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                        .Split(<span class="keyword">new</span>[] { <span class="charliteral">&#39;,&#39;</span> }, StringSplitOptions.RemoveEmptyEntries)</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                        .ToList();</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                }</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160; </div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                <span class="keywordflow">if</span> (attribute.ShouldHaveValues())</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;                {</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;                    var customer = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a3305bf0bf98804ee203caaf841dc8fec">_customerService</a>.<a class="code" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#a9d2dc587d116a6f656792c4f4cf22e09">GetCustomerByIdAsync</a>(order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#afc851a198d160f4084e1398b3b4892c3">CustomerId</a>);</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160; </div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;                    <span class="comment">//values</span></div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;                    var attributeValues = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ae3cbe94ff108675898369e050d4fd3e4">_productAttributeService</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_service.html#a0fcac52b503afa5a3d6e780d1dd57997">GetProductAttributeValuesAsync</a>(attribute.Id);</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                    <span class="keywordflow">foreach</span> (var attributeValue <span class="keywordflow">in</span> attributeValues)</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;                    {</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;                        <span class="comment">//price adjustment</span></div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;                        var (priceAdjustment, _) = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab55166dea434654c5ed7176959d19359">_taxService</a>.<a class="code" href="interface_nop_1_1_services_1_1_tax_1_1_i_tax_service.html#a3fc89fb59109314bd1358d290a8d3684">GetProductPriceAsync</a>(product,</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;                            await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#abdaac0795f3aae7f108b1714c821e2bb">_priceCalculationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_calculation_service.html#a86e0d71dc4eb1dd561f5fc2f22b619a2">GetProductAttributeValuePriceAdjustmentAsync</a>(product, attributeValue, customer));</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160; </div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;                        var priceAdjustmentStr = <span class="keywordtype">string</span>.Empty;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                        <span class="keywordflow">if</span> (priceAdjustment != 0)</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;                        {</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;                            <span class="keywordflow">if</span> (attributeValue.PriceAdjustmentUsePercentage)</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;                            {</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;                                priceAdjustmentStr = attributeValue.PriceAdjustment.ToString(<span class="stringliteral">&quot;G29&quot;</span>);</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;                                priceAdjustmentStr = priceAdjustment &gt; 0 ? $<span class="stringliteral">&quot;+{priceAdjustmentStr}%&quot;</span> : $<span class="stringliteral">&quot;{priceAdjustmentStr}%&quot;</span>;</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;                            }</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;                            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;                            {</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;                                priceAdjustmentStr = priceAdjustment &gt; 0 ? $<span class="stringliteral">&quot;+{await _priceFormatter.FormatPriceAsync(priceAdjustment, false, false)}&quot;</span> : $<span class="stringliteral">&quot;-{await _priceFormatter.FormatPriceAsync(-priceAdjustment, false, false)}&quot;</span>;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;                            }</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;                        }</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160; </div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;                        attributeModel.Values.Add(<span class="keyword">new</span> <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a3b1d496830a68853a9e0a34540387dd6">AddProductToOrderModel</a>.ProductAttributeValueModel</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;                        {</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;                            Id = attributeValue.Id,</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;                            Name = attributeValue.Name,</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;                            IsPreSelected = attributeValue.IsPreSelected,</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;                            CustomerEntersQty = attributeValue.CustomerEntersQty,</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;                            Quantity = attributeValue.Quantity,</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;                            PriceAdjustment = priceAdjustmentStr,</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;                            PriceAdjustmentValue = priceAdjustment</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;                        });</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;                    }</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;                }</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160; </div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;                models.Add(attributeModel);</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;            }</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;        }</div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_catalog_1_1_i_price_calculation_service_html_a86e0d71dc4eb1dd561f5fc2f22b619a2"><div class="ttname"><a href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_calculation_service.html#a86e0d71dc4eb1dd561f5fc2f22b619a2">Nop.Services.Catalog.IPriceCalculationService.GetProductAttributeValuePriceAdjustmentAsync</a></div><div class="ttdeci">Task&lt; decimal &gt; GetProductAttributeValuePriceAdjustmentAsync(Product product, ProductAttributeValue value, Customer customer, decimal? productPrice=null)</div><div class="ttdoc">Get a price adjustment of a product attribute value</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_service_html_a0fcac52b503afa5a3d6e780d1dd57997"><div class="ttname"><a href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_service.html#a0fcac52b503afa5a3d6e780d1dd57997">Nop.Services.Catalog.IProductAttributeService.GetProductAttributeValuesAsync</a></div><div class="ttdeci">Task&lt; IList&lt; ProductAttributeValue &gt; &gt; GetProductAttributeValuesAsync(int productAttributeMappingId)</div><div class="ttdoc">Gets product attribute values by product attribute mapping identifier</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_service_html_aca2595be388061949bf0eb0fccd3b6f4"><div class="ttname"><a href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_service.html#aca2595be388061949bf0eb0fccd3b6f4">Nop.Services.Catalog.IProductAttributeService.GetProductAttributeByIdAsync</a></div><div class="ttdeci">Task&lt; ProductAttribute &gt; GetProductAttributeByIdAsync(int productAttributeId)</div><div class="ttdoc">Gets a product attribute</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_service_html_af16272e3f5c7c58336ae3eb77c2beadc"><div class="ttname"><a href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_service.html#af16272e3f5c7c58336ae3eb77c2beadc">Nop.Services.Catalog.IProductAttributeService.GetProductAttributeMappingsByProductIdAsync</a></div><div class="ttdeci">Task&lt; IList&lt; ProductAttributeMapping &gt; &gt; GetProductAttributeMappingsByProductIdAsync(int productId)</div><div class="ttdoc">Gets product attribute mappings by product identifier</div></div>
<div class="ttc" id="anamespace_nop_1_1_core_1_1_domain_1_1_catalog_html_a6ad29624b8115f1f879a4b439d9c0826"><div class="ttname"><a href="namespace_nop_1_1_core_1_1_domain_1_1_catalog.html#a6ad29624b8115f1f879a4b439d9c0826">Nop.Core.Domain.Catalog.AttributeControlType</a></div><div class="ttdeci">AttributeControlType</div><div class="ttdoc">Represents an attribute control type</div><div class="ttdef"><b>Definition:</b> AttributeControlType.cs:7</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog_html_a7dc72bf1dc64aee2d739e06cdfc83d82"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#a7dc72bf1dc64aee2d739e06cdfc83d82">Nop.Web.Areas.Admin.Models.Catalog.TextPrompt</a></div><div class="ttdeci">string TextPrompt</div><div class="ttdef"><b>Definition:</b> ProductAttributeCombinationModel.cs:83</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog_html_a874d05233dac3b756ca8d60c3e19270b"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#a874d05233dac3b756ca8d60c3e19270b">Nop.Web.Areas.Admin.Models.Catalog.ProductAttributeId</a></div><div class="ttdeci">int ProductAttributeId</div><div class="ttdef"><b>Definition:</b> ProductAttributeCombinationModel.cs:79</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog_html_af6f64ee1ba148a6d77ef51bc44ef409c"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#af6f64ee1ba148a6d77ef51bc44ef409c">Nop.Web.Areas.Admin.Models.Catalog.IsRequired</a></div><div class="ttdeci">bool IsRequired</div><div class="ttdef"><b>Definition:</b> ProductAttributeCombinationModel.cs:85</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders_html_a362494035cf81cf6bfcfc97235d1f72b"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a362494035cf81cf6bfcfc97235d1f72b">Nop.Web.Areas.Admin.Models.Orders.HasCondition</a></div><div class="ttdeci">bool HasCondition</div><div class="ttdoc">A value indicating whether this attribute depends on some other attribute</div><div class="ttdef"><b>Definition:</b> AddProductToOrderModel.cs:60</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders_html_a3b1d496830a68853a9e0a34540387dd6"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a3b1d496830a68853a9e0a34540387dd6">Nop.Web.Areas.Admin.Models.Orders.AddProductToOrderModel</a></div><div class="ttdeci">partial record AddProductToOrderModel</div><div class="ttdoc">Represents a product model to add to the order</div><div class="ttdef"><b>Definition:</b> AddProductToOrderModel.cs:18</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a3b1d496830a68853a9e0a34540387dd6">Nop.Web.Areas.Admin.Models.Orders.AddProductToOrderModel</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a362494035cf81cf6bfcfc97235d1f72b">Nop.Web.Areas.Admin.Models.Orders.HasCondition</a>, <a class="el" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Nop.Core.BaseEntity.Id</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a968ff99d09af9aec2bb20d13d463c147">Nop.Web.Areas.Admin.Models.Orders.Id</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#af6f64ee1ba148a6d77ef51bc44ef409c">Nop.Web.Areas.Admin.Models.Catalog.IsRequired</a>, <a class="el" href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a5d49a2599538bfd3f9e5333e94ca11b0">Nop.Plugin.Misc.Sendinblue.Models.Name</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#a874d05233dac3b756ca8d60c3e19270b">Nop.Web.Areas.Admin.Models.Catalog.ProductAttributeId</a> e <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#a7dc72bf1dc64aee2d739e06cdfc83d82">Nop.Web.Areas.Admin.Models.Catalog.TextPrompt</a>.</p>

</div>
</div>
<a id="a987dc596dec9b22b18eff5967a892fac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a987dc596dec9b22b18eff5967a892fac">&#9670;&nbsp;</a></span>PrepareReturnRequestBriefModelsAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a> Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareReturnRequestBriefModelsAsync </td>
          <td>(</td>
          <td class="paramtype">IList&lt; OrderItemModel.ReturnRequestBriefModel &gt;&#160;</td>
          <td class="paramname"><em>models</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_item.html">OrderItem</a>&#160;</td>
          <td class="paramname"><em>orderItem</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare return request brief models </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">models</td><td>List of return request brief models</td></tr>
    <tr><td class="paramname">orderItem</td><td>Order item</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation</dd></dl>
<div class="fragment"><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        {</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;            <span class="keywordflow">if</span> (models == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(models));</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160; </div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;            <span class="keywordflow">if</span> (orderItem == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(orderItem));</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160; </div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;            var returnRequests = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a5cead4a2f5c5c314a4861615761a7ace">_returnRequestService</a>.<a class="code" href="interface_nop_1_1_services_1_1_orders_1_1_i_return_request_service.html#a6262cc1c5e670a800bc43283db746292">SearchReturnRequestsAsync</a>(orderItemId: orderItem.<a class="code" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Id</a>);</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;            <span class="keywordflow">foreach</span> (var returnRequest <span class="keywordflow">in</span> returnRequests)</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;            {</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                models.Add(<span class="keyword">new</span> <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a48fa2ca83f74ea1222f2477e06fc2181">OrderItemModel</a>.ReturnRequestBriefModel</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                {</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                    CustomNumber = returnRequest.CustomNumber,</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                    Id = returnRequest.Id</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                });</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;            }</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        }</div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_orders_1_1_i_return_request_service_html_a6262cc1c5e670a800bc43283db746292"><div class="ttname"><a href="interface_nop_1_1_services_1_1_orders_1_1_i_return_request_service.html#a6262cc1c5e670a800bc43283db746292">Nop.Services.Orders.IReturnRequestService.SearchReturnRequestsAsync</a></div><div class="ttdeci">Task&lt; IPagedList&lt; ReturnRequest &gt; &gt; SearchReturnRequestsAsync(int storeId=0, int customerId=0, int orderItemId=0, string customNumber=&quot;&quot;, ReturnRequestStatus? rs=null, DateTime? createdFromUtc=null, DateTime? createdToUtc=null, int pageIndex=0, int pageSize=int.MaxValue, bool getOnlyTotalCount=false)</div><div class="ttdoc">Search return requests</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a5cead4a2f5c5c314a4861615761a7ace">Nop.Web.Areas.Admin.Factories.OrderModelFactory._returnRequestService</a>, <a class="el" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Nop.Core.BaseEntity.Id</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a48fa2ca83f74ea1222f2477e06fc2181">Nop.Web.Areas.Admin.Models.Orders.OrderItemModel</a> e <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_return_request_service.html#a6262cc1c5e670a800bc43283db746292">Nop.Services.Orders.IReturnRequestService.SearchReturnRequestsAsync()</a>.</p>

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ad6b2cd579b5810d653056ee9da50dadb">Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareOrderItemModelsAsync()</a>.</p>

</div>
</div>
<a id="a84625078c562ef897dad5087fbdf1eb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84625078c562ef897dad5087fbdf1eb5">&#9670;&nbsp;</a></span>PrepareShipmentItemListModelAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;ShipmentItemListModel&gt; Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareShipmentItemListModelAsync </td>
          <td>(</td>
          <td class="paramtype">ShipmentItemSearchModel&#160;</td>
          <td class="paramname"><em>searchModel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipment.html">Shipment</a>&#160;</td>
          <td class="paramname"><em>shipment</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare paged shipment item list model </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">searchModel</td><td>Shipment item search model</td></tr>
    <tr><td class="paramname">shipment</td><td>Shipment</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the shipment item list model </dd></dl>

<p>Implementa <a class="el" href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_order_model_factory.html#ad67d372fc11a65a6c707feac9382c6a2">Nop.Web.Areas.Admin.Factories.IOrderModelFactory</a>.</p>
<div class="fragment"><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;        {</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;            <span class="keywordflow">if</span> (searchModel == <span class="keyword">null</span>)</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(searchModel));</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160; </div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;            <span class="keywordflow">if</span> (shipment == <span class="keyword">null</span>)</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(shipment));</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160; </div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;            <span class="comment">//get shipments</span></div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;            var shipmentItems = (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a4c7379f0c7ec0d1984366500983dd77b">_shipmentService</a>.<a class="code" href="interface_nop_1_1_services_1_1_shipping_1_1_i_shipment_service.html#ab6aa8c5c24fcd7f12da2c5be0aae16a1">GetShipmentItemsByShipmentIdAsync</a>(shipment.<a class="code" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Id</a>)).ToPagedList(searchModel);</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160; </div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;            <span class="comment">//prepare list model</span></div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;            var model = await <span class="keyword">new</span> ShipmentItemListModel().PrepareToGridAsync(searchModel, shipmentItems, () =&gt;</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;            {</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;                <span class="comment">//fill in model values from the entity</span></div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;                <span class="keywordflow">return</span> shipmentItems.SelectAwait(async item =&gt;</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;                {</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;                    <span class="comment">//fill in model values from the entity</span></div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;                    var shipmentItemModel = <span class="keyword">new</span> <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a4c98b0e1346158371fd87e0e33beab87">ShipmentItemModel</a></div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;                    {</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;                        <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a968ff99d09af9aec2bb20d13d463c147">Id</a> = item.Id,</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;                        <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a2dbacc3d2a537b1962602dfee35e4a26">QuantityInThisShipment</a> = item.Quantity</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;                    };</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160; </div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;                    <span class="comment">//fill in additional values (not existing in the entity)</span></div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;                    var orderItem = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#abbe64278bfe8930de878fb194ad22993">_orderService</a>.<a class="code" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_service.html#ade0375620ea9e5299cbf6b117fdc4642">GetOrderItemByIdAsync</a>(item.OrderItemId);</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_blogs.html#a4cf4e33536c481efb4671a4518aa4c4e">if</a> (orderItem == <span class="keyword">null</span>)</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;                        <span class="keywordflow">return</span> shipmentItemModel;</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160; </div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;                    var product = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6988632d04789e35ccbba9075409715d">_productService</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#ab448923cc8826840ac6cd1558a0f2a9d">GetProductByIdAsync</a>(orderItem.ProductId);</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160; </div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;                    shipmentItemModel.OrderItemId = orderItem.Id;</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;                    shipmentItemModel.ProductId = orderItem.ProductId;</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;                    shipmentItemModel.ProductName = product.Name;</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160; </div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;                    shipmentItemModel.ShippedFromWarehouse = (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a12905d9567b339e154a65c9f24db426b">_shippingService</a>.<a class="code" href="interface_nop_1_1_services_1_1_shipping_1_1_i_shipping_service.html#adc359c9356e5e53c97164a438ce4c92b">GetWarehouseByIdAsync</a>(item.WarehouseId))?.Name;</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160; </div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;                    var baseWeight = (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a4ba50b1aa5dae92524d85ed2677f8df0">_measureService</a>.<a class="code" href="interface_nop_1_1_services_1_1_directory_1_1_i_measure_service.html#a0fedcb712550fb4fd1b9639411cdea5e">GetMeasureWeightByIdAsync</a>(<a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a407290ca008ada3377b25f0c6d39b401">_measureSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_directory_1_1_measure_settings.html#acc998c1d5f0976a5131d9f29fb964f40">BaseWeightId</a>))?.Name;</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;                    var baseDimension = (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a4ba50b1aa5dae92524d85ed2677f8df0">_measureService</a>.<a class="code" href="interface_nop_1_1_services_1_1_directory_1_1_i_measure_service.html#a829b03015244652cbb0cec27dcd5b54f">GetMeasureDimensionByIdAsync</a>(<a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a407290ca008ada3377b25f0c6d39b401">_measureSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_directory_1_1_measure_settings.html#acff07c324d953dfbb4b206a96d27be77">BaseDimensionId</a>))?.Name;</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160; </div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_blogs.html#a4cf4e33536c481efb4671a4518aa4c4e">if</a> (orderItem.ItemWeight.HasValue)</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;                        shipmentItemModel.ItemWeight = $<span class="stringliteral">&quot;{orderItem.ItemWeight:F2} [{baseWeight}]&quot;</span>;</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160; </div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;                    shipmentItemModel.ItemDimensions =</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;                        $<span class="stringliteral">&quot;{product.Length:F2} x {product.Width:F2} x {product.Height:F2} [{baseDimension}]&quot;</span>;</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160; </div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;                    <span class="keywordflow">return</span> shipmentItemModel;</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;                });</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;            });</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160; </div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;            <span class="keywordflow">return</span> model;</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_directory_1_1_measure_settings_html_acff07c324d953dfbb4b206a96d27be77"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_directory_1_1_measure_settings.html#acff07c324d953dfbb4b206a96d27be77">Nop.Core.Domain.Directory.MeasureSettings.BaseDimensionId</a></div><div class="ttdeci">int BaseDimensionId</div><div class="ttdoc">Base dimension identifier</div><div class="ttdef"><b>Definition:</b> MeasureSettings.cs:13</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_directory_1_1_i_measure_service_html_a829b03015244652cbb0cec27dcd5b54f"><div class="ttname"><a href="interface_nop_1_1_services_1_1_directory_1_1_i_measure_service.html#a829b03015244652cbb0cec27dcd5b54f">Nop.Services.Directory.IMeasureService.GetMeasureDimensionByIdAsync</a></div><div class="ttdeci">Task&lt; MeasureDimension &gt; GetMeasureDimensionByIdAsync(int measureDimensionId)</div><div class="ttdoc">Gets a measure dimension by identifier</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_orders_1_1_i_order_service_html_ade0375620ea9e5299cbf6b117fdc4642"><div class="ttname"><a href="interface_nop_1_1_services_1_1_orders_1_1_i_order_service.html#ade0375620ea9e5299cbf6b117fdc4642">Nop.Services.Orders.IOrderService.GetOrderItemByIdAsync</a></div><div class="ttdeci">Task&lt; OrderItem &gt; GetOrderItemByIdAsync(int orderItemId)</div><div class="ttdoc">Gets an order item</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_shipping_1_1_i_shipment_service_html_ab6aa8c5c24fcd7f12da2c5be0aae16a1"><div class="ttname"><a href="interface_nop_1_1_services_1_1_shipping_1_1_i_shipment_service.html#ab6aa8c5c24fcd7f12da2c5be0aae16a1">Nop.Services.Shipping.IShipmentService.GetShipmentItemsByShipmentIdAsync</a></div><div class="ttdeci">Task&lt; IList&lt; ShipmentItem &gt; &gt; GetShipmentItemsByShipmentIdAsync(int shipmentId)</div><div class="ttdoc">Gets a shipment items of shipment</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_shipping_1_1_i_shipping_service_html_adc359c9356e5e53c97164a438ce4c92b"><div class="ttname"><a href="interface_nop_1_1_services_1_1_shipping_1_1_i_shipping_service.html#adc359c9356e5e53c97164a438ce4c92b">Nop.Services.Shipping.IShippingService.GetWarehouseByIdAsync</a></div><div class="ttdeci">Task&lt; Warehouse &gt; GetWarehouseByIdAsync(int warehouseId)</div><div class="ttdoc">Gets a warehouse</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders_html_a2dbacc3d2a537b1962602dfee35e4a26"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a2dbacc3d2a537b1962602dfee35e4a26">Nop.Web.Areas.Admin.Models.Orders.QuantityInThisShipment</a></div><div class="ttdeci">int QuantityInThisShipment</div><div class="ttdef"><b>Definition:</b> ShipmentItemModel.cs:50</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders_html_a4c98b0e1346158371fd87e0e33beab87"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a4c98b0e1346158371fd87e0e33beab87">Nop.Web.Areas.Admin.Models.Orders.ShipmentItemModel</a></div><div class="ttdeci">partial record ShipmentItemModel</div><div class="ttdoc">Represents a shipment item model</div><div class="ttdef"><b>Definition:</b> ShipmentItemModel.cs:16</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_models_1_1_blogs_html_a4cf4e33536c481efb4671a4518aa4c4e"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_models_1_1_blogs.html#a4cf4e33536c481efb4671a4518aa4c4e">Nop.Web.Models.Blogs.if</a></div><div class="ttdeci">if(!string.IsNullOrEmpty(Month))</div><div class="ttdef"><b>Definition:</b> BlogPagingFilteringModel.cs:13</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Nop.Core.BaseEntity.Id</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a968ff99d09af9aec2bb20d13d463c147">Nop.Web.Areas.Admin.Models.Orders.Id</a>, <a class="el" href="namespace_nop_1_1_web_1_1_models_1_1_blogs.html#a4cf4e33536c481efb4671a4518aa4c4e">Nop.Web.Models.Blogs.if()</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a2dbacc3d2a537b1962602dfee35e4a26">Nop.Web.Areas.Admin.Models.Orders.QuantityInThisShipment</a> e <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a4c98b0e1346158371fd87e0e33beab87">Nop.Web.Areas.Admin.Models.Orders.ShipmentItemModel</a>.</p>

</div>
</div>
<a id="a19ee648ce2e808717880e75edbe5d81a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19ee648ce2e808717880e75edbe5d81a">&#9670;&nbsp;</a></span>PrepareShipmentItemModelAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a> Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareShipmentItemModelAsync </td>
          <td>(</td>
          <td class="paramtype">ShipmentItemModel&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_item.html">OrderItem</a>&#160;</td>
          <td class="paramname"><em>orderItem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html">Product</a>&#160;</td>
          <td class="paramname"><em>product</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare shipment item model </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">model</td><td>Shipment item model</td></tr>
    <tr><td class="paramname">orderItem</td><td>Order item</td></tr>
    <tr><td class="paramname">product</td><td>Product item</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation</dd></dl>
<div class="fragment"><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        {</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;            <span class="keywordflow">if</span> (model == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(model));</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160; </div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;            <span class="keywordflow">if</span> (orderItem is <span class="keyword">null</span>)</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(orderItem));</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160; </div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;            <span class="keywordflow">if</span> (product is <span class="keyword">null</span>)</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(product));</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160; </div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;            <span class="keywordflow">if</span> (orderItem.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_item.html#a490467c6893ec2bfe9b507e6eb16e1d3">ProductId</a> != product.<a class="code" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Id</a>)</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentException($<span class="stringliteral">&quot;{nameof(orderItem.ProductId)} != {nameof(product.Id)}&quot;</span>);</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160; </div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;            <span class="comment">//fill in additional values (not existing in the entity)</span></div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;            model.OrderItemId = orderItem.<a class="code" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Id</a>;</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;            model.ProductId = orderItem.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_item.html#a490467c6893ec2bfe9b507e6eb16e1d3">ProductId</a>;</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;            model.ProductName = product.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a4b119ac123cf92485fb9429738f85170">Name</a>;</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;            model.Sku = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6988632d04789e35ccbba9075409715d">_productService</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#a8849542abc262326f286762f829b7ed6">FormatSkuAsync</a>(product, orderItem.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_item.html#ae72702ca9bded21804420c51ab21010f">AttributesXml</a>);</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;            model.AttributeInfo = orderItem.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_item.html#a4c4bb8d1636b96e453b3857be811207c">AttributeDescription</a>;</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;            model.ShipSeparately = product.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#aa527cb22168aaae9d1c4c518da8bfe98">ShipSeparately</a>;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;            model.QuantityOrdered = orderItem.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_item.html#aaa4e7f001eef845d717d03cafabed8c9">Quantity</a>;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;            model.QuantityInAllShipments = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#abbe64278bfe8930de878fb194ad22993">_orderService</a>.<a class="code" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_service.html#a75532f27052b89c58954d918c6a29dd4">GetTotalNumberOfItemsInAllShipmentAsync</a>(orderItem);</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;            model.QuantityToAdd = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#abbe64278bfe8930de878fb194ad22993">_orderService</a>.<a class="code" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_service.html#a958d9005b4caae3dfcd2c1e6249fca83">GetTotalNumberOfItemsCanBeAddedToShipmentAsync</a>(orderItem);</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160; </div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;            var baseWeight = (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a4ba50b1aa5dae92524d85ed2677f8df0">_measureService</a>.<a class="code" href="interface_nop_1_1_services_1_1_directory_1_1_i_measure_service.html#a0fedcb712550fb4fd1b9639411cdea5e">GetMeasureWeightByIdAsync</a>(<a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a407290ca008ada3377b25f0c6d39b401">_measureSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_directory_1_1_measure_settings.html#acc998c1d5f0976a5131d9f29fb964f40">BaseWeightId</a>))?.<a class="code" href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a5d49a2599538bfd3f9e5333e94ca11b0">Name</a>;</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;            var baseDimension = (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a4ba50b1aa5dae92524d85ed2677f8df0">_measureService</a>.<a class="code" href="interface_nop_1_1_services_1_1_directory_1_1_i_measure_service.html#a829b03015244652cbb0cec27dcd5b54f">GetMeasureDimensionByIdAsync</a>(<a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a407290ca008ada3377b25f0c6d39b401">_measureSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_directory_1_1_measure_settings.html#acff07c324d953dfbb4b206a96d27be77">BaseDimensionId</a>))?.<a class="code" href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a5d49a2599538bfd3f9e5333e94ca11b0">Name</a>;</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;            <span class="keywordflow">if</span> (orderItem.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_item.html#a54e044d50c7b313803938f440ff08656">ItemWeight</a>.HasValue)</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;                model.ItemWeight = $<span class="stringliteral">&quot;{orderItem.ItemWeight:F2} [{baseWeight}]&quot;</span>;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;            model.ItemDimensions =</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;                $<span class="stringliteral">&quot;{product.Length:F2} x {product.Width:F2} x {product.Height:F2} [{baseDimension}]&quot;</span>;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160; </div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;            <span class="keywordflow">if</span> (!product.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a561891299d6853a51615c4fdb64b33f4">IsRental</a>)</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160; </div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;            var rentalStartDate = orderItem.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_item.html#a4666572e0245b4a5084aeaa2e7081bce">RentalStartDateUtc</a>.HasValue</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;                ? <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6988632d04789e35ccbba9075409715d">_productService</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#a0e5bd0b3b0119c43e05585605162c888">FormatRentalDate</a>(product, orderItem.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_item.html#a4666572e0245b4a5084aeaa2e7081bce">RentalStartDateUtc</a>.Value) : <span class="keywordtype">string</span>.Empty;</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;            var rentalEndDate = orderItem.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_item.html#a2a034820a73f624db4ef9beb75d3daff">RentalEndDateUtc</a>.HasValue</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;                ? <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6988632d04789e35ccbba9075409715d">_productService</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#a0e5bd0b3b0119c43e05585605162c888">FormatRentalDate</a>(product, orderItem.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_item.html#a2a034820a73f624db4ef9beb75d3daff">RentalEndDateUtc</a>.Value) : <span class="keywordtype">string</span>.Empty;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;            model.RentalInfo = <span class="keywordtype">string</span>.Format(await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a9836ccb186b0a63b89a200ddda9d33a5">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;Order.Rental.FormattedDate&quot;</span>), rentalStartDate, rentalEndDate);</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product_html_aa527cb22168aaae9d1c4c518da8bfe98"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#aa527cb22168aaae9d1c4c518da8bfe98">Nop.Core.Domain.Catalog.Product.ShipSeparately</a></div><div class="ttdeci">bool ShipSeparately</div><div class="ttdoc">Gets or sets a value this product should be shipped separately (each item)</div><div class="ttdef"><b>Definition:</b> Product.cs:261</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_item_html_a2a034820a73f624db4ef9beb75d3daff"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_item.html#a2a034820a73f624db4ef9beb75d3daff">Nop.Core.Domain.Orders.OrderItem.RentalEndDateUtc</a></div><div class="ttdeci">DateTime? RentalEndDateUtc</div><div class="ttdoc">Gets or sets the rental product end date (null if it's not a rental product)</div><div class="ttdef"><b>Definition:</b> OrderItem.cs:104</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_item_html_a4666572e0245b4a5084aeaa2e7081bce"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_item.html#a4666572e0245b4a5084aeaa2e7081bce">Nop.Core.Domain.Orders.OrderItem.RentalStartDateUtc</a></div><div class="ttdeci">DateTime? RentalStartDateUtc</div><div class="ttdoc">Gets or sets the rental product start date (null if it's not a rental product)</div><div class="ttdef"><b>Definition:</b> OrderItem.cs:99</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_item_html_a490467c6893ec2bfe9b507e6eb16e1d3"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_item.html#a490467c6893ec2bfe9b507e6eb16e1d3">Nop.Core.Domain.Orders.OrderItem.ProductId</a></div><div class="ttdeci">int ProductId</div><div class="ttdoc">Gets or sets the product identifier</div><div class="ttdef"><b>Definition:</b> OrderItem.cs:23</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_item_html_a4c4bb8d1636b96e453b3857be811207c"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_item.html#a4c4bb8d1636b96e453b3857be811207c">Nop.Core.Domain.Orders.OrderItem.AttributeDescription</a></div><div class="ttdeci">string AttributeDescription</div><div class="ttdoc">Gets or sets the attribute description</div><div class="ttdef"><b>Definition:</b> OrderItem.cs:68</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_item_html_a54e044d50c7b313803938f440ff08656"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_item.html#a54e044d50c7b313803938f440ff08656">Nop.Core.Domain.Orders.OrderItem.ItemWeight</a></div><div class="ttdeci">decimal? ItemWeight</div><div class="ttdoc">Gets or sets the total weight of one item It's nullable for compatibility with the previous version o...</div><div class="ttdef"><b>Definition:</b> OrderItem.cs:94</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_item_html_aaa4e7f001eef845d717d03cafabed8c9"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_item.html#aaa4e7f001eef845d717d03cafabed8c9">Nop.Core.Domain.Orders.OrderItem.Quantity</a></div><div class="ttdeci">int Quantity</div><div class="ttdoc">Gets or sets the quantity</div><div class="ttdef"><b>Definition:</b> OrderItem.cs:28</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_item_html_ae72702ca9bded21804420c51ab21010f"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_item.html#ae72702ca9bded21804420c51ab21010f">Nop.Core.Domain.Orders.OrderItem.AttributesXml</a></div><div class="ttdeci">string AttributesXml</div><div class="ttdoc">Gets or sets the product attributes in XML format</div><div class="ttdef"><b>Definition:</b> OrderItem.cs:73</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_orders_1_1_i_order_service_html_a75532f27052b89c58954d918c6a29dd4"><div class="ttname"><a href="interface_nop_1_1_services_1_1_orders_1_1_i_order_service.html#a75532f27052b89c58954d918c6a29dd4">Nop.Services.Orders.IOrderService.GetTotalNumberOfItemsInAllShipmentAsync</a></div><div class="ttdeci">Task&lt; int &gt; GetTotalNumberOfItemsInAllShipmentAsync(OrderItem orderItem)</div><div class="ttdoc">Gets a total number of items in all shipments</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_orders_1_1_i_order_service_html_a958d9005b4caae3dfcd2c1e6249fca83"><div class="ttname"><a href="interface_nop_1_1_services_1_1_orders_1_1_i_order_service.html#a958d9005b4caae3dfcd2c1e6249fca83">Nop.Services.Orders.IOrderService.GetTotalNumberOfItemsCanBeAddedToShipmentAsync</a></div><div class="ttdeci">Task&lt; int &gt; GetTotalNumberOfItemsCanBeAddedToShipmentAsync(OrderItem orderItem)</div><div class="ttdoc">Gets a total number of already items which can be added to new shipments</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_item.html#a4c4bb8d1636b96e453b3857be811207c">Nop.Core.Domain.Orders.OrderItem.AttributeDescription</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_item.html#ae72702ca9bded21804420c51ab21010f">Nop.Core.Domain.Orders.OrderItem.AttributesXml</a>, <a class="el" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Nop.Core.BaseEntity.Id</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a561891299d6853a51615c4fdb64b33f4">Nop.Core.Domain.Catalog.Product.IsRental</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_item.html#a54e044d50c7b313803938f440ff08656">Nop.Core.Domain.Orders.OrderItem.ItemWeight</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a4b119ac123cf92485fb9429738f85170">Nop.Core.Domain.Catalog.Product.Name</a>, <a class="el" href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a5d49a2599538bfd3f9e5333e94ca11b0">Nop.Plugin.Misc.Sendinblue.Models.Name</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_item.html#a490467c6893ec2bfe9b507e6eb16e1d3">Nop.Core.Domain.Orders.OrderItem.ProductId</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_item.html#aaa4e7f001eef845d717d03cafabed8c9">Nop.Core.Domain.Orders.OrderItem.Quantity</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_item.html#a2a034820a73f624db4ef9beb75d3daff">Nop.Core.Domain.Orders.OrderItem.RentalEndDateUtc</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_item.html#a4666572e0245b4a5084aeaa2e7081bce">Nop.Core.Domain.Orders.OrderItem.RentalStartDateUtc</a> e <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#aa527cb22168aaae9d1c4c518da8bfe98">Nop.Core.Domain.Catalog.Product.ShipSeparately</a>.</p>

</div>
</div>
<a id="aecc34a655cd3a06d47efe4430a2cf6ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecc34a655cd3a06d47efe4430a2cf6ed">&#9670;&nbsp;</a></span>PrepareShipmentItemSearchModel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual ShipmentItemSearchModel Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareShipmentItemSearchModel </td>
          <td>(</td>
          <td class="paramtype">ShipmentItemSearchModel&#160;</td>
          <td class="paramname"><em>searchModel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare shipment item search model </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">searchModel</td><td>Shipment item search model</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>Shipment item search model</dd></dl>
<div class="fragment"><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;        {</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;            <span class="keywordflow">if</span> (searchModel == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(searchModel));</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160; </div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;            <span class="comment">//prepare page parameters</span></div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;            searchModel.SetGridPageSize();</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160; </div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;            <span class="keywordflow">return</span> searchModel;</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2463810292f4d49ab1e6f04812de439b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2463810292f4d49ab1e6f04812de439b">&#9670;&nbsp;</a></span>PrepareShipmentListModelAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;ShipmentListModel&gt; Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareShipmentListModelAsync </td>
          <td>(</td>
          <td class="paramtype">ShipmentSearchModel&#160;</td>
          <td class="paramname"><em>searchModel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare paged shipment list model </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">searchModel</td><td>Shipment search model</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the shipment list model </dd></dl>

<p>Implementa <a class="el" href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_order_model_factory.html#aba5ad4b3820f3e2623b1975b43cb5d23">Nop.Web.Areas.Admin.Factories.IOrderModelFactory</a>.</p>
<div class="fragment"><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;        {</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;            <span class="keywordflow">if</span> (searchModel == <span class="keyword">null</span>)</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(searchModel));</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160; </div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;            <span class="comment">//get parameters to filter shipments</span></div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;            var vendorId = (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#af26dbef381792d0814c79993db317c3a">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a89d734829c4f453033e1051632214427">GetCurrentVendorAsync</a>())?.<a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a968ff99d09af9aec2bb20d13d463c147">Id</a> ?? 0;</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;            var startDateValue = !searchModel.StartDate.HasValue ? null</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;                : (DateTime?)<a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a3f46f2e2528845d2aa2d23e4578ecafa">_dateTimeHelper</a>.<a class="code" href="interface_nop_1_1_services_1_1_helpers_1_1_i_date_time_helper.html#a39dea4b6533a9390b7abf02d1d48ab79">ConvertToUtcTime</a>(searchModel.StartDate.Value, await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a3f46f2e2528845d2aa2d23e4578ecafa">_dateTimeHelper</a>.<a class="code" href="interface_nop_1_1_services_1_1_helpers_1_1_i_date_time_helper.html#a694ea4e78b8ef139cd0f1b14312ca2ac">GetCurrentTimeZoneAsync</a>());</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;            var endDateValue = !searchModel.EndDate.HasValue ? null</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;                : (DateTime?)<a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a3f46f2e2528845d2aa2d23e4578ecafa">_dateTimeHelper</a>.<a class="code" href="interface_nop_1_1_services_1_1_helpers_1_1_i_date_time_helper.html#a39dea4b6533a9390b7abf02d1d48ab79">ConvertToUtcTime</a>(searchModel.EndDate.Value, await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a3f46f2e2528845d2aa2d23e4578ecafa">_dateTimeHelper</a>.<a class="code" href="interface_nop_1_1_services_1_1_helpers_1_1_i_date_time_helper.html#a694ea4e78b8ef139cd0f1b14312ca2ac">GetCurrentTimeZoneAsync</a>()).AddDays(1);</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160; </div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;            <span class="comment">//get shipments</span></div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;            var shipments = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a4c7379f0c7ec0d1984366500983dd77b">_shipmentService</a>.<a class="code" href="interface_nop_1_1_services_1_1_shipping_1_1_i_shipment_service.html#a460487ad9048a7d8e53cfd6a77247ade">GetAllShipmentsAsync</a>(vendorId,</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;                searchModel.WarehouseId,</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;                searchModel.CountryId,</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;                searchModel.StateProvinceId,</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;                searchModel.County,</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;                searchModel.City,</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;                searchModel.TrackingNumber,</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;                searchModel.LoadNotShipped,</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;                searchModel.LoadNotDelivered,</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;                0,</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;                startDateValue,</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;                endDateValue,</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;                searchModel.Page - 1,</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;                searchModel.PageSize);</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160; </div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;            <span class="comment">//prepare list model</span></div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;            var model = await <span class="keyword">new</span> ShipmentListModel().PrepareToGridAsync(searchModel, shipments, () =&gt;</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;            {</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;                <span class="comment">//fill in model values from the entity</span></div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;                <span class="keywordflow">return</span> shipments.SelectAwait(async shipment =&gt;</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;                {</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;                    <span class="comment">//fill in model values from the entity</span></div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;                    var shipmentModel = shipment.ToModel&lt;<a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#aa82297e05cc7a3baf68f4ccc9853ad03">ShipmentModel</a>&gt;();</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160; </div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;                    <span class="comment">//convert dates to the user time</span></div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;                    shipmentModel.ShippedDate = shipment.ShippedDateUtc.HasValue</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;                        ? (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a3f46f2e2528845d2aa2d23e4578ecafa">_dateTimeHelper</a>.<a class="code" href="interface_nop_1_1_services_1_1_helpers_1_1_i_date_time_helper.html#a1708db62bd94308eacba6e1e19372f36">ConvertToUserTimeAsync</a>(shipment.ShippedDateUtc.Value, DateTimeKind.Utc)).ToString()</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;                        : await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a9836ccb186b0a63b89a200ddda9d33a5">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;Admin.Orders.Shipments.ShippedDate.NotYet&quot;</span>);</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;                    shipmentModel.DeliveryDate = shipment.DeliveryDateUtc.HasValue</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;                        ? (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a3f46f2e2528845d2aa2d23e4578ecafa">_dateTimeHelper</a>.<a class="code" href="interface_nop_1_1_services_1_1_helpers_1_1_i_date_time_helper.html#a1708db62bd94308eacba6e1e19372f36">ConvertToUserTimeAsync</a>(shipment.DeliveryDateUtc.Value, DateTimeKind.Utc)).ToString()</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;                        : await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a9836ccb186b0a63b89a200ddda9d33a5">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;Admin.Orders.Shipments.DeliveryDate.NotYet&quot;</span>);</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160; </div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;                    <span class="comment">//fill in additional values (not existing in the entity)</span></div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;                    shipmentModel.CanShip = !shipment.ShippedDateUtc.HasValue;</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;                    shipmentModel.CanDeliver = shipment.ShippedDateUtc.HasValue &amp;&amp; !shipment.DeliveryDateUtc.HasValue;</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160; </div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;                    var order = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#abbe64278bfe8930de878fb194ad22993">_orderService</a>.<a class="code" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_service.html#a75bc6860ccdf693731b275018e462978">GetOrderByIdAsync</a>(shipment.OrderId);</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160; </div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;                    shipmentModel.CustomOrderNumber = order.CustomOrderNumber;</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160; </div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;                    <span class="keywordflow">if</span> (shipment.TotalWeight.HasValue)</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;                        shipmentModel.TotalWeight = $<span class="stringliteral">&quot;{shipment.TotalWeight:F2} [{(await _measureService.GetMeasureWeightByIdAsync(_measureSettings.BaseWeightId))?.Name}]&quot;</span>;</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160; </div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;                    <span class="keywordflow">return</span> shipmentModel;</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;                });</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;            });</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160; </div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;            <span class="keywordflow">return</span> model;</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;        }</div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_orders_1_1_i_order_service_html_a75bc6860ccdf693731b275018e462978"><div class="ttname"><a href="interface_nop_1_1_services_1_1_orders_1_1_i_order_service.html#a75bc6860ccdf693731b275018e462978">Nop.Services.Orders.IOrderService.GetOrderByIdAsync</a></div><div class="ttdeci">Task&lt; Order &gt; GetOrderByIdAsync(int orderId)</div><div class="ttdoc">Gets an order</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a968ff99d09af9aec2bb20d13d463c147">Nop.Web.Areas.Admin.Models.Orders.Id</a> e <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#aa82297e05cc7a3baf68f4ccc9853ad03">Nop.Web.Areas.Admin.Models.Orders.ShipmentModel</a>.</p>

</div>
</div>
<a id="a4175157528e8eefe810e131bc9d77158"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4175157528e8eefe810e131bc9d77158">&#9670;&nbsp;</a></span>PrepareShipmentModelAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;ShipmentModel&gt; Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareShipmentModelAsync </td>
          <td>(</td>
          <td class="paramtype">ShipmentModel&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipment.html">Shipment</a>&#160;</td>
          <td class="paramname"><em>shipment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a>&#160;</td>
          <td class="paramname"><em>order</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>excludeProperties</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare shipment model </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">model</td><td>Shipment model</td></tr>
    <tr><td class="paramname">shipment</td><td>Shipment</td></tr>
    <tr><td class="paramname">order</td><td>Order</td></tr>
    <tr><td class="paramname">excludeProperties</td><td>Whether to exclude populating of some properties of model</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the shipment model </dd></dl>

<p>Implementa <a class="el" href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_order_model_factory.html#a534e70247a36ed686501cb6e335431b6">Nop.Web.Areas.Admin.Factories.IOrderModelFactory</a>.</p>
<div class="fragment"><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;        {</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;            <span class="keywordflow">if</span> (shipment != <span class="keyword">null</span>)</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;            {</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;                <span class="comment">//fill in model values from the entity</span></div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;                model ??= shipment.ToModel&lt;<a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#aa82297e05cc7a3baf68f4ccc9853ad03">ShipmentModel</a>&gt;();</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160; </div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;                model.CanShip = !shipment.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipment.html#a5361dc61a7738d3cb3aaa07fdf3ef4b4">ShippedDateUtc</a>.HasValue;</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;                model.CanDeliver = shipment.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipment.html#a5361dc61a7738d3cb3aaa07fdf3ef4b4">ShippedDateUtc</a>.HasValue &amp;&amp; !shipment.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipment.html#a0d8629d85d8fd6bb139504d1442d042a">DeliveryDateUtc</a>.HasValue;</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160; </div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;                var shipmentOrder = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#abbe64278bfe8930de878fb194ad22993">_orderService</a>.<a class="code" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_service.html#a75bc6860ccdf693731b275018e462978">GetOrderByIdAsync</a>(shipment.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipment.html#a8939e34989422aa12467f5a807a91e40">OrderId</a>);</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160; </div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;                model.CustomOrderNumber = shipmentOrder.CustomOrderNumber;</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160; </div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;                model.ShippedDate = shipment.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipment.html#a5361dc61a7738d3cb3aaa07fdf3ef4b4">ShippedDateUtc</a>.HasValue</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;                    ? (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a3f46f2e2528845d2aa2d23e4578ecafa">_dateTimeHelper</a>.<a class="code" href="interface_nop_1_1_services_1_1_helpers_1_1_i_date_time_helper.html#a1708db62bd94308eacba6e1e19372f36">ConvertToUserTimeAsync</a>(shipment.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipment.html#a5361dc61a7738d3cb3aaa07fdf3ef4b4">ShippedDateUtc</a>.Value, DateTimeKind.Utc)).ToString()</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;                    : await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a9836ccb186b0a63b89a200ddda9d33a5">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;Admin.Orders.Shipments.ShippedDate.NotYet&quot;</span>);</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;                model.DeliveryDate = shipment.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipment.html#a0d8629d85d8fd6bb139504d1442d042a">DeliveryDateUtc</a>.HasValue</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;                    ? (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a3f46f2e2528845d2aa2d23e4578ecafa">_dateTimeHelper</a>.<a class="code" href="interface_nop_1_1_services_1_1_helpers_1_1_i_date_time_helper.html#a1708db62bd94308eacba6e1e19372f36">ConvertToUserTimeAsync</a>(shipment.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipment.html#a0d8629d85d8fd6bb139504d1442d042a">DeliveryDateUtc</a>.Value, DateTimeKind.Utc)).ToString()</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;                    : await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a9836ccb186b0a63b89a200ddda9d33a5">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;Admin.Orders.Shipments.DeliveryDate.NotYet&quot;</span>);</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160; </div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;                <span class="keywordflow">if</span> (shipment.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipment.html#aae31492c842aa562c9dadc6bd5f332d8">TotalWeight</a>.HasValue)</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;                    model.TotalWeight =</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;                        $<span class="stringliteral">&quot;{shipment.TotalWeight:F2} [{(await _measureService.GetMeasureWeightByIdAsync(_measureSettings.BaseWeightId))?.Name}]&quot;</span>;</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160; </div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;                <span class="comment">//prepare shipment items</span></div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;                <span class="keywordflow">foreach</span> (var item <span class="keywordflow">in</span> await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a4c7379f0c7ec0d1984366500983dd77b">_shipmentService</a>.<a class="code" href="interface_nop_1_1_services_1_1_shipping_1_1_i_shipment_service.html#ab6aa8c5c24fcd7f12da2c5be0aae16a1">GetShipmentItemsByShipmentIdAsync</a>(shipment.<a class="code" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Id</a>))</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;                {</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;                    var orderItem = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#abbe64278bfe8930de878fb194ad22993">_orderService</a>.<a class="code" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_service.html#ade0375620ea9e5299cbf6b117fdc4642">GetOrderItemByIdAsync</a>(item.OrderItemId);</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;                    <span class="keywordflow">if</span> (orderItem == <span class="keyword">null</span>)</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160; </div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;                    var product = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6988632d04789e35ccbba9075409715d">_productService</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#ab448923cc8826840ac6cd1558a0f2a9d">GetProductByIdAsync</a>(orderItem.ProductId);</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160; </div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;                    <span class="comment">//fill in model values from the entity</span></div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;                    var shipmentItemModel = <span class="keyword">new</span> <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a4c98b0e1346158371fd87e0e33beab87">ShipmentItemModel</a></div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;                    {</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;                        <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a968ff99d09af9aec2bb20d13d463c147">Id</a> = item.Id,</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;                        <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a2dbacc3d2a537b1962602dfee35e4a26">QuantityInThisShipment</a> = item.Quantity,</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;                        <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a3983edeb991317833fcdaf04ab7db394">ShippedFromWarehouse</a> = (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a12905d9567b339e154a65c9f24db426b">_shippingService</a>.<a class="code" href="interface_nop_1_1_services_1_1_shipping_1_1_i_shipping_service.html#adc359c9356e5e53c97164a438ce4c92b">GetWarehouseByIdAsync</a>(item.WarehouseId))?.<a class="code" href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a5d49a2599538bfd3f9e5333e94ca11b0">Name</a></div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;                    };</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160; </div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;                    await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a19ee648ce2e808717880e75edbe5d81a">PrepareShipmentItemModelAsync</a>(shipmentItemModel, orderItem, product);</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160; </div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;                    model.Items.Add(shipmentItemModel);</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;                }</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160; </div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;                <span class="comment">//prepare shipment events</span></div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;                <span class="keywordflow">if</span> (!<span class="keywordtype">string</span>.IsNullOrEmpty(shipment.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipment.html#ac3fb0db0a3bbfb448b556265971d9c7a">TrackingNumber</a>))</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;                {</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;                    var shipmentTracker = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a4c7379f0c7ec0d1984366500983dd77b">_shipmentService</a>.<a class="code" href="interface_nop_1_1_services_1_1_shipping_1_1_i_shipment_service.html#a04bf44da0746cc3abc92f715982d411b">GetShipmentTrackerAsync</a>(shipment);</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;                    <span class="keywordflow">if</span> (shipmentTracker != <span class="keyword">null</span>)</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;                    {</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;                        model.TrackingNumberUrl = await shipmentTracker.GetUrlAsync(shipment.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipment.html#ac3fb0db0a3bbfb448b556265971d9c7a">TrackingNumber</a>);</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab5e4e8aa9178bbb26b4e452000404e91">_shippingSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipping_settings.html#aedcfae1f0bc7d25a72a1c021bc2a6d51">DisplayShipmentEventsToStoreOwner</a>)</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;                            await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a1c180bacb5b37eb62266ae20d6cb04d5">PrepareShipmentStatusEventModelsAsync</a>(model.ShipmentStatusEvents, shipment);</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;                    }</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;                }</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;            }</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160; </div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;            <span class="keywordflow">if</span> (shipment != <span class="keyword">null</span>)</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;                <span class="keywordflow">return</span> model;</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160; </div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;            model.OrderId = order.<a class="code" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Id</a>;</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;            model.CustomOrderNumber = order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a7061d07eef94408c40f32832cf91aafa">CustomOrderNumber</a>;</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160; </div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;            var orderItems = (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#abbe64278bfe8930de878fb194ad22993">_orderService</a>.<a class="code" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_service.html#aea8bd5179d4144f1fd3da8d17a761de2">GetOrderItemsAsync</a>(order.<a class="code" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Id</a>, isShipEnabled: <span class="keyword">true</span>, vendorId: (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#af26dbef381792d0814c79993db317c3a">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a89d734829c4f453033e1051632214427">GetCurrentVendorAsync</a>())?.Id ?? 0)).ToList();</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160; </div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;            <span class="keywordflow">foreach</span> (var orderItem <span class="keywordflow">in</span> orderItems)</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;            {</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;                var shipmentItemModel = <span class="keyword">new</span> <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a4c98b0e1346158371fd87e0e33beab87">ShipmentItemModel</a>();</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160; </div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;                var product = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6988632d04789e35ccbba9075409715d">_productService</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#ab448923cc8826840ac6cd1558a0f2a9d">GetProductByIdAsync</a>(orderItem.ProductId);</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160; </div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;                await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a19ee648ce2e808717880e75edbe5d81a">PrepareShipmentItemModelAsync</a>(shipmentItemModel, orderItem, product);</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160; </div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;                <span class="comment">//ensure that this product can be added to a shipment</span></div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;                <span class="keywordflow">if</span> (shipmentItemModel.QuantityToAdd &lt;= 0)</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160; </div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;                <span class="keywordflow">if</span> (product.ManageInventoryMethod == <a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_catalog.html#ab1fde09c00052d9bf8d761db52b57d09">ManageInventoryMethod</a>.ManageStock &amp;&amp;</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;                    product.UseMultipleWarehouses)</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;                {</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;                    <span class="comment">//multiple warehouses supported</span></div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;                    shipmentItemModel.AllowToChooseWarehouse = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;                    <span class="keywordflow">foreach</span> (var pwi <span class="keywordflow">in</span> (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6988632d04789e35ccbba9075409715d">_productService</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#ac8e1f3f5088a4a3aeb26f32dbf704eaf">GetAllProductWarehouseInventoryRecordsAsync</a>(orderItem.ProductId)).OrderBy(w =&gt; w.WarehouseId).ToList())</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;                    {</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;                        <span class="keywordflow">if</span> (await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6988632d04789e35ccbba9075409715d">_productService</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#a4ac55513f71941702718f5075394a657">GetWarehousesByIdAsync</a>(pwi.WarehouseId) is <a class="code" href="class_nop_1_1_core_1_1_domain_1_1_shipping_1_1_warehouse.html">Warehouse</a> warehouse)</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;                        {</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;                            shipmentItemModel.AvailableWarehouses.Add(<span class="keyword">new</span> <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a4c98b0e1346158371fd87e0e33beab87">ShipmentItemModel</a>.WarehouseInfo</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;                            {</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;                                WarehouseId = warehouse.Id,</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;                                WarehouseName = warehouse.Name,</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;                                StockQuantity = pwi.StockQuantity,</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;                                ReservedQuantity = pwi.ReservedQuantity,</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;                                PlannedQuantity =</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;                                    await _shipmentService.GetQuantityInShipmentsAsync(product, warehouse.Id, true, true)</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;                            });</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;                        }</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;                    }</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;                }</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;                {</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;                    <span class="comment">//multiple warehouses are not supported</span></div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;                    var warehouse = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a12905d9567b339e154a65c9f24db426b">_shippingService</a>.<a class="code" href="interface_nop_1_1_services_1_1_shipping_1_1_i_shipping_service.html#adc359c9356e5e53c97164a438ce4c92b">GetWarehouseByIdAsync</a>(product.WarehouseId);</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;                    <span class="keywordflow">if</span> (warehouse != <span class="keyword">null</span>)</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;                    {</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;                        shipmentItemModel.AvailableWarehouses.Add(<span class="keyword">new</span> <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a4c98b0e1346158371fd87e0e33beab87">ShipmentItemModel</a>.WarehouseInfo</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;                        {</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;                            WarehouseId = warehouse.Id,</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;                            WarehouseName = warehouse.Name,</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;                            StockQuantity = product.StockQuantity</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;                        });</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;                    }</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;                }</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160; </div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;                model.Items.Add(shipmentItemModel);</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;            }</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160; </div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;            <span class="keywordflow">return</span> model;</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipment_html_a0d8629d85d8fd6bb139504d1442d042a"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipment.html#a0d8629d85d8fd6bb139504d1442d042a">Nop.Core.Domain.Shipping.Shipment.DeliveryDateUtc</a></div><div class="ttdeci">DateTime? DeliveryDateUtc</div><div class="ttdoc">Gets or sets the delivery date and time</div><div class="ttdef"><b>Definition:</b> Shipment.cs:34</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipment_html_a5361dc61a7738d3cb3aaa07fdf3ef4b4"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipment.html#a5361dc61a7738d3cb3aaa07fdf3ef4b4">Nop.Core.Domain.Shipping.Shipment.ShippedDateUtc</a></div><div class="ttdeci">DateTime? ShippedDateUtc</div><div class="ttdoc">Gets or sets the shipped date and time</div><div class="ttdef"><b>Definition:</b> Shipment.cs:29</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipment_html_a8939e34989422aa12467f5a807a91e40"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipment.html#a8939e34989422aa12467f5a807a91e40">Nop.Core.Domain.Shipping.Shipment.OrderId</a></div><div class="ttdeci">int OrderId</div><div class="ttdoc">Gets or sets the order identifier</div><div class="ttdef"><b>Definition:</b> Shipment.cs:13</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipment_html_aae31492c842aa562c9dadc6bd5f332d8"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipment.html#aae31492c842aa562c9dadc6bd5f332d8">Nop.Core.Domain.Shipping.Shipment.TotalWeight</a></div><div class="ttdeci">decimal? TotalWeight</div><div class="ttdoc">Gets or sets the total weight of this shipment It's nullable for compatibility with the previous vers...</div><div class="ttdef"><b>Definition:</b> Shipment.cs:24</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipment_html_ac3fb0db0a3bbfb448b556265971d9c7a"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipment.html#ac3fb0db0a3bbfb448b556265971d9c7a">Nop.Core.Domain.Shipping.Shipment.TrackingNumber</a></div><div class="ttdeci">string TrackingNumber</div><div class="ttdoc">Gets or sets the tracking number of this shipment</div><div class="ttdef"><b>Definition:</b> Shipment.cs:18</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipping_settings_html_aedcfae1f0bc7d25a72a1c021bc2a6d51"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipping_settings.html#aedcfae1f0bc7d25a72a1c021bc2a6d51">Nop.Core.Domain.Shipping.ShippingSettings.DisplayShipmentEventsToStoreOwner</a></div><div class="ttdeci">bool DisplayShipmentEventsToStoreOwner</div><div class="ttdoc">A value indicating whether store owner should see shipment events on the shipment details pages</div><div class="ttdef"><b>Definition:</b> ShippingSettings.cs:102</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_shipping_1_1_warehouse_html"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_shipping_1_1_warehouse.html">Nop.Core.Domain.Shipping.Warehouse</a></div><div class="ttdoc">Represents a shipment</div><div class="ttdef"><b>Definition:</b> Warehouse.cs:7</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_a19ee648ce2e808717880e75edbe5d81a"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a19ee648ce2e808717880e75edbe5d81a">Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareShipmentItemModelAsync</a></div><div class="ttdeci">virtual async Task PrepareShipmentItemModelAsync(ShipmentItemModel model, OrderItem orderItem, Product product)</div><div class="ttdoc">Prepare shipment item model</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:721</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory_html_a1c180bacb5b37eb62266ae20d6cb04d5"><div class="ttname"><a href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a1c180bacb5b37eb62266ae20d6cb04d5">Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareShipmentStatusEventModelsAsync</a></div><div class="ttdeci">virtual async Task PrepareShipmentStatusEventModelsAsync(IList&lt; ShipmentStatusEventModel &gt; models, Shipment shipment)</div><div class="ttdoc">Prepare shipment status event models</div><div class="ttdef"><b>Definition:</b> OrderModelFactory.cs:769</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_catalog_1_1_i_product_service_html_a4ac55513f71941702718f5075394a657"><div class="ttname"><a href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#a4ac55513f71941702718f5075394a657">Nop.Services.Catalog.IProductService.GetWarehousesByIdAsync</a></div><div class="ttdeci">Task&lt; Warehouse &gt; GetWarehousesByIdAsync(int warehouseId)</div><div class="ttdoc">Gets a warehouse by identifier</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_catalog_1_1_i_product_service_html_ac8e1f3f5088a4a3aeb26f32dbf704eaf"><div class="ttname"><a href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#ac8e1f3f5088a4a3aeb26f32dbf704eaf">Nop.Services.Catalog.IProductService.GetAllProductWarehouseInventoryRecordsAsync</a></div><div class="ttdeci">Task&lt; IList&lt; ProductWarehouseInventory &gt; &gt; GetAllProductWarehouseInventoryRecordsAsync(int productId)</div><div class="ttdoc">Get a product warehouse-inventory records by product identifier</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_shipping_1_1_i_shipment_service_html_a04bf44da0746cc3abc92f715982d411b"><div class="ttname"><a href="interface_nop_1_1_services_1_1_shipping_1_1_i_shipment_service.html#a04bf44da0746cc3abc92f715982d411b">Nop.Services.Shipping.IShipmentService.GetShipmentTrackerAsync</a></div><div class="ttdeci">Task&lt; IShipmentTracker &gt; GetShipmentTrackerAsync(Shipment shipment)</div><div class="ttdoc">Get the tracker of the shipment</div></div>
<div class="ttc" id="anamespace_nop_1_1_core_1_1_domain_1_1_catalog_html_ab1fde09c00052d9bf8d761db52b57d09"><div class="ttname"><a href="namespace_nop_1_1_core_1_1_domain_1_1_catalog.html#ab1fde09c00052d9bf8d761db52b57d09">Nop.Core.Domain.Catalog.ManageInventoryMethod</a></div><div class="ttdeci">ManageInventoryMethod</div><div class="ttdoc">Represents a method of inventory management</div><div class="ttdef"><b>Definition:</b> ManageInventoryMethod.cs:7</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders_html_a3983edeb991317833fcdaf04ab7db394"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a3983edeb991317833fcdaf04ab7db394">Nop.Web.Areas.Admin.Models.Orders.ShippedFromWarehouse</a></div><div class="ttdeci">string ShippedFromWarehouse</div><div class="ttdef"><b>Definition:</b> ShipmentItemModel.cs:55</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a7061d07eef94408c40f32832cf91aafa">Nop.Core.Domain.Orders.Order.CustomOrderNumber</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipment.html#a0d8629d85d8fd6bb139504d1442d042a">Nop.Core.Domain.Shipping.Shipment.DeliveryDateUtc</a>, <a class="el" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Nop.Core.BaseEntity.Id</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a968ff99d09af9aec2bb20d13d463c147">Nop.Web.Areas.Admin.Models.Orders.Id</a>, <a class="el" href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a5d49a2599538bfd3f9e5333e94ca11b0">Nop.Plugin.Misc.Sendinblue.Models.Name</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipment.html#a8939e34989422aa12467f5a807a91e40">Nop.Core.Domain.Shipping.Shipment.OrderId</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a2dbacc3d2a537b1962602dfee35e4a26">Nop.Web.Areas.Admin.Models.Orders.QuantityInThisShipment</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a4c98b0e1346158371fd87e0e33beab87">Nop.Web.Areas.Admin.Models.Orders.ShipmentItemModel</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#aa82297e05cc7a3baf68f4ccc9853ad03">Nop.Web.Areas.Admin.Models.Orders.ShipmentModel</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipment.html#a5361dc61a7738d3cb3aaa07fdf3ef4b4">Nop.Core.Domain.Shipping.Shipment.ShippedDateUtc</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a3983edeb991317833fcdaf04ab7db394">Nop.Web.Areas.Admin.Models.Orders.ShippedFromWarehouse</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipment.html#aae31492c842aa562c9dadc6bd5f332d8">Nop.Core.Domain.Shipping.Shipment.TotalWeight</a> e <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipment.html#ac3fb0db0a3bbfb448b556265971d9c7a">Nop.Core.Domain.Shipping.Shipment.TrackingNumber</a>.</p>

</div>
</div>
<a id="af08d19963ff2006617d824e3c6350df9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af08d19963ff2006617d824e3c6350df9">&#9670;&nbsp;</a></span>PrepareShipmentSearchModelAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;ShipmentSearchModel&gt; Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareShipmentSearchModelAsync </td>
          <td>(</td>
          <td class="paramtype">ShipmentSearchModel&#160;</td>
          <td class="paramname"><em>searchModel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare shipment search model </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">searchModel</td><td>Shipment search model</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the shipment search model </dd></dl>

<p>Implementa <a class="el" href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_order_model_factory.html#a3f2969b8710e22fec1964c421c3c10ac">Nop.Web.Areas.Admin.Factories.IOrderModelFactory</a>.</p>
<div class="fragment"><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;        {</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;            <span class="keywordflow">if</span> (searchModel == <span class="keyword">null</span>)</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(searchModel));</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160; </div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;            <span class="comment">//prepare available countries</span></div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;            await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6232ea2a7557eacfc3f1570ede36753e">_baseAdminModelFactory</a>.<a class="code" href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_base_admin_model_factory.html#a3b3d07157e0980a24bb8c50c01ee21e7">PrepareCountriesAsync</a>(searchModel.AvailableCountries);</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160; </div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;            <span class="comment">//prepare available states and provinces</span></div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;            await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6232ea2a7557eacfc3f1570ede36753e">_baseAdminModelFactory</a>.<a class="code" href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_base_admin_model_factory.html#a6fd09694dcb71055fc02d00dbf379142">PrepareStatesAndProvincesAsync</a>(searchModel.AvailableStates, searchModel.CountryId);</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160; </div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;            <span class="comment">//prepare available warehouses</span></div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;            await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a6232ea2a7557eacfc3f1570ede36753e">_baseAdminModelFactory</a>.<a class="code" href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_base_admin_model_factory.html#a53f2335b965b8c1f42024da907152b1f">PrepareWarehousesAsync</a>(searchModel.AvailableWarehouses);</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160; </div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;            <span class="comment">//prepare nested search model</span></div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#aecc34a655cd3a06d47efe4430a2cf6ed">PrepareShipmentItemSearchModel</a>(searchModel.ShipmentItemSearchModel);</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160; </div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;            <span class="comment">//prepare page parameters</span></div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;            searchModel.SetGridPageSize();</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160; </div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;            <span class="keywordflow">return</span> searchModel;</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;        }</div>
<div class="ttc" id="ainterface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_base_admin_model_factory_html_a3b3d07157e0980a24bb8c50c01ee21e7"><div class="ttname"><a href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_base_admin_model_factory.html#a3b3d07157e0980a24bb8c50c01ee21e7">Nop.Web.Areas.Admin.Factories.IBaseAdminModelFactory.PrepareCountriesAsync</a></div><div class="ttdeci">Task PrepareCountriesAsync(IList&lt; SelectListItem &gt; items, bool withSpecialDefaultItem=true, string defaultItemText=null)</div><div class="ttdoc">Prepare available countries</div></div>
<div class="ttc" id="ainterface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_base_admin_model_factory_html_a6fd09694dcb71055fc02d00dbf379142"><div class="ttname"><a href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_base_admin_model_factory.html#a6fd09694dcb71055fc02d00dbf379142">Nop.Web.Areas.Admin.Factories.IBaseAdminModelFactory.PrepareStatesAndProvincesAsync</a></div><div class="ttdeci">Task PrepareStatesAndProvincesAsync(IList&lt; SelectListItem &gt; items, int? countryId, bool withSpecialDefaultItem=true, string defaultItemText=null)</div><div class="ttdoc">Prepare available states and provinces</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1c180bacb5b37eb62266ae20d6cb04d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c180bacb5b37eb62266ae20d6cb04d5">&#9670;&nbsp;</a></span>PrepareShipmentStatusEventModelsAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a> Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareShipmentStatusEventModelsAsync </td>
          <td>(</td>
          <td class="paramtype">IList&lt; ShipmentStatusEventModel &gt;&#160;</td>
          <td class="paramname"><em>models</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipment.html">Shipment</a>&#160;</td>
          <td class="paramname"><em>shipment</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare shipment status event models </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">models</td><td>List of shipment status event models</td></tr>
    <tr><td class="paramname">shipment</td><td>Shipment</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation</dd></dl>
<div class="fragment"><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;        {</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;            <span class="keywordflow">if</span> (models == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(models));</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160; </div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;            var shipmentTracker = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a4c7379f0c7ec0d1984366500983dd77b">_shipmentService</a>.<a class="code" href="interface_nop_1_1_services_1_1_shipping_1_1_i_shipment_service.html#a04bf44da0746cc3abc92f715982d411b">GetShipmentTrackerAsync</a>(shipment);</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;            var shipmentEvents = await shipmentTracker.GetShipmentEventsAsync(shipment.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipment.html#ac3fb0db0a3bbfb448b556265971d9c7a">TrackingNumber</a>);</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;            <span class="keywordflow">if</span> (shipmentEvents == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160; </div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;            <span class="keywordflow">foreach</span> (var shipmentEvent <span class="keywordflow">in</span> shipmentEvents)</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;            {</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;                var shipmentStatusEventModel = <span class="keyword">new</span> <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#ad6cf3164fbf84e9794bcdbd65eb8c7f9">ShipmentStatusEventModel</a></div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;                {</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#ab39809479dc13c2fcbb80999ed61f12e">Date</a> = shipmentEvent.Date,</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;                    <a class="code" href="namespace_nop_1_1_plugin_1_1_widgets_1_1_facebook_pixel_1_1_models.html#ab1546dff789e189ddc6ad53d48e04a99">EventName</a> = shipmentEvent.EventName,</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_common.html#a01510787aaeee1015c5adf8f0e0396b3">Location</a> = shipmentEvent.Location</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                };</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;                var shipmentEventCountry = await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ae615982a6467b18f4a33b2a5b4efbde4">_countryService</a>.<a class="code" href="interface_nop_1_1_services_1_1_directory_1_1_i_country_service.html#ab210ec12fa25e8566e7996696322acfd">GetCountryByTwoLetterIsoCodeAsync</a>(shipmentEvent.CountryCode);</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;                shipmentStatusEventModel.Country = shipmentEventCountry != <span class="keyword">null</span></div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;                    ? await <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a9836ccb186b0a63b89a200ddda9d33a5">_localizationService</a>.GetLocalizedAsync(shipmentEventCountry, x =&gt; x.Name) : shipmentEvent.CountryCode;</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;                models.Add(shipmentStatusEventModel);</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;            }</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;        }</div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_directory_1_1_i_country_service_html_ab210ec12fa25e8566e7996696322acfd"><div class="ttname"><a href="interface_nop_1_1_services_1_1_directory_1_1_i_country_service.html#ab210ec12fa25e8566e7996696322acfd">Nop.Services.Directory.ICountryService.GetCountryByTwoLetterIsoCodeAsync</a></div><div class="ttdeci">Task&lt; Country &gt; GetCountryByTwoLetterIsoCodeAsync(string twoLetterIsoCode)</div><div class="ttdoc">Gets a country by two letter ISO code</div></div>
<div class="ttc" id="anamespace_nop_1_1_plugin_1_1_widgets_1_1_facebook_pixel_1_1_models_html_ab1546dff789e189ddc6ad53d48e04a99"><div class="ttname"><a href="namespace_nop_1_1_plugin_1_1_widgets_1_1_facebook_pixel_1_1_models.html#ab1546dff789e189ddc6ad53d48e04a99">Nop.Plugin.Widgets.FacebookPixel.Models.EventName</a></div><div class="ttdeci">string EventName</div><div class="ttdef"><b>Definition:</b> CustomEventModel.cs:29</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_common_html_a01510787aaeee1015c5adf8f0e0396b3"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_common.html#a01510787aaeee1015c5adf8f0e0396b3">Nop.Web.Areas.Admin.Models.Common.Location</a></div><div class="ttdeci">string Location</div><div class="ttdef"><b>Definition:</b> SystemInfoModel.cs:64</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders_html_ab39809479dc13c2fcbb80999ed61f12e"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#ab39809479dc13c2fcbb80999ed61f12e">Nop.Web.Areas.Admin.Models.Orders.Date</a></div><div class="ttdeci">DateTime? Date</div><div class="ttdef"><b>Definition:</b> ShipmentEventModel.cs:19</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders_html_ad6cf3164fbf84e9794bcdbd65eb8c7f9"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#ad6cf3164fbf84e9794bcdbd65eb8c7f9">Nop.Web.Areas.Admin.Models.Orders.ShipmentStatusEventModel</a></div><div class="ttdeci">partial record ShipmentStatusEventModel</div><div class="ttdoc">Represents a shipment event model</div><div class="ttdef"><b>Definition:</b> ShipmentEventModel.cs:13</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#ab39809479dc13c2fcbb80999ed61f12e">Nop.Web.Areas.Admin.Models.Orders.Date</a>, <a class="el" href="namespace_nop_1_1_plugin_1_1_widgets_1_1_facebook_pixel_1_1_models.html#ab1546dff789e189ddc6ad53d48e04a99">Nop.Plugin.Widgets.FacebookPixel.Models.EventName</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_common.html#a01510787aaeee1015c5adf8f0e0396b3">Nop.Web.Areas.Admin.Models.Common.Location</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#ad6cf3164fbf84e9794bcdbd65eb8c7f9">Nop.Web.Areas.Admin.Models.Orders.ShipmentStatusEventModel</a> e <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipment.html#ac3fb0db0a3bbfb448b556265971d9c7a">Nop.Core.Domain.Shipping.Shipment.TrackingNumber</a>.</p>

</div>
</div>
<a id="a483ae387e346d45071a3674b5a390511"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a483ae387e346d45071a3674b5a390511">&#9670;&nbsp;</a></span>PrepareUploadLicenseModelAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;UploadLicenseModel&gt; Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareUploadLicenseModelAsync </td>
          <td>(</td>
          <td class="paramtype">UploadLicenseModel&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a>&#160;</td>
          <td class="paramname"><em>order</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_item.html">OrderItem</a>&#160;</td>
          <td class="paramname"><em>orderItem</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare upload license model </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">model</td><td>Upload license model</td></tr>
    <tr><td class="paramname">order</td><td>Order</td></tr>
    <tr><td class="paramname">orderItem</td><td>Order item</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the upload license model </dd></dl>

<p>Implementa <a class="el" href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_order_model_factory.html#afd5bd0fc77d3eb57f997c23b95602e4d">Nop.Web.Areas.Admin.Factories.IOrderModelFactory</a>.</p>
<div class="fragment"><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;        {</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;            <span class="keywordflow">if</span> (model == <span class="keyword">null</span>)</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(model));</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160; </div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;            <span class="keywordflow">if</span> (order == <span class="keyword">null</span>)</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(order));</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160; </div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;            <span class="keywordflow">if</span> (orderItem == <span class="keyword">null</span>)</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(orderItem));</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160; </div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;            model.LicenseDownloadId = orderItem.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_item.html#aa62216f616e676908017966cee56116c">LicenseDownloadId</a> ?? 0;</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;            model.OrderId = order.<a class="code" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Id</a>;</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;            model.OrderItemId = orderItem.<a class="code" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Id</a>;</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160; </div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>.FromResult(model);</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_item_html_aa62216f616e676908017966cee56116c"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_item.html#aa62216f616e676908017966cee56116c">Nop.Core.Domain.Orders.OrderItem.LicenseDownloadId</a></div><div class="ttdeci">int? LicenseDownloadId</div><div class="ttdoc">Gets or sets a license download identifier (in case this is a downloadable product)</div><div class="ttdef"><b>Definition:</b> OrderItem.cs:88</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Nop.Core.BaseEntity.Id</a> e <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_item.html#aa62216f616e676908017966cee56116c">Nop.Core.Domain.Orders.OrderItem.LicenseDownloadId</a>.</p>

</div>
</div>
<a id="a9a0c897a0bc0f788c3ce243d773ef8cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a0c897a0bc0f788c3ce243d773ef8cd">&#9670;&nbsp;</a></span>SetAddressFieldsAsRequired()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Nop.Web.Areas.Admin.Factories.OrderModelFactory.SetAddressFieldsAsRequired </td>
          <td>(</td>
          <td class="paramtype">AddressModel&#160;</td>
          <td class="paramname"><em>model</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set some address fields as required </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">model</td><td>Address model</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        {</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;            model.FirstNameRequired = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;            model.LastNameRequired = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            model.EmailRequired = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;            model.CompanyRequired = <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a2011570edf3ae45c34f6e652fee681b3">_addressSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address_settings.html#a51d32542c13b3722582f984f5f04bdba">CompanyRequired</a>;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;            model.CountyRequired = <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a2011570edf3ae45c34f6e652fee681b3">_addressSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address_settings.html#aa24da98b5b4550cda3bd8cad5ce94f79">CountyRequired</a>;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;            model.CityRequired = <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a2011570edf3ae45c34f6e652fee681b3">_addressSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address_settings.html#a93f0c85f73526a1f3b65202b87613c79">CityRequired</a>;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;            model.StreetAddressRequired = <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a2011570edf3ae45c34f6e652fee681b3">_addressSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address_settings.html#a39570046aad52a4f2ba4db717dc1997f">StreetAddressRequired</a>;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            model.StreetAddress2Required = <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a2011570edf3ae45c34f6e652fee681b3">_addressSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address_settings.html#ab7629b35afe6d1d5dddf41a0c18e3bfa">StreetAddress2Required</a>;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            model.ZipPostalCodeRequired = <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a2011570edf3ae45c34f6e652fee681b3">_addressSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address_settings.html#acfdad46767c8a6dd4c16faf31602674f">ZipPostalCodeRequired</a>;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            model.PhoneRequired = <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a2011570edf3ae45c34f6e652fee681b3">_addressSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address_settings.html#a9181937a2dd4a95d71bc1cca115902d1">PhoneRequired</a>;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            model.FaxRequired = <a class="code" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a2011570edf3ae45c34f6e652fee681b3">_addressSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address_settings.html#aad24295bb480c20af399aa3d2535dfbd">FaxRequired</a>;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_common_1_1_address_settings_html_a39570046aad52a4f2ba4db717dc1997f"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address_settings.html#a39570046aad52a4f2ba4db717dc1997f">Nop.Core.Domain.Common.AddressSettings.StreetAddressRequired</a></div><div class="ttdeci">bool StreetAddressRequired</div><div class="ttdoc">Gets or sets a value indicating whether 'Street address' is required</div><div class="ttdef"><b>Definition:</b> AddressSettings.cs:28</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_common_1_1_address_settings_html_a51d32542c13b3722582f984f5f04bdba"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address_settings.html#a51d32542c13b3722582f984f5f04bdba">Nop.Core.Domain.Common.AddressSettings.CompanyRequired</a></div><div class="ttdeci">bool CompanyRequired</div><div class="ttdoc">Gets or sets a value indicating whether 'Company' is required</div><div class="ttdef"><b>Definition:</b> AddressSettings.cs:18</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_common_1_1_address_settings_html_a9181937a2dd4a95d71bc1cca115902d1"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address_settings.html#a9181937a2dd4a95d71bc1cca115902d1">Nop.Core.Domain.Common.AddressSettings.PhoneRequired</a></div><div class="ttdeci">bool PhoneRequired</div><div class="ttdoc">Gets or sets a value indicating whether 'Phone number' is required</div><div class="ttdef"><b>Definition:</b> AddressSettings.cs:88</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_common_1_1_address_settings_html_a93f0c85f73526a1f3b65202b87613c79"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address_settings.html#a93f0c85f73526a1f3b65202b87613c79">Nop.Core.Domain.Common.AddressSettings.CityRequired</a></div><div class="ttdeci">bool CityRequired</div><div class="ttdoc">Gets or sets a value indicating whether 'City' is required</div><div class="ttdef"><b>Definition:</b> AddressSettings.cs:58</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_common_1_1_address_settings_html_aa24da98b5b4550cda3bd8cad5ce94f79"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address_settings.html#aa24da98b5b4550cda3bd8cad5ce94f79">Nop.Core.Domain.Common.AddressSettings.CountyRequired</a></div><div class="ttdeci">bool CountyRequired</div><div class="ttdoc">Gets or sets a value indicating whether 'County' is required</div><div class="ttdef"><b>Definition:</b> AddressSettings.cs:68</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_common_1_1_address_settings_html_aad24295bb480c20af399aa3d2535dfbd"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address_settings.html#aad24295bb480c20af399aa3d2535dfbd">Nop.Core.Domain.Common.AddressSettings.FaxRequired</a></div><div class="ttdeci">bool FaxRequired</div><div class="ttdoc">Gets or sets a value indicating whether 'Fax number' is required</div><div class="ttdef"><b>Definition:</b> AddressSettings.cs:98</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_common_1_1_address_settings_html_ab7629b35afe6d1d5dddf41a0c18e3bfa"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address_settings.html#ab7629b35afe6d1d5dddf41a0c18e3bfa">Nop.Core.Domain.Common.AddressSettings.StreetAddress2Required</a></div><div class="ttdeci">bool StreetAddress2Required</div><div class="ttdoc">Gets or sets a value indicating whether 'Street address 2' is required</div><div class="ttdef"><b>Definition:</b> AddressSettings.cs:38</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_common_1_1_address_settings_html_acfdad46767c8a6dd4c16faf31602674f"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address_settings.html#acfdad46767c8a6dd4c16faf31602674f">Nop.Core.Domain.Common.AddressSettings.ZipPostalCodeRequired</a></div><div class="ttdeci">bool ZipPostalCodeRequired</div><div class="ttdoc">Gets or sets a value indicating whether 'Zip / postal code' is required</div><div class="ttdef"><b>Definition:</b> AddressSettings.cs:48</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a2011570edf3ae45c34f6e652fee681b3">Nop.Web.Areas.Admin.Factories.OrderModelFactory._addressSettings</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address_settings.html#a93f0c85f73526a1f3b65202b87613c79">Nop.Core.Domain.Common.AddressSettings.CityRequired</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address_settings.html#a51d32542c13b3722582f984f5f04bdba">Nop.Core.Domain.Common.AddressSettings.CompanyRequired</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address_settings.html#aa24da98b5b4550cda3bd8cad5ce94f79">Nop.Core.Domain.Common.AddressSettings.CountyRequired</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address_settings.html#aad24295bb480c20af399aa3d2535dfbd">Nop.Core.Domain.Common.AddressSettings.FaxRequired</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address_settings.html#a9181937a2dd4a95d71bc1cca115902d1">Nop.Core.Domain.Common.AddressSettings.PhoneRequired</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address_settings.html#ab7629b35afe6d1d5dddf41a0c18e3bfa">Nop.Core.Domain.Common.AddressSettings.StreetAddress2Required</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address_settings.html#a39570046aad52a4f2ba4db717dc1997f">Nop.Core.Domain.Common.AddressSettings.StreetAddressRequired</a> e <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address_settings.html#acfdad46767c8a6dd4c16faf31602674f">Nop.Core.Domain.Common.AddressSettings.ZipPostalCodeRequired</a>.</p>

</div>
</div>
<h2 class="groupheader">Documentação dos dados membro</h2>
<a id="ae2b6e65145fe864ce8fccebd933b2c2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2b6e65145fe864ce8fccebd933b2c2d">&#9670;&nbsp;</a></span>_actionContextAccessor</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly IActionContextAccessor Nop.Web.Areas.Admin.Factories.OrderModelFactory._actionContextAccessor</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a25d4a15bc897049e67257709254e3a03">Nop.Web.Areas.Admin.Factories.OrderModelFactory.OrderModelFactory()</a>.</p>

</div>
</div>
<a id="af7b14d9158a4e15d939905847464614b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7b14d9158a4e15d939905847464614b">&#9670;&nbsp;</a></span>_addressModelFactory</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_address_model_factory.html">IAddressModelFactory</a> Nop.Web.Areas.Admin.Factories.OrderModelFactory._addressModelFactory</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a25d4a15bc897049e67257709254e3a03">Nop.Web.Areas.Admin.Factories.OrderModelFactory.OrderModelFactory()</a>.</p>

</div>
</div>
<a id="aacde7cf726f871bd66f342fc4017c364"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aacde7cf726f871bd66f342fc4017c364">&#9670;&nbsp;</a></span>_addressService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_common_1_1_i_address_service.html">IAddressService</a> Nop.Web.Areas.Admin.Factories.OrderModelFactory._addressService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a25d4a15bc897049e67257709254e3a03">Nop.Web.Areas.Admin.Factories.OrderModelFactory.OrderModelFactory()</a>.</p>

</div>
</div>
<a id="a2011570edf3ae45c34f6e652fee681b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2011570edf3ae45c34f6e652fee681b3">&#9670;&nbsp;</a></span>_addressSettings</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address_settings.html">AddressSettings</a> Nop.Web.Areas.Admin.Factories.OrderModelFactory._addressSettings</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a25d4a15bc897049e67257709254e3a03">Nop.Web.Areas.Admin.Factories.OrderModelFactory.OrderModelFactory()</a> e <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a9a0c897a0bc0f788c3ce243d773ef8cd">Nop.Web.Areas.Admin.Factories.OrderModelFactory.SetAddressFieldsAsRequired()</a>.</p>

</div>
</div>
<a id="ad4e6087a4745d5c050a546fc25455bec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4e6087a4745d5c050a546fc25455bec">&#9670;&nbsp;</a></span>_affiliateService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_affiliates_1_1_i_affiliate_service.html">IAffiliateService</a> Nop.Web.Areas.Admin.Factories.OrderModelFactory._affiliateService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a25d4a15bc897049e67257709254e3a03">Nop.Web.Areas.Admin.Factories.OrderModelFactory.OrderModelFactory()</a>.</p>

</div>
</div>
<a id="a6232ea2a7557eacfc3f1570ede36753e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6232ea2a7557eacfc3f1570ede36753e">&#9670;&nbsp;</a></span>_baseAdminModelFactory</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_i_base_admin_model_factory.html">IBaseAdminModelFactory</a> Nop.Web.Areas.Admin.Factories.OrderModelFactory._baseAdminModelFactory</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a25d4a15bc897049e67257709254e3a03">Nop.Web.Areas.Admin.Factories.OrderModelFactory.OrderModelFactory()</a>.</p>

</div>
</div>
<a id="a97ad9d1cd65429e39c7432234c60348f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97ad9d1cd65429e39c7432234c60348f">&#9670;&nbsp;</a></span>_catalogSettings</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_catalog_settings.html">CatalogSettings</a> Nop.Web.Areas.Admin.Factories.OrderModelFactory._catalogSettings</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a25d4a15bc897049e67257709254e3a03">Nop.Web.Areas.Admin.Factories.OrderModelFactory.OrderModelFactory()</a>.</p>

</div>
</div>
<a id="ae615982a6467b18f4a33b2a5b4efbde4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae615982a6467b18f4a33b2a5b4efbde4">&#9670;&nbsp;</a></span>_countryService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_directory_1_1_i_country_service.html">ICountryService</a> Nop.Web.Areas.Admin.Factories.OrderModelFactory._countryService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a25d4a15bc897049e67257709254e3a03">Nop.Web.Areas.Admin.Factories.OrderModelFactory.OrderModelFactory()</a>.</p>

</div>
</div>
<a id="a2fb6ff7cb0522e3273c278d248f573ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fb6ff7cb0522e3273c278d248f573ca">&#9670;&nbsp;</a></span>_currencyService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_directory_1_1_i_currency_service.html">ICurrencyService</a> Nop.Web.Areas.Admin.Factories.OrderModelFactory._currencyService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a25d4a15bc897049e67257709254e3a03">Nop.Web.Areas.Admin.Factories.OrderModelFactory.OrderModelFactory()</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ad6b2cd579b5810d653056ee9da50dadb">Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareOrderItemModelsAsync()</a> e <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab2e3cdb66c60f86192382d4178495b12">Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareOrderModelTotalsAsync()</a>.</p>

</div>
</div>
<a id="a430244906e5403b6ec592b8d92033b5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a430244906e5403b6ec592b8d92033b5e">&#9670;&nbsp;</a></span>_currencySettings</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_directory_1_1_currency_settings.html">CurrencySettings</a> Nop.Web.Areas.Admin.Factories.OrderModelFactory._currencySettings</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a25d4a15bc897049e67257709254e3a03">Nop.Web.Areas.Admin.Factories.OrderModelFactory.OrderModelFactory()</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ad6b2cd579b5810d653056ee9da50dadb">Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareOrderItemModelsAsync()</a> e <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab2e3cdb66c60f86192382d4178495b12">Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareOrderModelTotalsAsync()</a>.</p>

</div>
</div>
<a id="a3305bf0bf98804ee203caaf841dc8fec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3305bf0bf98804ee203caaf841dc8fec">&#9670;&nbsp;</a></span>_customerService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html">ICustomerService</a> Nop.Web.Areas.Admin.Factories.OrderModelFactory._customerService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a25d4a15bc897049e67257709254e3a03">Nop.Web.Areas.Admin.Factories.OrderModelFactory.OrderModelFactory()</a>.</p>

</div>
</div>
<a id="a3f46f2e2528845d2aa2d23e4578ecafa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f46f2e2528845d2aa2d23e4578ecafa">&#9670;&nbsp;</a></span>_dateTimeHelper</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_helpers_1_1_i_date_time_helper.html">IDateTimeHelper</a> Nop.Web.Areas.Admin.Factories.OrderModelFactory._dateTimeHelper</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a25d4a15bc897049e67257709254e3a03">Nop.Web.Areas.Admin.Factories.OrderModelFactory.OrderModelFactory()</a>.</p>

</div>
</div>
<a id="a6a632a10b2d07c1bf4f2054d6c66b5ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a632a10b2d07c1bf4f2054d6c66b5ac">&#9670;&nbsp;</a></span>_discountService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_discounts_1_1_i_discount_service.html">IDiscountService</a> Nop.Web.Areas.Admin.Factories.OrderModelFactory._discountService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a25d4a15bc897049e67257709254e3a03">Nop.Web.Areas.Admin.Factories.OrderModelFactory.OrderModelFactory()</a>.</p>

</div>
</div>
<a id="a169bde984d85bb22570777f279998831"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a169bde984d85bb22570777f279998831">&#9670;&nbsp;</a></span>_downloadService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_media_1_1_i_download_service.html">IDownloadService</a> Nop.Web.Areas.Admin.Factories.OrderModelFactory._downloadService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a25d4a15bc897049e67257709254e3a03">Nop.Web.Areas.Admin.Factories.OrderModelFactory.OrderModelFactory()</a> e <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ad6b2cd579b5810d653056ee9da50dadb">Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareOrderItemModelsAsync()</a>.</p>

</div>
</div>
<a id="aa7894db3160e0861e87e2d3d1c5f49d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7894db3160e0861e87e2d3d1c5f49d8">&#9670;&nbsp;</a></span>_encryptionService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_security_1_1_i_encryption_service.html">IEncryptionService</a> Nop.Web.Areas.Admin.Factories.OrderModelFactory._encryptionService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a25d4a15bc897049e67257709254e3a03">Nop.Web.Areas.Admin.Factories.OrderModelFactory.OrderModelFactory()</a>.</p>

</div>
</div>
<a id="a7eabf838c0e8539109bd577349171443"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7eabf838c0e8539109bd577349171443">&#9670;&nbsp;</a></span>_giftCardService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_gift_card_service.html">IGiftCardService</a> Nop.Web.Areas.Admin.Factories.OrderModelFactory._giftCardService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a25d4a15bc897049e67257709254e3a03">Nop.Web.Areas.Admin.Factories.OrderModelFactory.OrderModelFactory()</a> e <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ad6b2cd579b5810d653056ee9da50dadb">Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareOrderItemModelsAsync()</a>.</p>

</div>
</div>
<a id="a9836ccb186b0a63b89a200ddda9d33a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9836ccb186b0a63b89a200ddda9d33a5">&#9670;&nbsp;</a></span>_localizationService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html">ILocalizationService</a> Nop.Web.Areas.Admin.Factories.OrderModelFactory._localizationService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a25d4a15bc897049e67257709254e3a03">Nop.Web.Areas.Admin.Factories.OrderModelFactory.OrderModelFactory()</a> e <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ad6b2cd579b5810d653056ee9da50dadb">Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareOrderItemModelsAsync()</a>.</p>

</div>
</div>
<a id="a4ba50b1aa5dae92524d85ed2677f8df0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ba50b1aa5dae92524d85ed2677f8df0">&#9670;&nbsp;</a></span>_measureService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_directory_1_1_i_measure_service.html">IMeasureService</a> Nop.Web.Areas.Admin.Factories.OrderModelFactory._measureService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a25d4a15bc897049e67257709254e3a03">Nop.Web.Areas.Admin.Factories.OrderModelFactory.OrderModelFactory()</a>.</p>

</div>
</div>
<a id="a407290ca008ada3377b25f0c6d39b401"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a407290ca008ada3377b25f0c6d39b401">&#9670;&nbsp;</a></span>_measureSettings</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_directory_1_1_measure_settings.html">MeasureSettings</a> Nop.Web.Areas.Admin.Factories.OrderModelFactory._measureSettings</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a25d4a15bc897049e67257709254e3a03">Nop.Web.Areas.Admin.Factories.OrderModelFactory.OrderModelFactory()</a>.</p>

</div>
</div>
<a id="a902e9073fdca3fe7c0525ce292c20e86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a902e9073fdca3fe7c0525ce292c20e86">&#9670;&nbsp;</a></span>_orderProcessingService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_processing_service.html">IOrderProcessingService</a> Nop.Web.Areas.Admin.Factories.OrderModelFactory._orderProcessingService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a25d4a15bc897049e67257709254e3a03">Nop.Web.Areas.Admin.Factories.OrderModelFactory.OrderModelFactory()</a>.</p>

</div>
</div>
<a id="a4ed906aaccb7f008ed5d9c511da89b53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ed906aaccb7f008ed5d9c511da89b53">&#9670;&nbsp;</a></span>_orderReportService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_report_service.html">IOrderReportService</a> Nop.Web.Areas.Admin.Factories.OrderModelFactory._orderReportService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a25d4a15bc897049e67257709254e3a03">Nop.Web.Areas.Admin.Factories.OrderModelFactory.OrderModelFactory()</a>.</p>

</div>
</div>
<a id="abbe64278bfe8930de878fb194ad22993"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbe64278bfe8930de878fb194ad22993">&#9670;&nbsp;</a></span>_orderService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_service.html">IOrderService</a> Nop.Web.Areas.Admin.Factories.OrderModelFactory._orderService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a25d4a15bc897049e67257709254e3a03">Nop.Web.Areas.Admin.Factories.OrderModelFactory.OrderModelFactory()</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ad6b2cd579b5810d653056ee9da50dadb">Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareOrderItemModelsAsync()</a> e <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab2e3cdb66c60f86192382d4178495b12">Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareOrderModelTotalsAsync()</a>.</p>

</div>
</div>
<a id="ab6682882a532cbb79a2a0a81b88e546f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6682882a532cbb79a2a0a81b88e546f">&#9670;&nbsp;</a></span>_orderSettings</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_settings.html">OrderSettings</a> Nop.Web.Areas.Admin.Factories.OrderModelFactory._orderSettings</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a25d4a15bc897049e67257709254e3a03">Nop.Web.Areas.Admin.Factories.OrderModelFactory.OrderModelFactory()</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ad6b2cd579b5810d653056ee9da50dadb">Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareOrderItemModelsAsync()</a> e <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab2e3cdb66c60f86192382d4178495b12">Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareOrderModelTotalsAsync()</a>.</p>

</div>
</div>
<a id="a1084c4344b2534317c4f2eecb03573e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1084c4344b2534317c4f2eecb03573e0">&#9670;&nbsp;</a></span>_paymentPluginManager</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_payments_1_1_i_payment_plugin_manager.html">IPaymentPluginManager</a> Nop.Web.Areas.Admin.Factories.OrderModelFactory._paymentPluginManager</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a25d4a15bc897049e67257709254e3a03">Nop.Web.Areas.Admin.Factories.OrderModelFactory.OrderModelFactory()</a>.</p>

</div>
</div>
<a id="a1bac9a1717c949ee3435857de31de38b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bac9a1717c949ee3435857de31de38b">&#9670;&nbsp;</a></span>_paymentService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_payments_1_1_i_payment_service.html">IPaymentService</a> Nop.Web.Areas.Admin.Factories.OrderModelFactory._paymentService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a25d4a15bc897049e67257709254e3a03">Nop.Web.Areas.Admin.Factories.OrderModelFactory.OrderModelFactory()</a>.</p>

</div>
</div>
<a id="adff9d3582886576d13035a47fe38d4aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adff9d3582886576d13035a47fe38d4aa">&#9670;&nbsp;</a></span>_pictureService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_media_1_1_i_picture_service.html">IPictureService</a> Nop.Web.Areas.Admin.Factories.OrderModelFactory._pictureService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a25d4a15bc897049e67257709254e3a03">Nop.Web.Areas.Admin.Factories.OrderModelFactory.OrderModelFactory()</a> e <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ad6b2cd579b5810d653056ee9da50dadb">Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareOrderItemModelsAsync()</a>.</p>

</div>
</div>
<a id="abdaac0795f3aae7f108b1714c821e2bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdaac0795f3aae7f108b1714c821e2bb">&#9670;&nbsp;</a></span>_priceCalculationService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_calculation_service.html">IPriceCalculationService</a> Nop.Web.Areas.Admin.Factories.OrderModelFactory._priceCalculationService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a25d4a15bc897049e67257709254e3a03">Nop.Web.Areas.Admin.Factories.OrderModelFactory.OrderModelFactory()</a>.</p>

</div>
</div>
<a id="a6da91fcb0904bc0fc0fd72ce11ac9f51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6da91fcb0904bc0fc0fd72ce11ac9f51">&#9670;&nbsp;</a></span>_priceFormatter</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html">IPriceFormatter</a> Nop.Web.Areas.Admin.Factories.OrderModelFactory._priceFormatter</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a25d4a15bc897049e67257709254e3a03">Nop.Web.Areas.Admin.Factories.OrderModelFactory.OrderModelFactory()</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ad6b2cd579b5810d653056ee9da50dadb">Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareOrderItemModelsAsync()</a> e <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab2e3cdb66c60f86192382d4178495b12">Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareOrderModelTotalsAsync()</a>.</p>

</div>
</div>
<a id="ae3cbe94ff108675898369e050d4fd3e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3cbe94ff108675898369e050d4fd3e4">&#9670;&nbsp;</a></span>_productAttributeService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_service.html">IProductAttributeService</a> Nop.Web.Areas.Admin.Factories.OrderModelFactory._productAttributeService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a25d4a15bc897049e67257709254e3a03">Nop.Web.Areas.Admin.Factories.OrderModelFactory.OrderModelFactory()</a>.</p>

</div>
</div>
<a id="a6988632d04789e35ccbba9075409715d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6988632d04789e35ccbba9075409715d">&#9670;&nbsp;</a></span>_productService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html">IProductService</a> Nop.Web.Areas.Admin.Factories.OrderModelFactory._productService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a25d4a15bc897049e67257709254e3a03">Nop.Web.Areas.Admin.Factories.OrderModelFactory.OrderModelFactory()</a> e <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ad6b2cd579b5810d653056ee9da50dadb">Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareOrderItemModelsAsync()</a>.</p>

</div>
</div>
<a id="a5cead4a2f5c5c314a4861615761a7ace"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cead4a2f5c5c314a4861615761a7ace">&#9670;&nbsp;</a></span>_returnRequestService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_return_request_service.html">IReturnRequestService</a> Nop.Web.Areas.Admin.Factories.OrderModelFactory._returnRequestService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a25d4a15bc897049e67257709254e3a03">Nop.Web.Areas.Admin.Factories.OrderModelFactory.OrderModelFactory()</a> e <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a987dc596dec9b22b18eff5967a892fac">Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareReturnRequestBriefModelsAsync()</a>.</p>

</div>
</div>
<a id="aa507067ff470196a42e29e3139702ad1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa507067ff470196a42e29e3139702ad1">&#9670;&nbsp;</a></span>_rewardPointService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_reward_point_service.html">IRewardPointService</a> Nop.Web.Areas.Admin.Factories.OrderModelFactory._rewardPointService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a25d4a15bc897049e67257709254e3a03">Nop.Web.Areas.Admin.Factories.OrderModelFactory.OrderModelFactory()</a>.</p>

</div>
</div>
<a id="a4c7379f0c7ec0d1984366500983dd77b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c7379f0c7ec0d1984366500983dd77b">&#9670;&nbsp;</a></span>_shipmentService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_shipping_1_1_i_shipment_service.html">IShipmentService</a> Nop.Web.Areas.Admin.Factories.OrderModelFactory._shipmentService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a25d4a15bc897049e67257709254e3a03">Nop.Web.Areas.Admin.Factories.OrderModelFactory.OrderModelFactory()</a>.</p>

</div>
</div>
<a id="a12905d9567b339e154a65c9f24db426b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12905d9567b339e154a65c9f24db426b">&#9670;&nbsp;</a></span>_shippingService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_shipping_1_1_i_shipping_service.html">IShippingService</a> Nop.Web.Areas.Admin.Factories.OrderModelFactory._shippingService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a25d4a15bc897049e67257709254e3a03">Nop.Web.Areas.Admin.Factories.OrderModelFactory.OrderModelFactory()</a>.</p>

</div>
</div>
<a id="ab5e4e8aa9178bbb26b4e452000404e91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5e4e8aa9178bbb26b4e452000404e91">&#9670;&nbsp;</a></span>_shippingSettings</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipping_settings.html">ShippingSettings</a> Nop.Web.Areas.Admin.Factories.OrderModelFactory._shippingSettings</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a25d4a15bc897049e67257709254e3a03">Nop.Web.Areas.Admin.Factories.OrderModelFactory.OrderModelFactory()</a>.</p>

</div>
</div>
<a id="a17f2ab16bbb673cb5e722b7071e6df40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17f2ab16bbb673cb5e722b7071e6df40">&#9670;&nbsp;</a></span>_stateProvinceService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_directory_1_1_i_state_province_service.html">IStateProvinceService</a> Nop.Web.Areas.Admin.Factories.OrderModelFactory._stateProvinceService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a25d4a15bc897049e67257709254e3a03">Nop.Web.Areas.Admin.Factories.OrderModelFactory.OrderModelFactory()</a>.</p>

</div>
</div>
<a id="adcd9a53131ac96de5e10beaad0e71e38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcd9a53131ac96de5e10beaad0e71e38">&#9670;&nbsp;</a></span>_storeService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_stores_1_1_i_store_service.html">IStoreService</a> Nop.Web.Areas.Admin.Factories.OrderModelFactory._storeService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a25d4a15bc897049e67257709254e3a03">Nop.Web.Areas.Admin.Factories.OrderModelFactory.OrderModelFactory()</a>.</p>

</div>
</div>
<a id="ab55166dea434654c5ed7176959d19359"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab55166dea434654c5ed7176959d19359">&#9670;&nbsp;</a></span>_taxService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_tax_1_1_i_tax_service.html">ITaxService</a> Nop.Web.Areas.Admin.Factories.OrderModelFactory._taxService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a25d4a15bc897049e67257709254e3a03">Nop.Web.Areas.Admin.Factories.OrderModelFactory.OrderModelFactory()</a>.</p>

</div>
</div>
<a id="a758c226f21c8cec5d74cc3d61dea9c78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a758c226f21c8cec5d74cc3d61dea9c78">&#9670;&nbsp;</a></span>_taxSettings</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html">TaxSettings</a> Nop.Web.Areas.Admin.Factories.OrderModelFactory._taxSettings</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a25d4a15bc897049e67257709254e3a03">Nop.Web.Areas.Admin.Factories.OrderModelFactory.OrderModelFactory()</a> e <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab2e3cdb66c60f86192382d4178495b12">Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareOrderModelTotalsAsync()</a>.</p>

</div>
</div>
<a id="a8fe8feeb97200eafa72410f14a66dbf4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fe8feeb97200eafa72410f14a66dbf4">&#9670;&nbsp;</a></span>_urlHelperFactory</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly IUrlHelperFactory Nop.Web.Areas.Admin.Factories.OrderModelFactory._urlHelperFactory</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a25d4a15bc897049e67257709254e3a03">Nop.Web.Areas.Admin.Factories.OrderModelFactory.OrderModelFactory()</a>.</p>

</div>
</div>
<a id="a5e78ec84e9ca28a075939d3fb7782002"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e78ec84e9ca28a075939d3fb7782002">&#9670;&nbsp;</a></span>_urlRecordService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_seo_1_1_i_url_record_service.html">IUrlRecordService</a> Nop.Web.Areas.Admin.Factories.OrderModelFactory._urlRecordService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a25d4a15bc897049e67257709254e3a03">Nop.Web.Areas.Admin.Factories.OrderModelFactory.OrderModelFactory()</a>.</p>

</div>
</div>
<a id="a84d08a964af828096c8fe9a930504c34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84d08a964af828096c8fe9a930504c34">&#9670;&nbsp;</a></span>_vendorService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_vendors_1_1_i_vendor_service.html">IVendorService</a> Nop.Web.Areas.Admin.Factories.OrderModelFactory._vendorService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a25d4a15bc897049e67257709254e3a03">Nop.Web.Areas.Admin.Factories.OrderModelFactory.OrderModelFactory()</a> e <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ad6b2cd579b5810d653056ee9da50dadb">Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareOrderItemModelsAsync()</a>.</p>

</div>
</div>
<a id="af26dbef381792d0814c79993db317c3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af26dbef381792d0814c79993db317c3a">&#9670;&nbsp;</a></span>_workContext</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_core_1_1_i_work_context.html">IWorkContext</a> Nop.Web.Areas.Admin.Factories.OrderModelFactory._workContext</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#a25d4a15bc897049e67257709254e3a03">Nop.Web.Areas.Admin.Factories.OrderModelFactory.OrderModelFactory()</a>, <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ad6b2cd579b5810d653056ee9da50dadb">Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareOrderItemModelsAsync()</a> e <a class="el" href="class_nop_1_1_web_1_1_areas_1_1_admin_1_1_factories_1_1_order_model_factory.html#ab2e3cdb66c60f86192382d4178495b12">Nop.Web.Areas.Admin.Factories.OrderModelFactory.PrepareOrderModelTotalsAsync()</a>.</p>

</div>
</div>
<hr/>A documentação para esta classe foi gerada a partir do seguinte ficheiro:<ul>
<li>C:/Users/gabri/Documents/Projetos/GitHub/Estudos/Nopcommercer plugin/nopCommerce_4.40.3_Source - Copia/src/Presentation/Nop.Web/Areas/Admin/Factories/<a class="el" href="_areas_2_admin_2_factories_2_order_model_factory_8cs.html">OrderModelFactory.cs</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Gerado por&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
