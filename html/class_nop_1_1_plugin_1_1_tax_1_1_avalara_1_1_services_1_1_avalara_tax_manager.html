<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NopCommerce 4.40: Referência à classe Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="download.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NopCommerce 4.40
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Gerado por Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Localizar','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Localizar');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_nop.html">Nop</a></li><li class="navelem"><a class="el" href="namespace_nop_1_1_plugin.html">Plugin</a></li><li class="navelem"><a class="el" href="namespace_nop_1_1_plugin_1_1_tax.html">Tax</a></li><li class="navelem"><a class="el" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara.html">Avalara</a></li><li class="navelem"><a class="el" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services.html">Services</a></li><li class="navelem"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html">AvalaraTaxManager</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Membros públicos</a> &#124;
<a href="#pro-methods">Membros protegidos</a> &#124;
<a href="#properties">Propriedades</a> &#124;
<a href="#pri-methods">Membros privados</a> &#124;
<a href="#pri-attribs">Atributos Privados</a> &#124;
<a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager-members.html">Mostrar lista completa dos membros</a>  </div>
  <div class="headertitle">
<div class="title">Referência à classe Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager</div>  </div>
</div><!--header-->
<div class="contents">

<p>Represents the manager that operates with requests to the <a class="el" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara.html">Avalara</a> services  
 <a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#details">Mais...</a></p>
<div class="dynheader">
Diagrama de heranças da classe Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.png" alt=""/>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Membros públicos</h2></td></tr>
<tr class="memitem:ad5ef245dc365646e78d846f0cccdfab3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ad5ef245dc365646e78d846f0cccdfab3">AvalaraTaxManager</a> (<a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings.html">AvalaraTaxSettings</a> avalaraTaxSettings, IActionContextAccessor actionContextAccessor, <a class="el" href="interface_nop_1_1_services_1_1_common_1_1_i_address_service.html">IAddressService</a> addressService, <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_checkout_attribute_parser.html">ICheckoutAttributeParser</a> checkoutAttributeParser, <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_checkout_attribute_service.html">ICheckoutAttributeService</a> checkoutAttributeService, <a class="el" href="interface_nop_1_1_services_1_1_directory_1_1_i_country_service.html">ICountryService</a> countryService, <a class="el" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html">ICustomerService</a> customerService, <a class="el" href="interface_nop_1_1_services_1_1_common_1_1_i_generic_attribute_service.html">IGenericAttributeService</a> genericAttributeService, <a class="el" href="interface_nop_1_1_services_1_1_directory_1_1_i_geo_lookup_service.html">IGeoLookupService</a> geoLookupService, <a class="el" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html">ILocalizationService</a> localizationService, <a class="el" href="interface_nop_1_1_services_1_1_logging_1_1_i_logger.html">ILogger</a> logger, <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_service.html">IOrderService</a> orderService, <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_total_calculation_service.html">IOrderTotalCalculationService</a> orderTotalCalculationService, <a class="el" href="interface_nop_1_1_services_1_1_payments_1_1_i_payment_service.html">IPaymentService</a> paymentService, <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_service.html">IProductAttributeService</a> productAttributeService, <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html">IProductService</a> productService, <a class="el" href="interface_nop_1_1_data_1_1_i_repository.html">IRepository</a>&lt; <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_generic_attribute.html">GenericAttribute</a> &gt; genericAttributeRepository, <a class="el" href="interface_nop_1_1_data_1_1_i_repository.html">IRepository</a>&lt; <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_category.html">TaxCategory</a> &gt; taxCategoryRepository, <a class="el" href="interface_nop_1_1_services_1_1_configuration_1_1_i_setting_service.html">ISettingService</a> settingService, <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_shopping_cart_service.html">IShoppingCartService</a> shoppingCartService, <a class="el" href="interface_nop_1_1_services_1_1_directory_1_1_i_state_province_service.html">IStateProvinceService</a> stateProvinceService, <a class="el" href="interface_nop_1_1_core_1_1_caching_1_1_i_static_cache_manager.html">IStaticCacheManager</a> staticCacheManager, <a class="el" href="interface_nop_1_1_services_1_1_tax_1_1_i_tax_category_service.html">ITaxCategoryService</a> taxCategoryService, <a class="el" href="interface_nop_1_1_services_1_1_tax_1_1_i_tax_plugin_manager.html">ITaxPluginManager</a> taxPluginManager, IUrlHelperFactory urlHelperFactory, <a class="el" href="interface_nop_1_1_core_1_1_i_web_helper.html">IWebHelper</a> webHelper, <a class="el" href="interface_nop_1_1_core_1_1_i_work_context.html">IWorkContext</a> workContext, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipping_settings.html">ShippingSettings</a> shippingSettings, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html">TaxSettings</a> taxSettings, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_tax_transaction_log_service.html">TaxTransactionLogService</a> taxTransactionLogService, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_cms_1_1_widget_settings.html">WidgetSettings</a> widgetSettings)</td></tr>
<tr class="separator:ad5ef245dc365646e78d846f0cccdfab3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a535b9dd4b0e7a0dfa587c877aefa7354"><td class="memItemLeft" align="right" valign="top">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; PingResultModel &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a535b9dd4b0e7a0dfa587c877aefa7354">PingAsync</a> ()</td></tr>
<tr class="memdesc:a535b9dd4b0e7a0dfa587c877aefa7354"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ping service (test conection)  <a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a535b9dd4b0e7a0dfa587c877aefa7354">Mais...</a><br /></td></tr>
<tr class="separator:a535b9dd4b0e7a0dfa587c877aefa7354"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abac69ba86208348fc6b6c9fa193dedac"><td class="memItemLeft" align="right" valign="top">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; List&lt; CompanyModel &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#abac69ba86208348fc6b6c9fa193dedac">GetAccountCompaniesAsync</a> ()</td></tr>
<tr class="memdesc:abac69ba86208348fc6b6c9fa193dedac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get account companies  <a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#abac69ba86208348fc6b6c9fa193dedac">Mais...</a><br /></td></tr>
<tr class="separator:abac69ba86208348fc6b6c9fa193dedac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3eb5a997be0677167dcb9187aafdb96"><td class="memItemLeft" align="right" valign="top">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; List&lt; EntityUseCodeModel &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#af3eb5a997be0677167dcb9187aafdb96">GetEntityUseCodesAsync</a> ()</td></tr>
<tr class="memdesc:af3eb5a997be0677167dcb9187aafdb96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get pre-defined entity use codes  <a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#af3eb5a997be0677167dcb9187aafdb96">Mais...</a><br /></td></tr>
<tr class="separator:af3eb5a997be0677167dcb9187aafdb96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9986a3438bbd355277ec3dab64f5c06d"><td class="memItemLeft" align="right" valign="top">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; Dictionary&lt; string, string &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a9986a3438bbd355277ec3dab64f5c06d">GetTaxCodeTypesAsync</a> ()</td></tr>
<tr class="memdesc:a9986a3438bbd355277ec3dab64f5c06d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get pre-defined tax code types  <a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a9986a3438bbd355277ec3dab64f5c06d">Mais...</a><br /></td></tr>
<tr class="separator:a9986a3438bbd355277ec3dab64f5c06d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1ec3a3248e763ea84e433a17b48f9ce"><td class="memItemLeft" align="right" valign="top">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; int?&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ab1ec3a3248e763ea84e433a17b48f9ce">ImportTaxCodesAsync</a> ()</td></tr>
<tr class="memdesc:ab1ec3a3248e763ea84e433a17b48f9ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Import tax codes from <a class="el" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara.html">Avalara</a> services  <a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ab1ec3a3248e763ea84e433a17b48f9ce">Mais...</a><br /></td></tr>
<tr class="separator:ab1ec3a3248e763ea84e433a17b48f9ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a840fe521f000b54fc78c64ebc434de07"><td class="memItemLeft" align="right" valign="top">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; int?&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a840fe521f000b54fc78c64ebc434de07">ExportTaxCodesAsync</a> ()</td></tr>
<tr class="memdesc:a840fe521f000b54fc78c64ebc434de07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Export current tax codes to <a class="el" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara.html">Avalara</a> services  <a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a840fe521f000b54fc78c64ebc434de07">Mais...</a><br /></td></tr>
<tr class="separator:a840fe521f000b54fc78c64ebc434de07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad61519b53075854d4cced04bb1d19c81"><td class="memItemLeft" align="right" valign="top">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ad61519b53075854d4cced04bb1d19c81">DeleteSystemTaxCodesAsync</a> ()</td></tr>
<tr class="memdesc:ad61519b53075854d4cced04bb1d19c81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete pre-defined system tax codes  <a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ad61519b53075854d4cced04bb1d19c81">Mais...</a><br /></td></tr>
<tr class="separator:ad61519b53075854d4cced04bb1d19c81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97c80783fc43fc3d0e0e9bf558e54efa"><td class="memItemLeft" align="right" valign="top">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a97c80783fc43fc3d0e0e9bf558e54efa">DeleteAttributesAsync</a> ()</td></tr>
<tr class="memdesc:a97c80783fc43fc3d0e0e9bf558e54efa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete generic attributes used in the plugin  <a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a97c80783fc43fc3d0e0e9bf558e54efa">Mais...</a><br /></td></tr>
<tr class="separator:a97c80783fc43fc3d0e0e9bf558e54efa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28b13fe9326b708d425b7950dc8b0845"><td class="memItemLeft" align="right" valign="top">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; int?&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a28b13fe9326b708d425b7950dc8b0845">ExportProductsAsync</a> (string selectedIds)</td></tr>
<tr class="memdesc:a28b13fe9326b708d425b7950dc8b0845"><td class="mdescLeft">&#160;</td><td class="mdescRight">Export items (products) with the passed ids to <a class="el" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara.html">Avalara</a> services  <a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a28b13fe9326b708d425b7950dc8b0845">Mais...</a><br /></td></tr>
<tr class="separator:a28b13fe9326b708d425b7950dc8b0845"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf9bb15640c017afd71bc05ac62a21d9"><td class="memItemLeft" align="right" valign="top">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; AddressResolutionModel &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#abf9bb15640c017afd71bc05ac62a21d9">ValidateAddressAsync</a> (<a class="el" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address.html">Address</a> address)</td></tr>
<tr class="memdesc:abf9bb15640c017afd71bc05ac62a21d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resolve the passed address against <a class="el" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara.html">Avalara</a>'s address-validation system  <a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#abf9bb15640c017afd71bc05ac62a21d9">Mais...</a><br /></td></tr>
<tr class="separator:abf9bb15640c017afd71bc05ac62a21d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a919f128544d1a82e1c5ae31cba050058"><td class="memItemLeft" align="right" valign="top">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; TransactionModel &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a919f128544d1a82e1c5ae31cba050058">CreateTestTaxTransactionAsync</a> (<a class="el" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address.html">Address</a> address)</td></tr>
<tr class="memdesc:a919f128544d1a82e1c5ae31cba050058"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create test tax transaction  <a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a919f128544d1a82e1c5ae31cba050058">Mais...</a><br /></td></tr>
<tr class="separator:a919f128544d1a82e1c5ae31cba050058"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab674fce735e06780b48dcf5014a96ba5"><td class="memItemLeft" align="right" valign="top">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; decimal?&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ab674fce735e06780b48dcf5014a96ba5">GetTaxRateAsync</a> (<a class="el" href="class_nop_1_1_services_1_1_tax_1_1_tax_rate_request.html">TaxRateRequest</a> taxRateRequest)</td></tr>
<tr class="memdesc:ab674fce735e06780b48dcf5014a96ba5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create transaction to get tax rate  <a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ab674fce735e06780b48dcf5014a96ba5">Mais...</a><br /></td></tr>
<tr class="separator:ab674fce735e06780b48dcf5014a96ba5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1580241a66dfc51b0a53d388980281fc"><td class="memItemLeft" align="right" valign="top">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; TransactionModel &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a1580241a66dfc51b0a53d388980281fc">CreateTaxTotalTransactionAsync</a> (<a class="el" href="class_nop_1_1_services_1_1_tax_1_1_tax_total_request.html">TaxTotalRequest</a> taxTotalRequest)</td></tr>
<tr class="memdesc:a1580241a66dfc51b0a53d388980281fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create transaction to get tax total for the passed request  <a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a1580241a66dfc51b0a53d388980281fc">Mais...</a><br /></td></tr>
<tr class="separator:a1580241a66dfc51b0a53d388980281fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad260f372aeecd8ef4fed5a3bbf9c920a"><td class="memItemLeft" align="right" valign="top">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; TransactionModel &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ad260f372aeecd8ef4fed5a3bbf9c920a">CreateOrderTaxTransactionAsync</a> (<a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a> order)</td></tr>
<tr class="memdesc:ad260f372aeecd8ef4fed5a3bbf9c920a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create tax transaction for the placed order  <a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ad260f372aeecd8ef4fed5a3bbf9c920a">Mais...</a><br /></td></tr>
<tr class="separator:ad260f372aeecd8ef4fed5a3bbf9c920a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af64ce89fa00b4634c7b8db053d28a7ff"><td class="memItemLeft" align="right" valign="top">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#af64ce89fa00b4634c7b8db053d28a7ff">VoidTaxTransactionAsync</a> (<a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a> order)</td></tr>
<tr class="memdesc:af64ce89fa00b4634c7b8db053d28a7ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Void tax transaction  <a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#af64ce89fa00b4634c7b8db053d28a7ff">Mais...</a><br /></td></tr>
<tr class="separator:af64ce89fa00b4634c7b8db053d28a7ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a427b08d15750783b63446b3b61b18165"><td class="memItemLeft" align="right" valign="top">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a427b08d15750783b63446b3b61b18165">DeleteTaxTransactionAsync</a> (<a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a> order)</td></tr>
<tr class="memdesc:a427b08d15750783b63446b3b61b18165"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete tax transaction  <a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a427b08d15750783b63446b3b61b18165">Mais...</a><br /></td></tr>
<tr class="separator:a427b08d15750783b63446b3b61b18165"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab571aae00d67aa2037cd9497359c3769"><td class="memItemLeft" align="right" valign="top">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ab571aae00d67aa2037cd9497359c3769">RefundTaxTransactionAsync</a> (<a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a> order, decimal amountToRefund)</td></tr>
<tr class="memdesc:ab571aae00d67aa2037cd9497359c3769"><td class="mdescLeft">&#160;</td><td class="mdescRight">Refund tax transaction  <a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ab571aae00d67aa2037cd9497359c3769">Mais...</a><br /></td></tr>
<tr class="separator:ab571aae00d67aa2037cd9497359c3769"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5548dca46e60e8b62e51dcf639c6fb56"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a5548dca46e60e8b62e51dcf639c6fb56">Dispose</a> ()</td></tr>
<tr class="memdesc:a5548dca46e60e8b62e51dcf639c6fb56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dispose object  <a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a5548dca46e60e8b62e51dcf639c6fb56">Mais...</a><br /></td></tr>
<tr class="separator:a5548dca46e60e8b62e51dcf639c6fb56"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Membros protegidos</h2></td></tr>
<tr class="memitem:a61b8ff8e36fac9f36628b901baed0690"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a61b8ff8e36fac9f36628b901baed0690">Dispose</a> (bool disposing)</td></tr>
<tr class="separator:a61b8ff8e36fac9f36628b901baed0690"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="properties"></a>
Propriedades</h2></td></tr>
<tr class="memitem:a7042ed6150237074c5143bb88ff25cf7"><td class="memItemLeft" align="right" valign="top">AvaTaxClient?&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a7042ed6150237074c5143bb88ff25cf7">ServiceClient</a><code> [get]</code></td></tr>
<tr class="memdesc:a7042ed6150237074c5143bb88ff25cf7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets client that connects to <a class="el" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara.html">Avalara</a> services  <a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a7042ed6150237074c5143bb88ff25cf7">Mais...</a><br /></td></tr>
<tr class="separator:a7042ed6150237074c5143bb88ff25cf7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Membros privados</h2></td></tr>
<tr class="memitem:a7c0f3366fdec49a59d6c09e95757ea50"><td class="memItemLeft" align="right" valign="top">async void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a7c0f3366fdec49a59d6c09e95757ea50">OnCallCompleted</a> (object sender, EventArgs args)</td></tr>
<tr class="memdesc:a7c0f3366fdec49a59d6c09e95757ea50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Event handler  <a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a7c0f3366fdec49a59d6c09e95757ea50">Mais...</a><br /></td></tr>
<tr class="separator:a7c0f3366fdec49a59d6c09e95757ea50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90892e6175101cfae85ba7fefd85f652"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a90892e6175101cfae85ba7fefd85f652">IsConfigured</a> ()</td></tr>
<tr class="memdesc:a90892e6175101cfae85ba7fefd85f652"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check that tax provider is configured  <a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a90892e6175101cfae85ba7fefd85f652">Mais...</a><br /></td></tr>
<tr class="separator:a90892e6175101cfae85ba7fefd85f652"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a025d48272653797307cfcbaf63324f46"><td class="memItemLeft" align="right" valign="top">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; TResult &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a025d48272653797307cfcbaf63324f46">HandleFunctionAsync&lt; TResult &gt;</a> (Func&lt; <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; TResult &gt;&gt; function)</td></tr>
<tr class="memdesc:a025d48272653797307cfcbaf63324f46"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle function and get result  <a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a025d48272653797307cfcbaf63324f46">Mais...</a><br /></td></tr>
<tr class="separator:a025d48272653797307cfcbaf63324f46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33131990e2395c3293c850c1ad732b6d"><td class="memItemLeft" align="right" valign="top">TransactionModel&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a33131990e2395c3293c850c1ad732b6d">CreateTransaction</a> (CreateTransactionModel model)</td></tr>
<tr class="memdesc:a33131990e2395c3293c850c1ad732b6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create tax transaction  <a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a33131990e2395c3293c850c1ad732b6d">Mais...</a><br /></td></tr>
<tr class="separator:a33131990e2395c3293c850c1ad732b6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f7dc463425449c1842304011b7f4eca"><td class="memItemLeft" align="right" valign="top">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; CreateTransactionModel &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a2f7dc463425449c1842304011b7f4eca">PrepareTransactionModelAsync</a> (<a class="el" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address.html">Address</a> address, string customerCode, DocumentType documentType)</td></tr>
<tr class="memdesc:a2f7dc463425449c1842304011b7f4eca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare model to create a tax transaction  <a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a2f7dc463425449c1842304011b7f4eca">Mais...</a><br /></td></tr>
<tr class="separator:a2f7dc463425449c1842304011b7f4eca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac070360ad2d9054e933aee48225e807a"><td class="memItemLeft" align="right" valign="top">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address.html">Address</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ac070360ad2d9054e933aee48225e807a">GetTaxAddressAsync</a> (<a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a> order)</td></tr>
<tr class="memdesc:ac070360ad2d9054e933aee48225e807a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a tax address of the passed order  <a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ac070360ad2d9054e933aee48225e807a">Mais...</a><br /></td></tr>
<tr class="separator:ac070360ad2d9054e933aee48225e807a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc9b8fa18c95e06f9bb79e4ddacc43ea"><td class="memItemLeft" align="right" valign="top">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; AddressLocationInfo &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#acc9b8fa18c95e06f9bb79e4ddacc43ea">MapAddressAsync</a> (<a class="el" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address.html">Address</a> address)</td></tr>
<tr class="memdesc:acc9b8fa18c95e06f9bb79e4ddacc43ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map address model  <a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#acc9b8fa18c95e06f9bb79e4ddacc43ea">Mais...</a><br /></td></tr>
<tr class="separator:acc9b8fa18c95e06f9bb79e4ddacc43ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a7e038e19e331939f4c3e8d5734c638"><td class="memItemLeft" align="right" valign="top">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; List&lt; LineItemModel &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a6a7e038e19e331939f4c3e8d5734c638">GetItemLinesAsync</a> (<a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a> order, IList&lt; <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_item.html">OrderItem</a> &gt; orderItems)</td></tr>
<tr class="memdesc:a6a7e038e19e331939f4c3e8d5734c638"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get item lines to create tax transaction  <a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a6a7e038e19e331939f4c3e8d5734c638">Mais...</a><br /></td></tr>
<tr class="separator:a6a7e038e19e331939f4c3e8d5734c638"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdbca097672860fb5c5a37020b6a5277"><td class="memItemLeft" align="right" valign="top">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; List&lt; LineItemModel &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#acdbca097672860fb5c5a37020b6a5277">CreateLinesForOrderItems</a> (<a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a> order, IList&lt; <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_item.html">OrderItem</a> &gt; orderItems)</td></tr>
<tr class="memdesc:acdbca097672860fb5c5a37020b6a5277"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create item lines for purchased order items  <a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#acdbca097672860fb5c5a37020b6a5277">Mais...</a><br /></td></tr>
<tr class="separator:acdbca097672860fb5c5a37020b6a5277"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86851823c9e8531eb98f2ea2c8742aa8"><td class="memItemLeft" align="right" valign="top">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; LineItemModel &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a86851823c9e8531eb98f2ea2c8742aa8">CreateLineForPaymentMethodAsync</a> (<a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a> order)</td></tr>
<tr class="memdesc:a86851823c9e8531eb98f2ea2c8742aa8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a separate item line for the order payment method additional fee  <a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a86851823c9e8531eb98f2ea2c8742aa8">Mais...</a><br /></td></tr>
<tr class="separator:a86851823c9e8531eb98f2ea2c8742aa8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd4d81b4ba0dc69fe3fdd3db3ae5b84a"><td class="memItemLeft" align="right" valign="top">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; LineItemModel &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#abd4d81b4ba0dc69fe3fdd3db3ae5b84a">CreateLineForShippingAsync</a> (<a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a> order)</td></tr>
<tr class="memdesc:abd4d81b4ba0dc69fe3fdd3db3ae5b84a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a separate item line for the order shipping charge  <a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#abd4d81b4ba0dc69fe3fdd3db3ae5b84a">Mais...</a><br /></td></tr>
<tr class="separator:abd4d81b4ba0dc69fe3fdd3db3ae5b84a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a6ca21832b94b7ede2bc7453819d2fb"><td class="memItemLeft" align="right" valign="top">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; IEnumerable&lt; LineItemModel &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a9a6ca21832b94b7ede2bc7453819d2fb">CreateLinesForCheckoutAttributes</a> (<a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a> order)</td></tr>
<tr class="memdesc:a9a6ca21832b94b7ede2bc7453819d2fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create item lines for order checkout attributes  <a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a9a6ca21832b94b7ede2bc7453819d2fb">Mais...</a><br /></td></tr>
<tr class="separator:a9a6ca21832b94b7ede2bc7453819d2fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8977bb26a998638a30d2b14827c4833b"><td class="memItemLeft" align="right" valign="top">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; CreateTransactionModel &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a8977bb26a998638a30d2b14827c4833b">PrepareModelTaxExemptionAsync</a> (CreateTransactionModel model, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html">Customer</a> customer)</td></tr>
<tr class="memdesc:a8977bb26a998638a30d2b14827c4833b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare model tax exemption details  <a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a8977bb26a998638a30d2b14827c4833b">Mais...</a><br /></td></tr>
<tr class="separator:a8977bb26a998638a30d2b14827c4833b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Atributos Privados</h2></td></tr>
<tr class="memitem:afea35b71eb612597f3d73251bf5e0d76"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings.html">AvalaraTaxSettings</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#afea35b71eb612597f3d73251bf5e0d76">_avalaraTaxSettings</a></td></tr>
<tr class="separator:afea35b71eb612597f3d73251bf5e0d76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a935fd01e74b8d8fea554136ecfb7f41e"><td class="memItemLeft" align="right" valign="top">readonly IActionContextAccessor&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a935fd01e74b8d8fea554136ecfb7f41e">_actionContextAccessor</a></td></tr>
<tr class="separator:a935fd01e74b8d8fea554136ecfb7f41e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bb83b9312bffecf7f93cd3d4b6dccdc"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_common_1_1_i_address_service.html">IAddressService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a1bb83b9312bffecf7f93cd3d4b6dccdc">_addressService</a></td></tr>
<tr class="separator:a1bb83b9312bffecf7f93cd3d4b6dccdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a382e68a9c9fa5c71cbea3dc3633c54af"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_checkout_attribute_parser.html">ICheckoutAttributeParser</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a382e68a9c9fa5c71cbea3dc3633c54af">_checkoutAttributeParser</a></td></tr>
<tr class="separator:a382e68a9c9fa5c71cbea3dc3633c54af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a598008073c884f98938d4dce60f60649"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_checkout_attribute_service.html">ICheckoutAttributeService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a598008073c884f98938d4dce60f60649">_checkoutAttributeService</a></td></tr>
<tr class="separator:a598008073c884f98938d4dce60f60649"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a919b626777895fb85b8fe2d8bd1b3ee3"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_directory_1_1_i_country_service.html">ICountryService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a919b626777895fb85b8fe2d8bd1b3ee3">_countryService</a></td></tr>
<tr class="separator:a919b626777895fb85b8fe2d8bd1b3ee3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a6b9036fcf854c95244d669f00cfbc9"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html">ICustomerService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a0a6b9036fcf854c95244d669f00cfbc9">_customerService</a></td></tr>
<tr class="separator:a0a6b9036fcf854c95244d669f00cfbc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cfafecccf84aefa7eb28149282d69c5"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_common_1_1_i_generic_attribute_service.html">IGenericAttributeService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a2cfafecccf84aefa7eb28149282d69c5">_genericAttributeService</a></td></tr>
<tr class="separator:a2cfafecccf84aefa7eb28149282d69c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a4f4218ef114f310dee3fd4006fed8e"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_directory_1_1_i_geo_lookup_service.html">IGeoLookupService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a1a4f4218ef114f310dee3fd4006fed8e">_geoLookupService</a></td></tr>
<tr class="separator:a1a4f4218ef114f310dee3fd4006fed8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78e99a21181a5b87b5de284eb6663ae6"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html">ILocalizationService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a78e99a21181a5b87b5de284eb6663ae6">_localizationService</a></td></tr>
<tr class="separator:a78e99a21181a5b87b5de284eb6663ae6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e0e3c4d474d9d8a8ea9ae1bed65fd8f"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_logging_1_1_i_logger.html">ILogger</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a0e0e3c4d474d9d8a8ea9ae1bed65fd8f">_logger</a></td></tr>
<tr class="separator:a0e0e3c4d474d9d8a8ea9ae1bed65fd8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbcff7464c8a5a3f24f3a4cc8513c40b"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_service.html">IOrderService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#abbcff7464c8a5a3f24f3a4cc8513c40b">_orderService</a></td></tr>
<tr class="separator:abbcff7464c8a5a3f24f3a4cc8513c40b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94de62fdd499ed7e257fdd474b136de4"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_total_calculation_service.html">IOrderTotalCalculationService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a94de62fdd499ed7e257fdd474b136de4">_orderTotalCalculationService</a></td></tr>
<tr class="separator:a94de62fdd499ed7e257fdd474b136de4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9c9f7af73d7745d1d9c63021d1780be"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_payments_1_1_i_payment_service.html">IPaymentService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#af9c9f7af73d7745d1d9c63021d1780be">_paymentService</a></td></tr>
<tr class="separator:af9c9f7af73d7745d1d9c63021d1780be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac99475847747a4d63f5c339646cf8e9a"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_service.html">IProductAttributeService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ac99475847747a4d63f5c339646cf8e9a">_productAttributeService</a></td></tr>
<tr class="separator:ac99475847747a4d63f5c339646cf8e9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae746f3353d58fed103de01a54b76c63a"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html">IProductService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ae746f3353d58fed103de01a54b76c63a">_productService</a></td></tr>
<tr class="separator:ae746f3353d58fed103de01a54b76c63a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bc1da90b62d89ad6075a1310f566e5b"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_data_1_1_i_repository.html">IRepository</a>&lt; <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_generic_attribute.html">GenericAttribute</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a0bc1da90b62d89ad6075a1310f566e5b">_genericAttributeRepository</a></td></tr>
<tr class="separator:a0bc1da90b62d89ad6075a1310f566e5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f14a0aa046aa50f373fdef5f81317c9"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_data_1_1_i_repository.html">IRepository</a>&lt; <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_category.html">TaxCategory</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a9f14a0aa046aa50f373fdef5f81317c9">_taxCategoryRepository</a></td></tr>
<tr class="separator:a9f14a0aa046aa50f373fdef5f81317c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adffb313400a45037334fb0fe78706a7e"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_configuration_1_1_i_setting_service.html">ISettingService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#adffb313400a45037334fb0fe78706a7e">_settingService</a></td></tr>
<tr class="separator:adffb313400a45037334fb0fe78706a7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7b9fd3325f36dad66062d20e8bf2c5d"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_shopping_cart_service.html">IShoppingCartService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#af7b9fd3325f36dad66062d20e8bf2c5d">_shoppingCartService</a></td></tr>
<tr class="separator:af7b9fd3325f36dad66062d20e8bf2c5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41c8457a9bda26e88506056ea125c8f1"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_directory_1_1_i_state_province_service.html">IStateProvinceService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a41c8457a9bda26e88506056ea125c8f1">_stateProvinceService</a></td></tr>
<tr class="separator:a41c8457a9bda26e88506056ea125c8f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0cf8edcf24193f7dfe5a7a3b83a9339"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_core_1_1_caching_1_1_i_static_cache_manager.html">IStaticCacheManager</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#aa0cf8edcf24193f7dfe5a7a3b83a9339">_staticCacheManager</a></td></tr>
<tr class="separator:aa0cf8edcf24193f7dfe5a7a3b83a9339"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae17a1adc446632a690405c66184a828b"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_tax_1_1_i_tax_category_service.html">ITaxCategoryService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ae17a1adc446632a690405c66184a828b">_taxCategoryService</a></td></tr>
<tr class="separator:ae17a1adc446632a690405c66184a828b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04e98a6b4aa4ce6351acd54bfa7d3bba"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_tax_1_1_i_tax_plugin_manager.html">ITaxPluginManager</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a04e98a6b4aa4ce6351acd54bfa7d3bba">_taxPluginManager</a></td></tr>
<tr class="separator:a04e98a6b4aa4ce6351acd54bfa7d3bba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc806548054a5890c8f5430eaa136958"><td class="memItemLeft" align="right" valign="top">readonly IUrlHelperFactory&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#adc806548054a5890c8f5430eaa136958">_urlHelperFactory</a></td></tr>
<tr class="separator:adc806548054a5890c8f5430eaa136958"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13cdc37e40cdd8710a8470cfd015330d"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_core_1_1_i_web_helper.html">IWebHelper</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a13cdc37e40cdd8710a8470cfd015330d">_webHelper</a></td></tr>
<tr class="separator:a13cdc37e40cdd8710a8470cfd015330d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad821e4dff925e557f8a7490bf498916e"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_core_1_1_i_work_context.html">IWorkContext</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ad821e4dff925e557f8a7490bf498916e">_workContext</a></td></tr>
<tr class="separator:ad821e4dff925e557f8a7490bf498916e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6983d8e0c2a004f337bdc9134819ea29"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipping_settings.html">ShippingSettings</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a6983d8e0c2a004f337bdc9134819ea29">_shippingSettings</a></td></tr>
<tr class="separator:a6983d8e0c2a004f337bdc9134819ea29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab787bae510c4b103374c92d8784c7e29"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html">TaxSettings</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ab787bae510c4b103374c92d8784c7e29">_taxSettings</a></td></tr>
<tr class="separator:ab787bae510c4b103374c92d8784c7e29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2315315292c0e6e91b536c6cb2333af6"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_tax_transaction_log_service.html">TaxTransactionLogService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a2315315292c0e6e91b536c6cb2333af6">_taxTransactionLogService</a></td></tr>
<tr class="separator:a2315315292c0e6e91b536c6cb2333af6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0aedc855ed4999961a78b4d35b6baf2"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_cms_1_1_widget_settings.html">WidgetSettings</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ac0aedc855ed4999961a78b4d35b6baf2">_widgetSettings</a></td></tr>
<tr class="separator:ac0aedc855ed4999961a78b4d35b6baf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a205b9051930cbec427e115075696e0e3"><td class="memItemLeft" align="right" valign="top">AvaTaxClient&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a205b9051930cbec427e115075696e0e3">_serviceClient</a></td></tr>
<tr class="separator:a205b9051930cbec427e115075696e0e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a268d445739110120de5345698026729a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a268d445739110120de5345698026729a">_disposed</a></td></tr>
<tr class="separator:a268d445739110120de5345698026729a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Descrição detalhada</h2>
<div class="textblock"><p>Represents the manager that operates with requests to the <a class="el" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara.html">Avalara</a> services </p>
</div><h2 class="groupheader">Documentação dos Construtores &amp; Destrutor</h2>
<a id="ad5ef245dc365646e78d846f0cccdfab3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5ef245dc365646e78d846f0cccdfab3">&#9670;&nbsp;</a></span>AvalaraTaxManager()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.AvalaraTaxManager </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings.html">AvalaraTaxSettings</a>&#160;</td>
          <td class="paramname"><em>avalaraTaxSettings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IActionContextAccessor&#160;</td>
          <td class="paramname"><em>actionContextAccessor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_common_1_1_i_address_service.html">IAddressService</a>&#160;</td>
          <td class="paramname"><em>addressService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_checkout_attribute_parser.html">ICheckoutAttributeParser</a>&#160;</td>
          <td class="paramname"><em>checkoutAttributeParser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_checkout_attribute_service.html">ICheckoutAttributeService</a>&#160;</td>
          <td class="paramname"><em>checkoutAttributeService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_directory_1_1_i_country_service.html">ICountryService</a>&#160;</td>
          <td class="paramname"><em>countryService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html">ICustomerService</a>&#160;</td>
          <td class="paramname"><em>customerService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_common_1_1_i_generic_attribute_service.html">IGenericAttributeService</a>&#160;</td>
          <td class="paramname"><em>genericAttributeService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_directory_1_1_i_geo_lookup_service.html">IGeoLookupService</a>&#160;</td>
          <td class="paramname"><em>geoLookupService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html">ILocalizationService</a>&#160;</td>
          <td class="paramname"><em>localizationService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_logging_1_1_i_logger.html">ILogger</a>&#160;</td>
          <td class="paramname"><em>logger</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_service.html">IOrderService</a>&#160;</td>
          <td class="paramname"><em>orderService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_total_calculation_service.html">IOrderTotalCalculationService</a>&#160;</td>
          <td class="paramname"><em>orderTotalCalculationService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_payments_1_1_i_payment_service.html">IPaymentService</a>&#160;</td>
          <td class="paramname"><em>paymentService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_service.html">IProductAttributeService</a>&#160;</td>
          <td class="paramname"><em>productAttributeService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html">IProductService</a>&#160;</td>
          <td class="paramname"><em>productService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_data_1_1_i_repository.html">IRepository</a>&lt; <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_generic_attribute.html">GenericAttribute</a> &gt;&#160;</td>
          <td class="paramname"><em>genericAttributeRepository</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_data_1_1_i_repository.html">IRepository</a>&lt; <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_category.html">TaxCategory</a> &gt;&#160;</td>
          <td class="paramname"><em>taxCategoryRepository</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_configuration_1_1_i_setting_service.html">ISettingService</a>&#160;</td>
          <td class="paramname"><em>settingService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_shopping_cart_service.html">IShoppingCartService</a>&#160;</td>
          <td class="paramname"><em>shoppingCartService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_directory_1_1_i_state_province_service.html">IStateProvinceService</a>&#160;</td>
          <td class="paramname"><em>stateProvinceService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_core_1_1_caching_1_1_i_static_cache_manager.html">IStaticCacheManager</a>&#160;</td>
          <td class="paramname"><em>staticCacheManager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_tax_1_1_i_tax_category_service.html">ITaxCategoryService</a>&#160;</td>
          <td class="paramname"><em>taxCategoryService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_tax_1_1_i_tax_plugin_manager.html">ITaxPluginManager</a>&#160;</td>
          <td class="paramname"><em>taxPluginManager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IUrlHelperFactory&#160;</td>
          <td class="paramname"><em>urlHelperFactory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_core_1_1_i_web_helper.html">IWebHelper</a>&#160;</td>
          <td class="paramname"><em>webHelper</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_core_1_1_i_work_context.html">IWorkContext</a>&#160;</td>
          <td class="paramname"><em>workContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipping_settings.html">ShippingSettings</a>&#160;</td>
          <td class="paramname"><em>shippingSettings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html">TaxSettings</a>&#160;</td>
          <td class="paramname"><em>taxSettings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_tax_transaction_log_service.html">TaxTransactionLogService</a>&#160;</td>
          <td class="paramname"><em>taxTransactionLogService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_cms_1_1_widget_settings.html">WidgetSettings</a>&#160;</td>
          <td class="paramname"><em>widgetSettings</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        {</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#afea35b71eb612597f3d73251bf5e0d76">_avalaraTaxSettings</a> = avalaraTaxSettings;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a935fd01e74b8d8fea554136ecfb7f41e">_actionContextAccessor</a> = actionContextAccessor;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;            <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a1bb83b9312bffecf7f93cd3d4b6dccdc">_addressService</a> = addressService;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a382e68a9c9fa5c71cbea3dc3633c54af">_checkoutAttributeParser</a> = checkoutAttributeParser;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a598008073c884f98938d4dce60f60649">_checkoutAttributeService</a> = checkoutAttributeService;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;            <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a919b626777895fb85b8fe2d8bd1b3ee3">_countryService</a> = countryService;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a0a6b9036fcf854c95244d669f00cfbc9">_customerService</a> = customerService;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;            <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a2cfafecccf84aefa7eb28149282d69c5">_genericAttributeService</a> = genericAttributeService;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a1a4f4218ef114f310dee3fd4006fed8e">_geoLookupService</a> = geoLookupService;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a78e99a21181a5b87b5de284eb6663ae6">_localizationService</a> = localizationService;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a0e0e3c4d474d9d8a8ea9ae1bed65fd8f">_logger</a> = logger;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#abbcff7464c8a5a3f24f3a4cc8513c40b">_orderService</a> = orderService;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;            <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a94de62fdd499ed7e257fdd474b136de4">_orderTotalCalculationService</a> = orderTotalCalculationService;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#af9c9f7af73d7745d1d9c63021d1780be">_paymentService</a> = paymentService;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;            <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ac99475847747a4d63f5c339646cf8e9a">_productAttributeService</a> = productAttributeService;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;            <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ae746f3353d58fed103de01a54b76c63a">_productService</a> = productService;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;            <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a0bc1da90b62d89ad6075a1310f566e5b">_genericAttributeRepository</a> = genericAttributeRepository;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a9f14a0aa046aa50f373fdef5f81317c9">_taxCategoryRepository</a> = taxCategoryRepository;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#adffb313400a45037334fb0fe78706a7e">_settingService</a> = settingService;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;            <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#af7b9fd3325f36dad66062d20e8bf2c5d">_shoppingCartService</a> = shoppingCartService;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;            <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a41c8457a9bda26e88506056ea125c8f1">_stateProvinceService</a> = stateProvinceService;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;            <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#aa0cf8edcf24193f7dfe5a7a3b83a9339">_staticCacheManager</a> = staticCacheManager;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ae17a1adc446632a690405c66184a828b">_taxCategoryService</a> = taxCategoryService;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a04e98a6b4aa4ce6351acd54bfa7d3bba">_taxPluginManager</a> = taxPluginManager;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#adc806548054a5890c8f5430eaa136958">_urlHelperFactory</a> = urlHelperFactory;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a13cdc37e40cdd8710a8470cfd015330d">_webHelper</a> = webHelper;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ad821e4dff925e557f8a7490bf498916e">_workContext</a> = workContext;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;            <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a6983d8e0c2a004f337bdc9134819ea29">_shippingSettings</a> = shippingSettings;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;            <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ab787bae510c4b103374c92d8784c7e29">_taxSettings</a> = taxSettings;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;            <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a2315315292c0e6e91b536c6cb2333af6">_taxTransactionLogService</a> = taxTransactionLogService;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ac0aedc855ed4999961a78b4d35b6baf2">_widgetSettings</a> = widgetSettings;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager_html_a04e98a6b4aa4ce6351acd54bfa7d3bba"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a04e98a6b4aa4ce6351acd54bfa7d3bba">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._taxPluginManager</a></div><div class="ttdeci">readonly ITaxPluginManager _taxPluginManager</div><div class="ttdef"><b>Definition:</b> AvalaraTaxManager.cs:61</div></div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager_html_a0a6b9036fcf854c95244d669f00cfbc9"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a0a6b9036fcf854c95244d669f00cfbc9">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._customerService</a></div><div class="ttdeci">readonly ICustomerService _customerService</div><div class="ttdef"><b>Definition:</b> AvalaraTaxManager.cs:44</div></div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager_html_a0bc1da90b62d89ad6075a1310f566e5b"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a0bc1da90b62d89ad6075a1310f566e5b">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._genericAttributeRepository</a></div><div class="ttdeci">readonly IRepository&lt; GenericAttribute &gt; _genericAttributeRepository</div><div class="ttdef"><b>Definition:</b> AvalaraTaxManager.cs:54</div></div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager_html_a0e0e3c4d474d9d8a8ea9ae1bed65fd8f"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a0e0e3c4d474d9d8a8ea9ae1bed65fd8f">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._logger</a></div><div class="ttdeci">readonly ILogger _logger</div><div class="ttdef"><b>Definition:</b> AvalaraTaxManager.cs:48</div></div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager_html_a13cdc37e40cdd8710a8470cfd015330d"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a13cdc37e40cdd8710a8470cfd015330d">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._webHelper</a></div><div class="ttdeci">readonly IWebHelper _webHelper</div><div class="ttdef"><b>Definition:</b> AvalaraTaxManager.cs:63</div></div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager_html_a1a4f4218ef114f310dee3fd4006fed8e"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a1a4f4218ef114f310dee3fd4006fed8e">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._geoLookupService</a></div><div class="ttdeci">readonly IGeoLookupService _geoLookupService</div><div class="ttdef"><b>Definition:</b> AvalaraTaxManager.cs:46</div></div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager_html_a1bb83b9312bffecf7f93cd3d4b6dccdc"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a1bb83b9312bffecf7f93cd3d4b6dccdc">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._addressService</a></div><div class="ttdeci">readonly IAddressService _addressService</div><div class="ttdef"><b>Definition:</b> AvalaraTaxManager.cs:40</div></div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager_html_a2315315292c0e6e91b536c6cb2333af6"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a2315315292c0e6e91b536c6cb2333af6">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._taxTransactionLogService</a></div><div class="ttdeci">readonly TaxTransactionLogService _taxTransactionLogService</div><div class="ttdef"><b>Definition:</b> AvalaraTaxManager.cs:67</div></div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager_html_a2cfafecccf84aefa7eb28149282d69c5"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a2cfafecccf84aefa7eb28149282d69c5">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._genericAttributeService</a></div><div class="ttdeci">readonly IGenericAttributeService _genericAttributeService</div><div class="ttdef"><b>Definition:</b> AvalaraTaxManager.cs:45</div></div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager_html_a382e68a9c9fa5c71cbea3dc3633c54af"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a382e68a9c9fa5c71cbea3dc3633c54af">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._checkoutAttributeParser</a></div><div class="ttdeci">readonly ICheckoutAttributeParser _checkoutAttributeParser</div><div class="ttdef"><b>Definition:</b> AvalaraTaxManager.cs:41</div></div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager_html_a41c8457a9bda26e88506056ea125c8f1"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a41c8457a9bda26e88506056ea125c8f1">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._stateProvinceService</a></div><div class="ttdeci">readonly IStateProvinceService _stateProvinceService</div><div class="ttdef"><b>Definition:</b> AvalaraTaxManager.cs:58</div></div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager_html_a598008073c884f98938d4dce60f60649"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a598008073c884f98938d4dce60f60649">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._checkoutAttributeService</a></div><div class="ttdeci">readonly ICheckoutAttributeService _checkoutAttributeService</div><div class="ttdef"><b>Definition:</b> AvalaraTaxManager.cs:42</div></div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager_html_a6983d8e0c2a004f337bdc9134819ea29"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a6983d8e0c2a004f337bdc9134819ea29">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._shippingSettings</a></div><div class="ttdeci">readonly ShippingSettings _shippingSettings</div><div class="ttdef"><b>Definition:</b> AvalaraTaxManager.cs:65</div></div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager_html_a78e99a21181a5b87b5de284eb6663ae6"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a78e99a21181a5b87b5de284eb6663ae6">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._localizationService</a></div><div class="ttdeci">readonly ILocalizationService _localizationService</div><div class="ttdef"><b>Definition:</b> AvalaraTaxManager.cs:47</div></div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager_html_a919b626777895fb85b8fe2d8bd1b3ee3"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a919b626777895fb85b8fe2d8bd1b3ee3">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._countryService</a></div><div class="ttdeci">readonly ICountryService _countryService</div><div class="ttdef"><b>Definition:</b> AvalaraTaxManager.cs:43</div></div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager_html_a935fd01e74b8d8fea554136ecfb7f41e"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a935fd01e74b8d8fea554136ecfb7f41e">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._actionContextAccessor</a></div><div class="ttdeci">readonly IActionContextAccessor _actionContextAccessor</div><div class="ttdef"><b>Definition:</b> AvalaraTaxManager.cs:39</div></div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager_html_a94de62fdd499ed7e257fdd474b136de4"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a94de62fdd499ed7e257fdd474b136de4">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._orderTotalCalculationService</a></div><div class="ttdeci">readonly IOrderTotalCalculationService _orderTotalCalculationService</div><div class="ttdef"><b>Definition:</b> AvalaraTaxManager.cs:50</div></div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager_html_a9f14a0aa046aa50f373fdef5f81317c9"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a9f14a0aa046aa50f373fdef5f81317c9">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._taxCategoryRepository</a></div><div class="ttdeci">readonly IRepository&lt; TaxCategory &gt; _taxCategoryRepository</div><div class="ttdef"><b>Definition:</b> AvalaraTaxManager.cs:55</div></div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager_html_aa0cf8edcf24193f7dfe5a7a3b83a9339"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#aa0cf8edcf24193f7dfe5a7a3b83a9339">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._staticCacheManager</a></div><div class="ttdeci">readonly IStaticCacheManager _staticCacheManager</div><div class="ttdef"><b>Definition:</b> AvalaraTaxManager.cs:59</div></div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager_html_ab787bae510c4b103374c92d8784c7e29"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ab787bae510c4b103374c92d8784c7e29">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._taxSettings</a></div><div class="ttdeci">readonly TaxSettings _taxSettings</div><div class="ttdef"><b>Definition:</b> AvalaraTaxManager.cs:66</div></div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager_html_abbcff7464c8a5a3f24f3a4cc8513c40b"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#abbcff7464c8a5a3f24f3a4cc8513c40b">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._orderService</a></div><div class="ttdeci">readonly IOrderService _orderService</div><div class="ttdef"><b>Definition:</b> AvalaraTaxManager.cs:49</div></div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager_html_ac0aedc855ed4999961a78b4d35b6baf2"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ac0aedc855ed4999961a78b4d35b6baf2">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._widgetSettings</a></div><div class="ttdeci">readonly WidgetSettings _widgetSettings</div><div class="ttdef"><b>Definition:</b> AvalaraTaxManager.cs:68</div></div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager_html_ac99475847747a4d63f5c339646cf8e9a"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ac99475847747a4d63f5c339646cf8e9a">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._productAttributeService</a></div><div class="ttdeci">readonly IProductAttributeService _productAttributeService</div><div class="ttdef"><b>Definition:</b> AvalaraTaxManager.cs:52</div></div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager_html_ad821e4dff925e557f8a7490bf498916e"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ad821e4dff925e557f8a7490bf498916e">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._workContext</a></div><div class="ttdeci">readonly IWorkContext _workContext</div><div class="ttdef"><b>Definition:</b> AvalaraTaxManager.cs:64</div></div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager_html_adc806548054a5890c8f5430eaa136958"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#adc806548054a5890c8f5430eaa136958">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._urlHelperFactory</a></div><div class="ttdeci">readonly IUrlHelperFactory _urlHelperFactory</div><div class="ttdef"><b>Definition:</b> AvalaraTaxManager.cs:62</div></div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager_html_adffb313400a45037334fb0fe78706a7e"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#adffb313400a45037334fb0fe78706a7e">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._settingService</a></div><div class="ttdeci">readonly ISettingService _settingService</div><div class="ttdef"><b>Definition:</b> AvalaraTaxManager.cs:56</div></div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager_html_ae17a1adc446632a690405c66184a828b"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ae17a1adc446632a690405c66184a828b">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._taxCategoryService</a></div><div class="ttdeci">readonly ITaxCategoryService _taxCategoryService</div><div class="ttdef"><b>Definition:</b> AvalaraTaxManager.cs:60</div></div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager_html_ae746f3353d58fed103de01a54b76c63a"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ae746f3353d58fed103de01a54b76c63a">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._productService</a></div><div class="ttdeci">readonly IProductService _productService</div><div class="ttdef"><b>Definition:</b> AvalaraTaxManager.cs:53</div></div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager_html_af7b9fd3325f36dad66062d20e8bf2c5d"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#af7b9fd3325f36dad66062d20e8bf2c5d">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._shoppingCartService</a></div><div class="ttdeci">readonly IShoppingCartService _shoppingCartService</div><div class="ttdef"><b>Definition:</b> AvalaraTaxManager.cs:57</div></div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager_html_af9c9f7af73d7745d1d9c63021d1780be"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#af9c9f7af73d7745d1d9c63021d1780be">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._paymentService</a></div><div class="ttdeci">readonly IPaymentService _paymentService</div><div class="ttdef"><b>Definition:</b> AvalaraTaxManager.cs:51</div></div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager_html_afea35b71eb612597f3d73251bf5e0d76"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#afea35b71eb612597f3d73251bf5e0d76">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._avalaraTaxSettings</a></div><div class="ttdeci">readonly AvalaraTaxSettings _avalaraTaxSettings</div><div class="ttdef"><b>Definition:</b> AvalaraTaxManager.cs:38</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a935fd01e74b8d8fea554136ecfb7f41e">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._actionContextAccessor</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a1bb83b9312bffecf7f93cd3d4b6dccdc">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._addressService</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#afea35b71eb612597f3d73251bf5e0d76">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._avalaraTaxSettings</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a382e68a9c9fa5c71cbea3dc3633c54af">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._checkoutAttributeParser</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a598008073c884f98938d4dce60f60649">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._checkoutAttributeService</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a919b626777895fb85b8fe2d8bd1b3ee3">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._countryService</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a0a6b9036fcf854c95244d669f00cfbc9">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._customerService</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a0bc1da90b62d89ad6075a1310f566e5b">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._genericAttributeRepository</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a2cfafecccf84aefa7eb28149282d69c5">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._genericAttributeService</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a1a4f4218ef114f310dee3fd4006fed8e">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._geoLookupService</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a78e99a21181a5b87b5de284eb6663ae6">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._localizationService</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a0e0e3c4d474d9d8a8ea9ae1bed65fd8f">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._logger</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#abbcff7464c8a5a3f24f3a4cc8513c40b">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._orderService</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a94de62fdd499ed7e257fdd474b136de4">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._orderTotalCalculationService</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#af9c9f7af73d7745d1d9c63021d1780be">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._paymentService</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ac99475847747a4d63f5c339646cf8e9a">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._productAttributeService</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ae746f3353d58fed103de01a54b76c63a">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._productService</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#adffb313400a45037334fb0fe78706a7e">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._settingService</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a6983d8e0c2a004f337bdc9134819ea29">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._shippingSettings</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#af7b9fd3325f36dad66062d20e8bf2c5d">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._shoppingCartService</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a41c8457a9bda26e88506056ea125c8f1">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._stateProvinceService</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#aa0cf8edcf24193f7dfe5a7a3b83a9339">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._staticCacheManager</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a9f14a0aa046aa50f373fdef5f81317c9">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._taxCategoryRepository</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ae17a1adc446632a690405c66184a828b">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._taxCategoryService</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a04e98a6b4aa4ce6351acd54bfa7d3bba">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._taxPluginManager</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ab787bae510c4b103374c92d8784c7e29">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._taxSettings</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a2315315292c0e6e91b536c6cb2333af6">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._taxTransactionLogService</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#adc806548054a5890c8f5430eaa136958">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._urlHelperFactory</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a13cdc37e40cdd8710a8470cfd015330d">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._webHelper</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ac0aedc855ed4999961a78b4d35b6baf2">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._widgetSettings</a> e <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ad821e4dff925e557f8a7490bf498916e">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._workContext</a>.</p>

</div>
</div>
<h2 class="groupheader">Documentação dos métodos</h2>
<a id="a86851823c9e8531eb98f2ea2c8742aa8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86851823c9e8531eb98f2ea2c8742aa8">&#9670;&nbsp;</a></span>CreateLineForPaymentMethodAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;LineItemModel&gt; Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.CreateLineForPaymentMethodAsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a>&#160;</td>
          <td class="paramname"><em>order</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a separate item line for the order payment method additional fee </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">order</td><td>Order</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the item line </dd></dl>
<div class="fragment"><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        {</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;            var paymentItem = <span class="keyword">new</span> LineItemModel</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;            {</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;                amount = order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a2b1db82cb59715d71a9440f4e2671798">PaymentMethodAdditionalFeeExclTax</a>,</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160; </div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                <span class="comment">//item description</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                description = <span class="stringliteral">&quot;Payment method additional fee&quot;</span>,</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160; </div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                <span class="comment">//set payment method system name as item code</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                itemCode = <a class="code" href="class_nop_1_1_core_1_1_common_helper.html">CommonHelper</a>.<a class="code" href="class_nop_1_1_core_1_1_common_helper.html#a7e1b63566b29d344beaacd65866a74c2">EnsureMaximumLength</a>(order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a1a4dc20567fdbe33a1f5a1a6ad9a71a2">PaymentMethodSystemName</a>, 50),</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160; </div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                quantity = 1</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;            };</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160; </div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;            <span class="comment">//whether payment is taxable</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ab787bae510c4b103374c92d8784c7e29">_taxSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html#ae7b181a5e8a6de2ca22903360ef1f126">PaymentMethodAdditionalFeeIsTaxable</a>)</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;            {</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                <span class="comment">//try to get tax code</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                var paymentTaxCategory = await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ae17a1adc446632a690405c66184a828b">_taxCategoryService</a>.<a class="code" href="interface_nop_1_1_services_1_1_tax_1_1_i_tax_category_service.html#afbf254d2a22b6afc356a801d50833b11">GetTaxCategoryByIdAsync</a>(<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ab787bae510c4b103374c92d8784c7e29">_taxSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html#a73bef774442de430fb5ff7647bf4b412">PaymentMethodAdditionalFeeTaxClassId</a>);</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;                paymentItem.taxCode = <a class="code" href="class_nop_1_1_core_1_1_common_helper.html">CommonHelper</a>.<a class="code" href="class_nop_1_1_core_1_1_common_helper.html#a7e1b63566b29d344beaacd65866a74c2">EnsureMaximumLength</a>(paymentTaxCategory?.<a class="code" href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a5d49a2599538bfd3f9e5333e94ca11b0">Name</a>, 25);</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;            }</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;            {</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                <span class="comment">//if payment is non-taxable, set it as exempt</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                paymentItem.exemptionCode = <span class="stringliteral">&quot;Payment-fee-non-taxable&quot;</span>;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;            }</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160; </div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;            <span class="keywordflow">return</span> paymentItem;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_common_helper_html"><div class="ttname"><a href="class_nop_1_1_core_1_1_common_helper.html">Nop.Core.CommonHelper</a></div><div class="ttdoc">Represents a common helper</div><div class="ttdef"><b>Definition:</b> CommonHelper.cs:17</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_common_helper_html_a7e1b63566b29d344beaacd65866a74c2"><div class="ttname"><a href="class_nop_1_1_core_1_1_common_helper.html#a7e1b63566b29d344beaacd65866a74c2">Nop.Core.CommonHelper.EnsureMaximumLength</a></div><div class="ttdeci">static string EnsureMaximumLength(string str, int maxLength, string postfix=null)</div><div class="ttdoc">Ensure that a string doesn't exceed maximum allowed length</div><div class="ttdef"><b>Definition:</b> CommonHelper.cs:115</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_a1a4dc20567fdbe33a1f5a1a6ad9a71a2"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a1a4dc20567fdbe33a1f5a1a6ad9a71a2">Nop.Core.Domain.Orders.Order.PaymentMethodSystemName</a></div><div class="ttdeci">string PaymentMethodSystemName</div><div class="ttdoc">Gets or sets the payment method system name</div><div class="ttdef"><b>Definition:</b> Order.cs:69</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_a2b1db82cb59715d71a9440f4e2671798"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a2b1db82cb59715d71a9440f4e2671798">Nop.Core.Domain.Orders.Order.PaymentMethodAdditionalFeeExclTax</a></div><div class="ttdeci">decimal PaymentMethodAdditionalFeeExclTax</div><div class="ttdoc">Gets or sets the payment method additional fee (exclude tax)</div><div class="ttdef"><b>Definition:</b> Order.cs:129</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings_html_a73bef774442de430fb5ff7647bf4b412"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html#a73bef774442de430fb5ff7647bf4b412">Nop.Core.Domain.Tax.TaxSettings.PaymentMethodAdditionalFeeTaxClassId</a></div><div class="ttdeci">int PaymentMethodAdditionalFeeTaxClassId</div><div class="ttdoc">Gets or sets a value indicating the payment method additional fee tax class identifier</div><div class="ttdef"><b>Definition:</b> TaxSettings.cs:103</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings_html_ae7b181a5e8a6de2ca22903360ef1f126"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html#ae7b181a5e8a6de2ca22903360ef1f126">Nop.Core.Domain.Tax.TaxSettings.PaymentMethodAdditionalFeeIsTaxable</a></div><div class="ttdeci">bool PaymentMethodAdditionalFeeIsTaxable</div><div class="ttdoc">Gets or sets a value indicating whether payment method additional fee is taxable</div><div class="ttdef"><b>Definition:</b> TaxSettings.cs:93</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_tax_1_1_i_tax_category_service_html_afbf254d2a22b6afc356a801d50833b11"><div class="ttname"><a href="interface_nop_1_1_services_1_1_tax_1_1_i_tax_category_service.html#afbf254d2a22b6afc356a801d50833b11">Nop.Services.Tax.ITaxCategoryService.GetTaxCategoryByIdAsync</a></div><div class="ttdeci">Task&lt; TaxCategory &gt; GetTaxCategoryByIdAsync(int taxCategoryId)</div><div class="ttdoc">Gets a tax category</div></div>
<div class="ttc" id="anamespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models_html_a5d49a2599538bfd3f9e5333e94ca11b0"><div class="ttname"><a href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a5d49a2599538bfd3f9e5333e94ca11b0">Nop.Plugin.Misc.Sendinblue.Models.Name</a></div><div class="ttdeci">string Name</div><div class="ttdef"><b>Definition:</b> SmsModel.cs:32</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_core_1_1_common_helper.html#a7e1b63566b29d344beaacd65866a74c2">Nop.Core.CommonHelper.EnsureMaximumLength()</a>, <a class="el" href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a5d49a2599538bfd3f9e5333e94ca11b0">Nop.Plugin.Misc.Sendinblue.Models.Name</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a2b1db82cb59715d71a9440f4e2671798">Nop.Core.Domain.Orders.Order.PaymentMethodAdditionalFeeExclTax</a> e <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a1a4dc20567fdbe33a1f5a1a6ad9a71a2">Nop.Core.Domain.Orders.Order.PaymentMethodSystemName</a>.</p>

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a6a7e038e19e331939f4c3e8d5734c638">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.GetItemLinesAsync()</a>.</p>

</div>
</div>
<a id="abd4d81b4ba0dc69fe3fdd3db3ae5b84a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd4d81b4ba0dc69fe3fdd3db3ae5b84a">&#9670;&nbsp;</a></span>CreateLineForShippingAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;LineItemModel&gt; Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.CreateLineForShippingAsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a>&#160;</td>
          <td class="paramname"><em>order</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a separate item line for the order shipping charge </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">order</td><td>Order</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the item line </dd></dl>
<div class="fragment"><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        {</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;            var shippingItem = <span class="keyword">new</span> LineItemModel</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;            {</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                amount = order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#ab9419756e1177bf5ec2d18bb7dbeb9a0">OrderShippingExclTax</a>,</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160; </div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                <span class="comment">//item description</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                description = <span class="stringliteral">&quot;Shipping rate&quot;</span>,</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160; </div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                <span class="comment">//set shipping method name as item code</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                itemCode = <a class="code" href="class_nop_1_1_core_1_1_common_helper.html">CommonHelper</a>.<a class="code" href="class_nop_1_1_core_1_1_common_helper.html#a7e1b63566b29d344beaacd65866a74c2">EnsureMaximumLength</a>(order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#ad115f1e2554b7dc2d6fb436290dc299d">ShippingMethod</a>, 50),</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160; </div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                quantity = 1</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;            };</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160; </div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;            <span class="comment">//whether shipping is taxable</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ab787bae510c4b103374c92d8784c7e29">_taxSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html#a88164d4deb7f0e92cc7343b74b369273">ShippingIsTaxable</a>)</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;            {</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                <span class="comment">//try to get tax code</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                var shippingTaxCategory = await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ae17a1adc446632a690405c66184a828b">_taxCategoryService</a>.<a class="code" href="interface_nop_1_1_services_1_1_tax_1_1_i_tax_category_service.html#afbf254d2a22b6afc356a801d50833b11">GetTaxCategoryByIdAsync</a>(<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ab787bae510c4b103374c92d8784c7e29">_taxSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html#a16f5865bd356333af9cf4ff2e4f0833d">ShippingTaxClassId</a>);</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                shippingItem.taxCode = <a class="code" href="class_nop_1_1_core_1_1_common_helper.html">CommonHelper</a>.<a class="code" href="class_nop_1_1_core_1_1_common_helper.html#a7e1b63566b29d344beaacd65866a74c2">EnsureMaximumLength</a>(shippingTaxCategory?.<a class="code" href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a5d49a2599538bfd3f9e5333e94ca11b0">Name</a>, 25);</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;            }</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;            {</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                <span class="comment">//if shipping is non-taxable, set it as exempt</span></div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                shippingItem.exemptionCode = <span class="stringliteral">&quot;Shipping-rate-non-taxable&quot;</span>;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;            }</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160; </div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;            <span class="keywordflow">return</span> shippingItem;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_ab9419756e1177bf5ec2d18bb7dbeb9a0"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#ab9419756e1177bf5ec2d18bb7dbeb9a0">Nop.Core.Domain.Orders.Order.OrderShippingExclTax</a></div><div class="ttdeci">decimal OrderShippingExclTax</div><div class="ttdoc">Gets or sets the order shipping (exclude tax)</div><div class="ttdef"><b>Definition:</b> Order.cs:119</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_ad115f1e2554b7dc2d6fb436290dc299d"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#ad115f1e2554b7dc2d6fb436290dc299d">Nop.Core.Domain.Orders.Order.ShippingMethod</a></div><div class="ttdeci">string ShippingMethod</div><div class="ttdoc">Gets or sets the shipping method</div><div class="ttdef"><b>Definition:</b> Order.cs:264</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings_html_a16f5865bd356333af9cf4ff2e4f0833d"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html#a16f5865bd356333af9cf4ff2e4f0833d">Nop.Core.Domain.Tax.TaxSettings.ShippingTaxClassId</a></div><div class="ttdeci">int ShippingTaxClassId</div><div class="ttdoc">Gets or sets a value indicating the shipping tax class identifier</div><div class="ttdef"><b>Definition:</b> TaxSettings.cs:88</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings_html_a88164d4deb7f0e92cc7343b74b369273"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html#a88164d4deb7f0e92cc7343b74b369273">Nop.Core.Domain.Tax.TaxSettings.ShippingIsTaxable</a></div><div class="ttdeci">bool ShippingIsTaxable</div><div class="ttdoc">Gets or sets a value indicating whether shipping price is taxable</div><div class="ttdef"><b>Definition:</b> TaxSettings.cs:78</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_core_1_1_common_helper.html#a7e1b63566b29d344beaacd65866a74c2">Nop.Core.CommonHelper.EnsureMaximumLength()</a>, <a class="el" href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a5d49a2599538bfd3f9e5333e94ca11b0">Nop.Plugin.Misc.Sendinblue.Models.Name</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#ab9419756e1177bf5ec2d18bb7dbeb9a0">Nop.Core.Domain.Orders.Order.OrderShippingExclTax</a> e <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#ad115f1e2554b7dc2d6fb436290dc299d">Nop.Core.Domain.Orders.Order.ShippingMethod</a>.</p>

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a6a7e038e19e331939f4c3e8d5734c638">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.GetItemLinesAsync()</a>.</p>

</div>
</div>
<a id="a9a6ca21832b94b7ede2bc7453819d2fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a6ca21832b94b7ede2bc7453819d2fb">&#9670;&nbsp;</a></span>CreateLinesForCheckoutAttributes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;IEnumerable&lt;LineItemModel&gt; &gt; Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.CreateLinesForCheckoutAttributes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a>&#160;</td>
          <td class="paramname"><em>order</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create item lines for order checkout attributes </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">order</td><td>Order</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the collection of item lines </dd></dl>
<div class="fragment"><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        {</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;            <span class="comment">//get checkout attributes values</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;            var attributeValues = <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a382e68a9c9fa5c71cbea3dc3633c54af">_checkoutAttributeParser</a>.<a class="code" href="interface_nop_1_1_services_1_1_orders_1_1_i_checkout_attribute_parser.html#adaa37f74c4252061621e11f75002dd28">ParseCheckoutAttributeValues</a>(order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#aa6208b6d6028dcd42ad138918507bf09">CheckoutAttributesXml</a>);</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;            <span class="keywordflow">return</span> await attributeValues.SelectManyAwait(async attributeWithValues =&gt;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;            {</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                var attribute = attributeWithValues.attribute;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                <span class="keywordflow">return</span> (await attributeWithValues.values.SelectAwait(async value =&gt;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                {</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                    <span class="comment">//create line</span></div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                    var checkoutAttributeItem = new LineItemModel</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                    {</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                        amount = value.PriceAdjustment,</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160; </div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                        <span class="comment">//item description</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                        description = CommonHelper.EnsureMaximumLength($<span class="stringliteral">&quot;{attribute.Name} ({value.Name})&quot;</span>, 2096),</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160; </div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                        <span class="comment">//whether the discount to the item was applied</span></div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                        discounted = order.OrderSubTotalDiscountExclTax &gt; decimal.Zero,</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160; </div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                        <span class="comment">//set checkout attribute name and value as item code</span></div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                        itemCode = CommonHelper.EnsureMaximumLength($<span class="stringliteral">&quot;{attribute.Name}-{value.Name}&quot;</span>, 50),</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160; </div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                        quantity = 1</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                    };</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160; </div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                    <span class="comment">//whether checkout attribute is tax exempt</span></div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_blogs.html#a4cf4e33536c481efb4671a4518aa4c4e">if</a> (attribute.IsTaxExempt)</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;                        checkoutAttributeItem.exemptionCode = <span class="stringliteral">&quot;Attribute-non-taxable&quot;</span>;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                    {</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                        <span class="comment">//or try to get tax code</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                        var attributeTaxCategory = await _taxCategoryService.GetTaxCategoryByIdAsync(attribute.TaxCategoryId);</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                        checkoutAttributeItem.taxCode = CommonHelper.EnsureMaximumLength(attributeTaxCategory?.Name, 25);</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;                    }</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160; </div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                    <span class="comment">//whether entity use code is set</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;                    var entityUseCode = await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a2cfafecccf84aefa7eb28149282d69c5">_genericAttributeService</a>.GetAttributeAsync&lt;<span class="keywordtype">string</span>&gt;(attribute, AvalaraTaxDefaults.EntityUseCodeAttribute);</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;                    checkoutAttributeItem.customerUsageType = <a class="code" href="class_nop_1_1_core_1_1_common_helper.html">CommonHelper</a>.<a class="code" href="class_nop_1_1_core_1_1_common_helper.html#a7e1b63566b29d344beaacd65866a74c2">EnsureMaximumLength</a>(entityUseCode, 25);</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160; </div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;                    <span class="keywordflow">return</span> checkoutAttributeItem;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;                }).ToListAsync()).ToAsyncEnumerable();</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;            }).ToListAsync();</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_aa6208b6d6028dcd42ad138918507bf09"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#aa6208b6d6028dcd42ad138918507bf09">Nop.Core.Domain.Orders.Order.CheckoutAttributesXml</a></div><div class="ttdeci">string CheckoutAttributesXml</div><div class="ttdoc">Gets or sets the checkout attributes in XML format</div><div class="ttdef"><b>Definition:</b> Order.cs:169</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_orders_1_1_i_checkout_attribute_parser_html_adaa37f74c4252061621e11f75002dd28"><div class="ttname"><a href="interface_nop_1_1_services_1_1_orders_1_1_i_checkout_attribute_parser.html#adaa37f74c4252061621e11f75002dd28">Nop.Services.Orders.ICheckoutAttributeParser.ParseCheckoutAttributeValues</a></div><div class="ttdeci">IAsyncEnumerable&lt;(CheckoutAttribute attribute, IAsyncEnumerable&lt; CheckoutAttributeValue &gt; values)&gt; ParseCheckoutAttributeValues(string attributesXml)</div><div class="ttdoc">Get checkout attribute values</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_models_1_1_blogs_html_a4cf4e33536c481efb4671a4518aa4c4e"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_models_1_1_blogs.html#a4cf4e33536c481efb4671a4518aa4c4e">Nop.Web.Models.Blogs.if</a></div><div class="ttdeci">if(!string.IsNullOrEmpty(Month))</div><div class="ttdef"><b>Definition:</b> BlogPagingFilteringModel.cs:13</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#aa6208b6d6028dcd42ad138918507bf09">Nop.Core.Domain.Orders.Order.CheckoutAttributesXml</a>, <a class="el" href="class_nop_1_1_core_1_1_common_helper.html#a7e1b63566b29d344beaacd65866a74c2">Nop.Core.CommonHelper.EnsureMaximumLength()</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_defaults.html#a408951868499c80afeac978455ec9f13">Nop.Plugin.Tax.Avalara.AvalaraTaxDefaults.EntityUseCodeAttribute</a> e <a class="el" href="namespace_nop_1_1_web_1_1_models_1_1_blogs.html#a4cf4e33536c481efb4671a4518aa4c4e">Nop.Web.Models.Blogs.if()</a>.</p>

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a6a7e038e19e331939f4c3e8d5734c638">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.GetItemLinesAsync()</a>.</p>

</div>
</div>
<a id="acdbca097672860fb5c5a37020b6a5277"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdbca097672860fb5c5a37020b6a5277">&#9670;&nbsp;</a></span>CreateLinesForOrderItems()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;List&lt;LineItemModel&gt; &gt; Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.CreateLinesForOrderItems </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a>&#160;</td>
          <td class="paramname"><em>order</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IList&lt; <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_item.html">OrderItem</a> &gt;&#160;</td>
          <td class="paramname"><em>orderItems</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create item lines for purchased order items </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">order</td><td>Order</td></tr>
    <tr><td class="paramname">orderItems</td><td>Order items</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the collection of item lines </dd></dl>
<div class="fragment"><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        {</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;            <span class="keywordflow">return</span> await orderItems.SelectAwait(async orderItem =&gt;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;            {</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                var product = await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ae746f3353d58fed103de01a54b76c63a">_productService</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#ab448923cc8826840ac6cd1558a0f2a9d">GetProductByIdAsync</a>(orderItem.ProductId);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160; </div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                var item = <span class="keyword">new</span> LineItemModel</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                {</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                    amount = orderItem.PriceExclTax,</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160; </div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                    <span class="comment">//set name as item description to avoid long values</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                    description = CommonHelper.EnsureMaximumLength(product?.Name, 2096),</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160; </div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                    <span class="comment">//whether the discount to the item was applied</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                    discounted = order.OrderSubTotalDiscountExclTax &gt; decimal.Zero,</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160; </div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                    <span class="comment">//product exemption</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                    exemptionCode = product?.IsTaxExempt ?? false</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                        ? CommonHelper.EnsureMaximumLength($<span class="stringliteral">&quot;Exempt-product-#{product.Id}&quot;</span>, 25)</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                        : string.Empty,</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160; </div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                    <span class="comment">//set SKU as item code</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                    itemCode = product != null</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                        ? CommonHelper.EnsureMaximumLength(await _productService.FormatSkuAsync(product, orderItem.AttributesXml), 50)</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                        : string.Empty,</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160; </div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                    quantity = orderItem.Quantity</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                };</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160; </div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                <span class="comment">//force to use billing address as the tax address one in the accordance with EU VAT rules (if enabled)</span></div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_blogs.html#a4cf4e33536c481efb4671a4518aa4c4e">if</a> (<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ab787bae510c4b103374c92d8784c7e29">_taxSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html#afd627f2ff228d772e5f5f724d9253ca3">EuVatEnabled</a>)</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                {</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                    var customer = await _customerService.GetCustomerByIdAsync(order.CustomerId);</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                    var billingAddress = await _addressService.GetAddressByIdAsync(order.BillingAddressId);</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                    var useEuVatRules = (product?.IsTelecommunicationsOrBroadcastingOrElectronicServices ?? false)</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                        &amp;&amp; ((await _countryService.GetCountryByAddressAsync(billingAddress)</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                            ?? await _countryService.GetCountryByIdAsync(await _genericAttributeService.GetAttributeAsync&lt;int&gt;(customer, NopCustomerDefaults.CountryIdAttribute))</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                            ?? await _countryService.GetCountryByTwoLetterIsoCodeAsync(_geoLookupService.LookupCountryIsoCode(customer.LastIpAddress)))</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                            ?.SubjectToVat ?? false)</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                        &amp;&amp; await _genericAttributeService.GetAttributeAsync&lt;int&gt;(customer, NopCustomerDefaults.VatNumberStatusIdAttribute) != (int)VatNumberStatus.Valid;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160; </div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                    if (useEuVatRules)</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                    {</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                        var address = await MapAddressAsync(billingAddress);</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                        if (address != null)</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                            item.addresses = new AddressesModel { singleLocation = address };</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                    }</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;                }</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160; </div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                <span class="comment">//set tax code</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                var productTaxCategory = await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ae17a1adc446632a690405c66184a828b">_taxCategoryService</a>.<a class="code" href="interface_nop_1_1_services_1_1_tax_1_1_i_tax_category_service.html#afbf254d2a22b6afc356a801d50833b11">GetTaxCategoryByIdAsync</a>(product?.<a class="code" href="namespace_nop_1_1_plugin_1_1_tax_1_1_fixed_or_by_country_state_zip_1_1_models.html#ac5f07b5d3dbe064b68a695438e5ee8d1">TaxCategoryId</a> ?? 0);</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                item.taxCode = <a class="code" href="class_nop_1_1_core_1_1_common_helper.html">CommonHelper</a>.<a class="code" href="class_nop_1_1_core_1_1_common_helper.html#a7e1b63566b29d344beaacd65866a74c2">EnsureMaximumLength</a>(productTaxCategory?.<a class="code" href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a5d49a2599538bfd3f9e5333e94ca11b0">Name</a>, 25);</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160; </div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                <span class="comment">//whether entity use code is set</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                var entityUseCode = product != <span class="keyword">null</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                    ? await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a2cfafecccf84aefa7eb28149282d69c5">_genericAttributeService</a>.GetAttributeAsync&lt;<span class="keywordtype">string</span>&gt;(product, AvalaraTaxDefaults.EntityUseCodeAttribute)</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                    : <span class="keywordtype">string</span>.Empty;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;                item.customerUsageType = <a class="code" href="class_nop_1_1_core_1_1_common_helper.html">CommonHelper</a>.<a class="code" href="class_nop_1_1_core_1_1_common_helper.html#a7e1b63566b29d344beaacd65866a74c2">EnsureMaximumLength</a>(entityUseCode, 25);</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160; </div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                <span class="keywordflow">return</span> item;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;            }).ToListAsync();</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings_html_afd627f2ff228d772e5f5f724d9253ca3"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html#afd627f2ff228d772e5f5f724d9253ca3">Nop.Core.Domain.Tax.TaxSettings.EuVatEnabled</a></div><div class="ttdeci">bool EuVatEnabled</div><div class="ttdoc">Gets or sets a value indicating whether EU VAT (Europe Union Value Added Tax) is enabled</div><div class="ttdef"><b>Definition:</b> TaxSettings.cs:108</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_catalog_1_1_i_product_service_html_ab448923cc8826840ac6cd1558a0f2a9d"><div class="ttname"><a href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#ab448923cc8826840ac6cd1558a0f2a9d">Nop.Services.Catalog.IProductService.GetProductByIdAsync</a></div><div class="ttdeci">Task&lt; Product &gt; GetProductByIdAsync(int productId)</div><div class="ttdoc">Gets product</div></div>
<div class="ttc" id="anamespace_nop_1_1_plugin_1_1_tax_1_1_fixed_or_by_country_state_zip_1_1_models_html_ac5f07b5d3dbe064b68a695438e5ee8d1"><div class="ttname"><a href="namespace_nop_1_1_plugin_1_1_tax_1_1_fixed_or_by_country_state_zip_1_1_models.html#ac5f07b5d3dbe064b68a695438e5ee8d1">Nop.Plugin.Tax.FixedOrByCountryStateZip.Models.TaxCategoryId</a></div><div class="ttdeci">int TaxCategoryId</div><div class="ttdef"><b>Definition:</b> CountryStateZipModel.cs:14</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a2cfafecccf84aefa7eb28149282d69c5">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._genericAttributeService</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ae746f3353d58fed103de01a54b76c63a">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._productService</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ae17a1adc446632a690405c66184a828b">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._taxCategoryService</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ab787bae510c4b103374c92d8784c7e29">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._taxSettings</a>, <a class="el" href="namespace_nop_1_1_core_1_1_domain_1_1_tax.html#a1e41366ee169068a235af7db450cae15ace2c8aed9c2fa0cfbed56cbda4d8bf07">Nop.Core.Domain.Tax.Empty</a>, <a class="el" href="class_nop_1_1_core_1_1_common_helper.html#a7e1b63566b29d344beaacd65866a74c2">Nop.Core.CommonHelper.EnsureMaximumLength()</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_defaults.html#a408951868499c80afeac978455ec9f13">Nop.Plugin.Tax.Avalara.AvalaraTaxDefaults.EntityUseCodeAttribute</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html#afd627f2ff228d772e5f5f724d9253ca3">Nop.Core.Domain.Tax.TaxSettings.EuVatEnabled</a>, <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#ab448923cc8826840ac6cd1558a0f2a9d">Nop.Services.Catalog.IProductService.GetProductByIdAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_tax_1_1_i_tax_category_service.html#afbf254d2a22b6afc356a801d50833b11">Nop.Services.Tax.ITaxCategoryService.GetTaxCategoryByIdAsync()</a>, <a class="el" href="namespace_nop_1_1_web_1_1_models_1_1_blogs.html#a4cf4e33536c481efb4671a4518aa4c4e">Nop.Web.Models.Blogs.if()</a>, <a class="el" href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a5d49a2599538bfd3f9e5333e94ca11b0">Nop.Plugin.Misc.Sendinblue.Models.Name</a> e <a class="el" href="namespace_nop_1_1_plugin_1_1_tax_1_1_fixed_or_by_country_state_zip_1_1_models.html#ac5f07b5d3dbe064b68a695438e5ee8d1">Nop.Plugin.Tax.FixedOrByCountryStateZip.Models.TaxCategoryId</a>.</p>

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a6a7e038e19e331939f4c3e8d5734c638">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.GetItemLinesAsync()</a>.</p>

</div>
</div>
<a id="ad260f372aeecd8ef4fed5a3bbf9c920a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad260f372aeecd8ef4fed5a3bbf9c920a">&#9670;&nbsp;</a></span>CreateOrderTaxTransactionAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;TransactionModel&gt; Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.CreateOrderTaxTransactionAsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a>&#160;</td>
          <td class="paramname"><em>order</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create tax transaction for the placed order </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">order</td><td>Order</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the ransaction </dd></dl>
<div class="fragment"><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;        {</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;            <span class="keywordflow">return</span> await HandleFunctionAsync(async () =&gt;</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;            {</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;                <span class="comment">//prepare transaction model</span></div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;                var address = await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ac070360ad2d9054e933aee48225e807a">GetTaxAddressAsync</a>(order);</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;                var customer = await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a0a6b9036fcf854c95244d669f00cfbc9">_customerService</a>.<a class="code" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#a9d2dc587d116a6f656792c4f4cf22e09">GetCustomerByIdAsync</a>(order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#afc851a198d160f4084e1398b3b4892c3">CustomerId</a>);</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;                var model = await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a2f7dc463425449c1842304011b7f4eca">PrepareTransactionModelAsync</a>(address, customer.Id.ToString(), DocumentType.SalesInvoice);</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;                model.email = <a class="code" href="class_nop_1_1_core_1_1_common_helper.html">CommonHelper</a>.<a class="code" href="class_nop_1_1_core_1_1_common_helper.html#a7e1b63566b29d344beaacd65866a74c2">EnsureMaximumLength</a>(customer.Email, 50);</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;                model.code = <a class="code" href="class_nop_1_1_core_1_1_common_helper.html">CommonHelper</a>.<a class="code" href="class_nop_1_1_core_1_1_common_helper.html#a7e1b63566b29d344beaacd65866a74c2">EnsureMaximumLength</a>(order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a7061d07eef94408c40f32832cf91aafa">CustomOrderNumber</a>, 50);</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;                model.commit = <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#afea35b71eb612597f3d73251bf5e0d76">_avalaraTaxSettings</a>.<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings.html#a27e12b5a6da1d0e023f8b03cfbf9f697">CommitTransactions</a>;</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;                model.discount = order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a1a5925ff7d0a8bd948ff2868a21a6f1b">OrderSubTotalDiscountExclTax</a>;</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160; </div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;                <span class="comment">//set purchased item lines</span></div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;                var orderItems = await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#abbcff7464c8a5a3f24f3a4cc8513c40b">_orderService</a>.<a class="code" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_service.html#aea8bd5179d4144f1fd3da8d17a761de2">GetOrderItemsAsync</a>(order.<a class="code" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Id</a>);</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;                model.lines = await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a6a7e038e19e331939f4c3e8d5734c638">GetItemLinesAsync</a>(order, orderItems);</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160; </div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;                <span class="comment">//set whole request tax exemption</span></div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;                await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a8977bb26a998638a30d2b14827c4833b">PrepareModelTaxExemptionAsync</a>(model, customer);</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160; </div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a33131990e2395c3293c850c1ad732b6d">CreateTransaction</a>(model);</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;            });</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_base_entity_html_a6908f7c042a024f82d7e7947e75bca53"><div class="ttname"><a href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Nop.Core.BaseEntity.Id</a></div><div class="ttdeci">int Id</div><div class="ttdoc">Gets or sets the entity identifier</div><div class="ttdef"><b>Definition:</b> BaseEntity.cs:11</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_a1a5925ff7d0a8bd948ff2868a21a6f1b"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a1a5925ff7d0a8bd948ff2868a21a6f1b">Nop.Core.Domain.Orders.Order.OrderSubTotalDiscountExclTax</a></div><div class="ttdeci">decimal OrderSubTotalDiscountExclTax</div><div class="ttdoc">Gets or sets the order subtotal discount (exclude tax)</div><div class="ttdef"><b>Definition:</b> Order.cs:109</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_a7061d07eef94408c40f32832cf91aafa"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a7061d07eef94408c40f32832cf91aafa">Nop.Core.Domain.Orders.Order.CustomOrderNumber</a></div><div class="ttdeci">string CustomOrderNumber</div><div class="ttdoc">Gets or sets the custom order number without prefix</div><div class="ttdef"><b>Definition:</b> Order.cs:289</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_afc851a198d160f4084e1398b3b4892c3"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#afc851a198d160f4084e1398b3b4892c3">Nop.Core.Domain.Orders.Order.CustomerId</a></div><div class="ttdeci">int CustomerId</div><div class="ttdoc">Gets or sets the customer identifier</div><div class="ttdef"><b>Definition:</b> Order.cs:29</div></div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings_html_a27e12b5a6da1d0e023f8b03cfbf9f697"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings.html#a27e12b5a6da1d0e023f8b03cfbf9f697">Nop.Plugin.Tax.Avalara.AvalaraTaxSettings.CommitTransactions</a></div><div class="ttdeci">bool CommitTransactions</div><div class="ttdoc">Gets or sets a value indicating whether to commit tax transactions right after they are saved</div><div class="ttdef"><b>Definition:</b> AvalaraTaxSettings.cs:34</div></div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager_html_a2f7dc463425449c1842304011b7f4eca"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a2f7dc463425449c1842304011b7f4eca">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.PrepareTransactionModelAsync</a></div><div class="ttdeci">async Task&lt; CreateTransactionModel &gt; PrepareTransactionModelAsync(Address address, string customerCode, DocumentType documentType)</div><div class="ttdoc">Prepare model to create a tax transaction</div><div class="ttdef"><b>Definition:</b> AvalaraTaxManager.cs:286</div></div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager_html_a33131990e2395c3293c850c1ad732b6d"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a33131990e2395c3293c850c1ad732b6d">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.CreateTransaction</a></div><div class="ttdeci">TransactionModel CreateTransaction(CreateTransactionModel model)</div><div class="ttdoc">Create tax transaction</div><div class="ttdef"><b>Definition:</b> AvalaraTaxManager.cs:261</div></div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager_html_a6a7e038e19e331939f4c3e8d5734c638"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a6a7e038e19e331939f4c3e8d5734c638">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.GetItemLinesAsync</a></div><div class="ttdeci">async Task&lt; List&lt; LineItemModel &gt; &gt; GetItemLinesAsync(Order order, IList&lt; OrderItem &gt; orderItems)</div><div class="ttdoc">Get item lines to create tax transaction</div><div class="ttdef"><b>Definition:</b> AvalaraTaxManager.cs:395</div></div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager_html_a8977bb26a998638a30d2b14827c4833b"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a8977bb26a998638a30d2b14827c4833b">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.PrepareModelTaxExemptionAsync</a></div><div class="ttdeci">async Task&lt; CreateTransactionModel &gt; PrepareModelTaxExemptionAsync(CreateTransactionModel model, Customer customer)</div><div class="ttdoc">Prepare model tax exemption details</div><div class="ttdef"><b>Definition:</b> AvalaraTaxManager.cs:627</div></div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager_html_ac070360ad2d9054e933aee48225e807a"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ac070360ad2d9054e933aee48225e807a">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.GetTaxAddressAsync</a></div><div class="ttdeci">async Task&lt; Address &gt; GetTaxAddressAsync(Order order)</div><div class="ttdoc">Get a tax address of the passed order</div><div class="ttdef"><b>Definition:</b> AvalaraTaxManager.cs:331</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_customers_1_1_i_customer_service_html_a9d2dc587d116a6f656792c4f4cf22e09"><div class="ttname"><a href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#a9d2dc587d116a6f656792c4f4cf22e09">Nop.Services.Customers.ICustomerService.GetCustomerByIdAsync</a></div><div class="ttdeci">Task&lt; Customer &gt; GetCustomerByIdAsync(int customerId)</div><div class="ttdoc">Gets a customer</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_orders_1_1_i_order_service_html_aea8bd5179d4144f1fd3da8d17a761de2"><div class="ttname"><a href="interface_nop_1_1_services_1_1_orders_1_1_i_order_service.html#aea8bd5179d4144f1fd3da8d17a761de2">Nop.Services.Orders.IOrderService.GetOrderItemsAsync</a></div><div class="ttdeci">Task&lt; IList&lt; OrderItem &gt; &gt; GetOrderItemsAsync(int orderId, bool? isNotReturnable=null, bool? isShipEnabled=null, int vendorId=0)</div><div class="ttdoc">Gets a list items of order</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#afc851a198d160f4084e1398b3b4892c3">Nop.Core.Domain.Orders.Order.CustomerId</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a7061d07eef94408c40f32832cf91aafa">Nop.Core.Domain.Orders.Order.CustomOrderNumber</a>, <a class="el" href="class_nop_1_1_core_1_1_common_helper.html#a7e1b63566b29d344beaacd65866a74c2">Nop.Core.CommonHelper.EnsureMaximumLength()</a>, <a class="el" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Nop.Core.BaseEntity.Id</a> e <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a1a5925ff7d0a8bd948ff2868a21a6f1b">Nop.Core.Domain.Orders.Order.OrderSubTotalDiscountExclTax</a>.</p>

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_event_consumer.html#aa59d5af35b25361fdd4c8482e2f68372">Nop.Plugin.Tax.Avalara.Services.EventConsumer.HandleEventAsync()</a>.</p>

</div>
</div>
<a id="a1580241a66dfc51b0a53d388980281fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1580241a66dfc51b0a53d388980281fc">&#9670;&nbsp;</a></span>CreateTaxTotalTransactionAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;TransactionModel&gt; Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.CreateTaxTotalTransactionAsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_services_1_1_tax_1_1_tax_total_request.html">TaxTotalRequest</a>&#160;</td>
          <td class="paramname"><em>taxTotalRequest</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create transaction to get tax total for the passed request </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">taxTotalRequest</td><td><a class="el" href="namespace_nop_1_1_plugin_1_1_tax.html">Tax</a> total request</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the ransaction </dd></dl>
<div class="fragment"><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;        {</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;            <span class="keywordflow">return</span> await HandleFunctionAsync(async () =&gt;</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;            {</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;                <span class="comment">//create dummy order to create tax transaction</span></div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;                var customer = taxTotalRequest.<a class="code" href="class_nop_1_1_services_1_1_tax_1_1_tax_total_request.html#a1624b28e4322a5e00bbdcf09ef92b064">Customer</a>;</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;                var order = <span class="keyword">new</span> <a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a> { <a class="code" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aaa4303994371e93df77abec6d473c7e8">CustomerId</a> = customer.Id };</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160; </div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;                <span class="comment">//addresses</span></div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;                order.BillingAddressId = customer.BillingAddressId ?? 0;</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;                order.ShippingAddressId = customer.ShippingAddressId;</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a6983d8e0c2a004f337bdc9134819ea29">_shippingSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipping_settings.html#a97d22567945cbe195a3063c4262e856a">AllowPickupInStore</a>)</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;                {</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;                    var pickupPoint = await _genericAttributeService</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;                        .GetAttributeAsync&lt;PickupPoint&gt;(customer, NopCustomerDefaults.SelectedPickupPointAttribute, taxTotalRequest.StoreId);</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;                    if (pickupPoint != null)</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;                    {</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;                        var country = await _countryService.GetCountryByTwoLetterIsoCodeAsync(pickupPoint.CountryCode);</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;                        var state = await _stateProvinceService.GetStateProvinceByAbbreviationAsync(pickupPoint.StateAbbreviation, country?.Id);</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;                        var pickupAddress = new Address</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;                        {</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;                            Address1 = pickupPoint.Address,</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;                            City = pickupPoint.City,</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;                            CountryId = country?.Id,</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;                            StateProvinceId = state?.Id,</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;                            ZipPostalCode = pickupPoint.ZipPostalCode,</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;                            CreatedOnUtc = DateTime.UtcNow,</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;                        };</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;                        await _addressService.InsertAddressAsync(pickupAddress);</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;                        order.PickupAddressId = pickupAddress.Id;</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;                    }</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;                }</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160; </div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;                <span class="comment">//checkout attributes</span></div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;                order.CheckoutAttributesXml = await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a2cfafecccf84aefa7eb28149282d69c5">_genericAttributeService</a></div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;                    .GetAttributeAsync&lt;<span class="keywordtype">string</span>&gt;(customer, <a class="code" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html">NopCustomerDefaults</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html#a7fad329b67b90c06f515599945aa20ef">CheckoutAttributes</a>, taxTotalRequest.<a class="code" href="class_nop_1_1_services_1_1_tax_1_1_tax_total_request.html#a267a0f5c3f96554eed88913aaa1b3bcd">StoreId</a>);</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160; </div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;                <span class="comment">//shipping method</span></div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;                order.ShippingMethod = (await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a2cfafecccf84aefa7eb28149282d69c5">_genericAttributeService</a></div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;                    .GetAttributeAsync&lt;<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipping_option.html">ShippingOption</a>&gt;(customer, <a class="code" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html">NopCustomerDefaults</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html#a06d4f563dd9b4b4a2af69a17561fa29d">SelectedShippingOptionAttribute</a>, taxTotalRequest.<a class="code" href="class_nop_1_1_services_1_1_tax_1_1_tax_total_request.html#a267a0f5c3f96554eed88913aaa1b3bcd">StoreId</a>))?.Name;</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;                order.OrderShippingExclTax = (await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a94de62fdd499ed7e257fdd474b136de4">_orderTotalCalculationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_total_calculation_service.html#ad04b78079fef3880d2a2040cab84bb99">GetShoppingCartShippingTotalAsync</a>(taxTotalRequest.<a class="code" href="class_nop_1_1_services_1_1_tax_1_1_tax_total_request.html#a97f1d641c1f3090316acfa5fb3306b91">ShoppingCart</a>, <span class="keyword">false</span>)).shippingTotal ?? 0;</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160; </div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;                <span class="comment">//payment method</span></div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;                <span class="keywordflow">if</span> (taxTotalRequest.<a class="code" href="class_nop_1_1_services_1_1_tax_1_1_tax_total_request.html#a4c58aa67b918baecda01c3ca25247844">UsePaymentMethodAdditionalFee</a>)</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;                {</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;                    order.PaymentMethodSystemName = await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a2cfafecccf84aefa7eb28149282d69c5">_genericAttributeService</a></div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;                        .GetAttributeAsync&lt;<span class="keywordtype">string</span>&gt;(customer, <a class="code" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html">NopCustomerDefaults</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html#ab89a77d42318558891f7e72e87f17fbd">SelectedPaymentMethodAttribute</a>, taxTotalRequest.<a class="code" href="class_nop_1_1_services_1_1_tax_1_1_tax_total_request.html#a267a0f5c3f96554eed88913aaa1b3bcd">StoreId</a>);</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;                    <span class="keywordflow">if</span> (!<span class="keywordtype">string</span>.IsNullOrEmpty(order.PaymentMethodSystemName))</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;                        order.PaymentMethodAdditionalFeeExclTax = await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#af9c9f7af73d7745d1d9c63021d1780be">_paymentService</a>.<a class="code" href="interface_nop_1_1_services_1_1_payments_1_1_i_payment_service.html#a9fc76bc9d2ffa2e9b6e3b64e4c985068">GetAdditionalHandlingFeeAsync</a>(taxTotalRequest.<a class="code" href="class_nop_1_1_services_1_1_tax_1_1_tax_total_request.html#a97f1d641c1f3090316acfa5fb3306b91">ShoppingCart</a>, order.PaymentMethodSystemName);</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;                }</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160; </div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;                <span class="comment">//discount amount</span></div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;                var (orderSubTotalDiscountExclTax, _, _, _, _) = await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a94de62fdd499ed7e257fdd474b136de4">_orderTotalCalculationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_total_calculation_service.html#ababbfde7e0273a5482b3997cd7b1e859">GetShoppingCartSubTotalAsync</a>(taxTotalRequest.<a class="code" href="class_nop_1_1_services_1_1_tax_1_1_tax_total_request.html#a97f1d641c1f3090316acfa5fb3306b91">ShoppingCart</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;                order.OrderSubTotalDiscountExclTax = orderSubTotalDiscountExclTax;</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160; </div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;                <span class="comment">//create dummy order items</span></div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;                var orderItems = await taxTotalRequest.<a class="code" href="class_nop_1_1_services_1_1_tax_1_1_tax_total_request.html#a97f1d641c1f3090316acfa5fb3306b91">ShoppingCart</a>.SelectAwait(async cartItem =&gt; <span class="keyword">new</span> <a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_item.html">OrderItem</a></div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;                {</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#ae45ef18dd721dd3c34b1c4eb15a5ca0c">AttributesXml</a> = cartItem.AttributesXml,</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#a5f43f2b53838c9c8c34cf27f06f5e78c">ProductId</a> = cartItem.ProductId,</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#a9bfc9e3c5477ae8ce198f4ed303671d1">Quantity</a> = cartItem.Quantity,</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;                    PriceExclTax = (await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#af7b9fd3325f36dad66062d20e8bf2c5d">_shoppingCartService</a>.<a class="code" href="interface_nop_1_1_services_1_1_orders_1_1_i_shopping_cart_service.html#ace6ba6d15c59339c0ffdd2dac06371af">GetSubTotalAsync</a>(cartItem, <span class="keyword">true</span>)).subTotal</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;                }).ToListAsync();</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160; </div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;                <span class="comment">//prepare transaction model</span></div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;                var address = await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ac070360ad2d9054e933aee48225e807a">GetTaxAddressAsync</a>(order);</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;                var model = await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a2f7dc463425449c1842304011b7f4eca">PrepareTransactionModelAsync</a>(address, customer.Id.ToString(), DocumentType.SalesOrder);</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;                model.email = <a class="code" href="class_nop_1_1_core_1_1_common_helper.html">CommonHelper</a>.<a class="code" href="class_nop_1_1_core_1_1_common_helper.html#a7e1b63566b29d344beaacd65866a74c2">EnsureMaximumLength</a>(customer.Email, 50);</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;                model.discount = order.OrderSubTotalDiscountExclTax;</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160; </div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;                <span class="comment">//set purchased item lines</span></div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;                model.lines = await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a6a7e038e19e331939f4c3e8d5734c638">GetItemLinesAsync</a>(order, orderItems);</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160; </div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;                <span class="comment">//set whole request tax exemption</span></div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;                await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a8977bb26a998638a30d2b14827c4833b">PrepareModelTaxExemptionAsync</a>(model, customer);</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160; </div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a33131990e2395c3293c850c1ad732b6d">CreateTransaction</a>(model);</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;            });</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults_html"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html">Nop.Core.Domain.Customers.NopCustomerDefaults</a></div><div class="ttdoc">Represents default values related to customers data</div><div class="ttdef"><b>Definition:</b> NopCustomerDefaults.cs:7</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults_html_a06d4f563dd9b4b4a2af69a17561fa29d"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html#a06d4f563dd9b4b4a2af69a17561fa29d">Nop.Core.Domain.Customers.NopCustomerDefaults.SelectedShippingOptionAttribute</a></div><div class="ttdeci">static string SelectedShippingOptionAttribute</div><div class="ttdoc">Gets a name of generic attribute to store the value of 'SelectedShippingOption'</div><div class="ttdef"><b>Definition:</b> NopCustomerDefaults.cs:226</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults_html_a7fad329b67b90c06f515599945aa20ef"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html#a7fad329b67b90c06f515599945aa20ef">Nop.Core.Domain.Customers.NopCustomerDefaults.CheckoutAttributes</a></div><div class="ttdeci">static string CheckoutAttributes</div><div class="ttdoc">Gets a name of generic attribute to store the value of 'CheckoutAttributes'</div><div class="ttdef"><b>Definition:</b> NopCustomerDefaults.cs:236</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults_html_ab89a77d42318558891f7e72e87f17fbd"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html#ab89a77d42318558891f7e72e87f17fbd">Nop.Core.Domain.Customers.NopCustomerDefaults.SelectedPaymentMethodAttribute</a></div><div class="ttdeci">static string SelectedPaymentMethodAttribute</div><div class="ttdoc">Gets a name of generic attribute to store the value of 'SelectedPaymentMethod'</div><div class="ttdef"><b>Definition:</b> NopCustomerDefaults.cs:221</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Nop.Core.Domain.Orders.Order</a></div><div class="ttdoc">Represents an order</div><div class="ttdef"><b>Definition:</b> Order.cs:13</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_item_html"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_item.html">Nop.Core.Domain.Orders.OrderItem</a></div><div class="ttdoc">Represents an order item</div><div class="ttdef"><b>Definition:</b> OrderItem.cs:9</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipping_option_html"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipping_option.html">Nop.Core.Domain.Shipping.ShippingOption</a></div><div class="ttdoc">Represents a shipping option</div><div class="ttdef"><b>Definition:</b> ShippingOption.cs:7</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipping_settings_html_a97d22567945cbe195a3063c4262e856a"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipping_settings.html#a97d22567945cbe195a3063c4262e856a">Nop.Core.Domain.Shipping.ShippingSettings.AllowPickupInStore</a></div><div class="ttdeci">bool AllowPickupInStore</div><div class="ttdoc">Gets or sets a value indicating whether customers can choose &quot;Pick Up in Store&quot; option during checkou...</div><div class="ttdef"><b>Definition:</b> ShippingSettings.cs:35</div></div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_tax_1_1_tax_total_request_html_a1624b28e4322a5e00bbdcf09ef92b064"><div class="ttname"><a href="class_nop_1_1_services_1_1_tax_1_1_tax_total_request.html#a1624b28e4322a5e00bbdcf09ef92b064">Nop.Services.Tax.TaxTotalRequest.Customer</a></div><div class="ttdeci">Customer Customer</div><div class="ttdoc">Gets or sets a customer</div><div class="ttdef"><b>Definition:</b> TaxTotalRequest.cs:31</div></div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_tax_1_1_tax_total_request_html_a267a0f5c3f96554eed88913aaa1b3bcd"><div class="ttname"><a href="class_nop_1_1_services_1_1_tax_1_1_tax_total_request.html#a267a0f5c3f96554eed88913aaa1b3bcd">Nop.Services.Tax.TaxTotalRequest.StoreId</a></div><div class="ttdeci">int StoreId</div><div class="ttdoc">Gets or sets a store identifier</div><div class="ttdef"><b>Definition:</b> TaxTotalRequest.cs:41</div></div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_tax_1_1_tax_total_request_html_a4c58aa67b918baecda01c3ca25247844"><div class="ttname"><a href="class_nop_1_1_services_1_1_tax_1_1_tax_total_request.html#a4c58aa67b918baecda01c3ca25247844">Nop.Services.Tax.TaxTotalRequest.UsePaymentMethodAdditionalFee</a></div><div class="ttdeci">bool UsePaymentMethodAdditionalFee</div><div class="ttdoc">Gets or sets a value indicating whether to use payment method additional fee</div><div class="ttdef"><b>Definition:</b> TaxTotalRequest.cs:36</div></div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_tax_1_1_tax_total_request_html_a97f1d641c1f3090316acfa5fb3306b91"><div class="ttname"><a href="class_nop_1_1_services_1_1_tax_1_1_tax_total_request.html#a97f1d641c1f3090316acfa5fb3306b91">Nop.Services.Tax.TaxTotalRequest.ShoppingCart</a></div><div class="ttdeci">IList&lt; ShoppingCartItem &gt; ShoppingCart</div><div class="ttdoc">Gets or sets a shopping cart</div><div class="ttdef"><b>Definition:</b> TaxTotalRequest.cs:26</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_orders_1_1_i_order_total_calculation_service_html_ababbfde7e0273a5482b3997cd7b1e859"><div class="ttname"><a href="interface_nop_1_1_services_1_1_orders_1_1_i_order_total_calculation_service.html#ababbfde7e0273a5482b3997cd7b1e859">Nop.Services.Orders.IOrderTotalCalculationService.GetShoppingCartSubTotalAsync</a></div><div class="ttdeci">Task&lt;(decimal discountAmount, List&lt; Discount &gt; appliedDiscounts, decimal subTotalWithoutDiscount, decimal subTotalWithDiscount, SortedDictionary&lt; decimal, decimal &gt; taxRates)&gt; GetShoppingCartSubTotalAsync(IList&lt; ShoppingCartItem &gt; cart, bool includingTax)</div><div class="ttdoc">Gets shopping cart subtotal</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_orders_1_1_i_order_total_calculation_service_html_ad04b78079fef3880d2a2040cab84bb99"><div class="ttname"><a href="interface_nop_1_1_services_1_1_orders_1_1_i_order_total_calculation_service.html#ad04b78079fef3880d2a2040cab84bb99">Nop.Services.Orders.IOrderTotalCalculationService.GetShoppingCartShippingTotalAsync</a></div><div class="ttdeci">Task&lt; decimal?&gt; GetShoppingCartShippingTotalAsync(IList&lt; ShoppingCartItem &gt; cart)</div><div class="ttdoc">Gets shopping cart shipping total</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_orders_1_1_i_shopping_cart_service_html_ace6ba6d15c59339c0ffdd2dac06371af"><div class="ttname"><a href="interface_nop_1_1_services_1_1_orders_1_1_i_shopping_cart_service.html#ace6ba6d15c59339c0ffdd2dac06371af">Nop.Services.Orders.IShoppingCartService.GetSubTotalAsync</a></div><div class="ttdeci">Task&lt;(decimal subTotal, decimal discountAmount, List&lt; Discount &gt; appliedDiscounts, int? maximumDiscountQty)&gt; GetSubTotalAsync(ShoppingCartItem shoppingCartItem, bool includeDiscounts)</div><div class="ttdoc">Gets the shopping cart item sub total</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_payments_1_1_i_payment_service_html_a9fc76bc9d2ffa2e9b6e3b64e4c985068"><div class="ttname"><a href="interface_nop_1_1_services_1_1_payments_1_1_i_payment_service.html#a9fc76bc9d2ffa2e9b6e3b64e4c985068">Nop.Services.Payments.IPaymentService.GetAdditionalHandlingFeeAsync</a></div><div class="ttdeci">Task&lt; decimal &gt; GetAdditionalHandlingFeeAsync(IList&lt; ShoppingCartItem &gt; cart, string paymentMethodSystemName)</div><div class="ttdoc">Gets an additional handling fee of a payment method</div></div>
<div class="ttc" id="anamespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log_html_aaa4303994371e93df77abec6d473c7e8"><div class="ttname"><a href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aaa4303994371e93df77abec6d473c7e8">Nop.Plugin.Tax.Avalara.Models.Log.CustomerId</a></div><div class="ttdeci">int? CustomerId</div><div class="ttdef"><b>Definition:</b> TaxTransactionLogModel.cs:27</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog_html_a5f43f2b53838c9c8c34cf27f06f5e78c"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#a5f43f2b53838c9c8c34cf27f06f5e78c">Nop.Web.Areas.Admin.Models.Catalog.ProductId</a></div><div class="ttdeci">int ProductId</div><div class="ttdef"><b>Definition:</b> AddAssociatedProductModel.cs:21</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog_html_a9bfc9e3c5477ae8ce198f4ed303671d1"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#a9bfc9e3c5477ae8ce198f4ed303671d1">Nop.Web.Areas.Admin.Models.Catalog.Quantity</a></div><div class="ttdeci">int Quantity</div><div class="ttdef"><b>Definition:</b> TierPriceModel.cs:44</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog_html_ae45ef18dd721dd3c34b1c4eb15a5ca0c"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#ae45ef18dd721dd3c34b1c4eb15a5ca0c">Nop.Web.Areas.Admin.Models.Catalog.AttributesXml</a></div><div class="ttdeci">string AttributesXml</div><div class="ttdef"><b>Definition:</b> ProductAttributeCombinationModel.cs:30</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#ae45ef18dd721dd3c34b1c4eb15a5ca0c">Nop.Web.Areas.Admin.Models.Catalog.AttributesXml</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html#a7fad329b67b90c06f515599945aa20ef">Nop.Core.Domain.Customers.NopCustomerDefaults.CheckoutAttributes</a>, <a class="el" href="class_nop_1_1_services_1_1_tax_1_1_tax_total_request.html#a1624b28e4322a5e00bbdcf09ef92b064">Nop.Services.Tax.TaxTotalRequest.Customer</a>, <a class="el" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aaa4303994371e93df77abec6d473c7e8">Nop.Plugin.Tax.Avalara.Models.Log.CustomerId</a>, <a class="el" href="class_nop_1_1_core_1_1_common_helper.html#a7e1b63566b29d344beaacd65866a74c2">Nop.Core.CommonHelper.EnsureMaximumLength()</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#a5f43f2b53838c9c8c34cf27f06f5e78c">Nop.Web.Areas.Admin.Models.Catalog.ProductId</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#a9bfc9e3c5477ae8ce198f4ed303671d1">Nop.Web.Areas.Admin.Models.Catalog.Quantity</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html#ab89a77d42318558891f7e72e87f17fbd">Nop.Core.Domain.Customers.NopCustomerDefaults.SelectedPaymentMethodAttribute</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html#a06d4f563dd9b4b4a2af69a17561fa29d">Nop.Core.Domain.Customers.NopCustomerDefaults.SelectedShippingOptionAttribute</a>, <a class="el" href="class_nop_1_1_services_1_1_tax_1_1_tax_total_request.html#a97f1d641c1f3090316acfa5fb3306b91">Nop.Services.Tax.TaxTotalRequest.ShoppingCart</a>, <a class="el" href="class_nop_1_1_services_1_1_tax_1_1_tax_total_request.html#a267a0f5c3f96554eed88913aaa1b3bcd">Nop.Services.Tax.TaxTotalRequest.StoreId</a> e <a class="el" href="class_nop_1_1_services_1_1_tax_1_1_tax_total_request.html#a4c58aa67b918baecda01c3ca25247844">Nop.Services.Tax.TaxTotalRequest.UsePaymentMethodAdditionalFee</a>.</p>

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_provider.html#a641f3f2c7a9cb0e766da34a73445ea75">Nop.Plugin.Tax.Avalara.AvalaraTaxProvider.GetTaxTotalAsync()</a>.</p>

</div>
</div>
<a id="a919f128544d1a82e1c5ae31cba050058"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a919f128544d1a82e1c5ae31cba050058">&#9670;&nbsp;</a></span>CreateTestTaxTransactionAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;TransactionModel&gt; Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.CreateTestTaxTransactionAsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address.html">Address</a>&#160;</td>
          <td class="paramname"><em>address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create test tax transaction </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td><a class="el" href="namespace_nop_1_1_plugin_1_1_tax.html">Tax</a> address</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the ransaction </dd></dl>
<div class="fragment"><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;        {</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;            <span class="keywordflow">return</span> await HandleFunctionAsync(async () =&gt;</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;            {</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;                <span class="comment">//create tax transaction for a simplified item and without saving </span></div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;                var model = await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a2f7dc463425449c1842304011b7f4eca">PrepareTransactionModelAsync</a>(address, (await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ad821e4dff925e557f8a7490bf498916e">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">GetCurrentCustomerAsync</a>()).Id.ToString(), DocumentType.SalesOrder);</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;                model.lines = <span class="keyword">new</span> List&lt;LineItemModel&gt; { <span class="keyword">new</span> LineItemModel { amount = 100, quantity = 1 } };</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a33131990e2395c3293c850c1ad732b6d">CreateTransaction</a>(model);</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;            });</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;        }</div>
<div class="ttc" id="ainterface_nop_1_1_core_1_1_i_work_context_html_a1117b7898ed056459a9ff3f0446bbbe1"><div class="ttname"><a href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">Nop.Core.IWorkContext.GetCurrentCustomerAsync</a></div><div class="ttdeci">Task&lt; Customer &gt; GetCurrentCustomerAsync()</div><div class="ttdoc">Gets the current customer</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Nop.Core.BaseEntity.Id</a>.</p>

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_controllers_1_1_avalara_controller.html#adc77085cfc777b541db2adf17d0c78e9">Nop.Plugin.Tax.Avalara.Controllers.AvalaraController.TestTaxRequest()</a>.</p>

</div>
</div>
<a id="a33131990e2395c3293c850c1ad732b6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33131990e2395c3293c850c1ad732b6d">&#9670;&nbsp;</a></span>CreateTransaction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TransactionModel Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.CreateTransaction </td>
          <td>(</td>
          <td class="paramtype">CreateTransactionModel&#160;</td>
          <td class="paramname"><em>model</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create tax transaction </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">model</td><td>Transaction details</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>Created transaction</dd></dl>
<div class="fragment"><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        {</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            var transaction = <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a7042ed6150237074c5143bb88ff25cf7">ServiceClient</a>.CreateTransaction(<span class="keyword">null</span>, model)</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="class_nop_1_1_core_1_1_nop_exception.html">NopException</a>(<span class="stringliteral">&quot;No response from the service&quot;</span>);</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160; </div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;            <span class="comment">//whether there are any errors</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            <span class="keywordflow">if</span> (transaction.messages?.Any() ?? <span class="keyword">false</span>)</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            {</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                var message = transaction.messages.Aggregate(<span class="keywordtype">string</span>.Empty, (error, message) =&gt; $<span class="stringliteral">&quot;{error}{message.summary}{Environment.NewLine}&quot;</span>);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="class_nop_1_1_core_1_1_nop_exception.html">NopException</a>(message);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;            }</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160; </div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;            <span class="keywordflow">return</span> transaction;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_nop_exception_html"><div class="ttname"><a href="class_nop_1_1_core_1_1_nop_exception.html">Nop.Core.NopException</a></div><div class="ttdoc">Represents errors that occur during application execution</div><div class="ttdef"><b>Definition:</b> NopException.cs:11</div></div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager_html_a7042ed6150237074c5143bb88ff25cf7"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a7042ed6150237074c5143bb88ff25cf7">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.ServiceClient</a></div><div class="ttdeci">AvaTaxClient? ServiceClient</div><div class="ttdoc">Gets client that connects to Avalara services</div><div class="ttdef"><b>Definition:</b> AvalaraTaxManager.cs:150</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="namespace_nop_1_1_core_1_1_domain_1_1_tax.html#a1e41366ee169068a235af7db450cae15ace2c8aed9c2fa0cfbed56cbda4d8bf07">Nop.Core.Domain.Tax.Empty</a> e <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a7042ed6150237074c5143bb88ff25cf7">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.ServiceClient</a>.</p>

</div>
</div>
<a id="a97c80783fc43fc3d0e0e9bf558e54efa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97c80783fc43fc3d0e0e9bf558e54efa">&#9670;&nbsp;</a></span>DeleteAttributesAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a> Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.DeleteAttributesAsync </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete generic attributes used in the plugin </p>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation</dd></dl>
<div class="fragment"><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;        {</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;            await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ad61519b53075854d4cced04bb1d19c81">DeleteSystemTaxCodesAsync</a>();</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160; </div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;            await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a0bc1da90b62d89ad6075a1310f566e5b">_genericAttributeRepository</a>.<a class="code" href="interface_nop_1_1_data_1_1_i_repository.html#a8e54f00f8fa70b8ee758015f453e067e">DeleteAsync</a>(attribute =&gt; attribute.Key == AvalaraTaxDefaults.EntityUseCodeAttribute ||</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;                attribute.Key == AvalaraTaxDefaults.TaxCodeTypeAttribute || attribute.Key == AvalaraTaxDefaults.TaxCodeDescriptionAttribute);</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager_html_ad61519b53075854d4cced04bb1d19c81"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ad61519b53075854d4cced04bb1d19c81">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.DeleteSystemTaxCodesAsync</a></div><div class="ttdeci">async Task&lt; bool &gt; DeleteSystemTaxCodesAsync()</div><div class="ttdoc">Delete pre-defined system tax codes</div><div class="ttdef"><b>Definition:</b> AvalaraTaxManager.cs:844</div></div>
<div class="ttc" id="ainterface_nop_1_1_data_1_1_i_repository_html_a8e54f00f8fa70b8ee758015f453e067e"><div class="ttname"><a href="interface_nop_1_1_data_1_1_i_repository.html#a8e54f00f8fa70b8ee758015f453e067e">Nop.Data.IRepository.DeleteAsync</a></div><div class="ttdeci">Task DeleteAsync(TEntity entity, bool publishEvent=true)</div><div class="ttdoc">Delete the entity entry</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_defaults.html#a408951868499c80afeac978455ec9f13">Nop.Plugin.Tax.Avalara.AvalaraTaxDefaults.EntityUseCodeAttribute</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_defaults.html#ade2a7afc460e4a43c5dc9e6ee476ed3e">Nop.Plugin.Tax.Avalara.AvalaraTaxDefaults.TaxCodeDescriptionAttribute</a> e <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_defaults.html#a80f20e8b344785188ccc0cc7f806ba99">Nop.Plugin.Tax.Avalara.AvalaraTaxDefaults.TaxCodeTypeAttribute</a>.</p>

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_provider.html#adf453271d7a33dbb33cb81f4fff6ba91">Nop.Plugin.Tax.Avalara.AvalaraTaxProvider.UninstallAsync()</a>.</p>

</div>
</div>
<a id="ad61519b53075854d4cced04bb1d19c81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad61519b53075854d4cced04bb1d19c81">&#9670;&nbsp;</a></span>DeleteSystemTaxCodesAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;bool&gt; Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.DeleteSystemTaxCodesAsync </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete pre-defined system tax codes </p>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the result </dd></dl>
<div class="fragment"><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;        {</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;            <span class="keywordflow">return</span> await HandleFunctionAsync(async () =&gt;</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;            {</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;                <span class="comment">//get Avalara pre-defined system tax codes (only active)</span></div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;                var systemTaxCodesResult = await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a7042ed6150237074c5143bb88ff25cf7">ServiceClient</a>.ListTaxCodesAsync(<span class="stringliteral">&quot;isActive eq true&quot;</span>, <span class="keyword">null</span>, <span class="keyword">null</span>, <span class="keyword">null</span>)</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;                    ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="class_nop_1_1_core_1_1_nop_exception.html">NopException</a>(<span class="stringliteral">&quot;No response from the service&quot;</span>);</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160; </div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;                var systemTaxCodes = systemTaxCodesResult.value?.Select(taxCode =&gt; taxCode.taxCode).ToList();</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;                <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_blogs.html#a4cf4e33536c481efb4671a4518aa4c4e">if</a> (!systemTaxCodes?.Any() ?? <span class="keyword">true</span>)</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160; </div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                <span class="comment">//prepare tax categories to delete</span></div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;                var categoriesIds = await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a9f14a0aa046aa50f373fdef5f81317c9">_taxCategoryRepository</a>.<a class="code" href="interface_nop_1_1_data_1_1_i_repository.html#a60d582452490ce8497c2808acbab5f6c">Table</a></div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;                    .Where(taxCategory =&gt; systemTaxCodes.Contains(taxCategory.Name))</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;                    .Select(taxCategory =&gt; taxCategory.Id)</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;                    .ToListAsync();</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160; </div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;                <span class="comment">//delete tax categories</span></div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;                await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a9f14a0aa046aa50f373fdef5f81317c9">_taxCategoryRepository</a>.<a class="code" href="interface_nop_1_1_data_1_1_i_repository.html#a8e54f00f8fa70b8ee758015f453e067e">DeleteAsync</a>(taxCategory =&gt; categoriesIds.Contains(taxCategory.Id));</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;                await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#aa0cf8edcf24193f7dfe5a7a3b83a9339">_staticCacheManager</a>.<a class="code" href="interface_nop_1_1_core_1_1_caching_1_1_i_static_cache_manager.html#a66bfc66a4787853051f5f4d2df8739a7">RemoveByPrefixAsync</a>(<a class="code" href="class_nop_1_1_core_1_1_caching_1_1_nop_entity_cache_defaults.html">NopEntityCacheDefaults&lt;TaxCategory&gt;</a>.<a class="code" href="class_nop_1_1_core_1_1_caching_1_1_nop_entity_cache_defaults.html#af1e1bc97b75f0a4a601c4ad10775598c">Prefix</a>);</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160; </div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;                <span class="comment">//delete generic attributes</span></div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;                await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a0bc1da90b62d89ad6075a1310f566e5b">_genericAttributeRepository</a></div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;                    .<a class="code" href="interface_nop_1_1_data_1_1_i_repository.html#a8e54f00f8fa70b8ee758015f453e067e">DeleteAsync</a>(attribute =&gt; attribute.KeyGroup == nameof(<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_category.html">TaxCategory</a>) &amp;&amp; categoriesIds.Contains(attribute.EntityId));</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160; </div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;            });</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_caching_1_1_nop_entity_cache_defaults_html"><div class="ttname"><a href="class_nop_1_1_core_1_1_caching_1_1_nop_entity_cache_defaults.html">Nop.Core.Caching.NopEntityCacheDefaults</a></div><div class="ttdoc">Represents default values related to caching entities</div><div class="ttdef"><b>Definition:</b> NopEntityCacheDefaults.cs:7</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_caching_1_1_nop_entity_cache_defaults_html_af1e1bc97b75f0a4a601c4ad10775598c"><div class="ttname"><a href="class_nop_1_1_core_1_1_caching_1_1_nop_entity_cache_defaults.html#af1e1bc97b75f0a4a601c4ad10775598c">Nop.Core.Caching.NopEntityCacheDefaults.Prefix</a></div><div class="ttdeci">static string Prefix</div><div class="ttdoc">Gets a key pattern to clear cache</div><div class="ttdef"><b>Definition:</b> NopEntityCacheDefaults.cs:37</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_category_html"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_category.html">Nop.Core.Domain.Tax.TaxCategory</a></div><div class="ttdoc">Represents a tax category</div><div class="ttdef"><b>Definition:</b> TaxCategory.cs:7</div></div>
<div class="ttc" id="ainterface_nop_1_1_core_1_1_caching_1_1_i_static_cache_manager_html_a66bfc66a4787853051f5f4d2df8739a7"><div class="ttname"><a href="interface_nop_1_1_core_1_1_caching_1_1_i_static_cache_manager.html#a66bfc66a4787853051f5f4d2df8739a7">Nop.Core.Caching.IStaticCacheManager.RemoveByPrefixAsync</a></div><div class="ttdeci">Task RemoveByPrefixAsync(string prefix, params object[] prefixParameters)</div><div class="ttdoc">Remove items by cache key prefix</div></div>
<div class="ttc" id="ainterface_nop_1_1_data_1_1_i_repository_html_a60d582452490ce8497c2808acbab5f6c"><div class="ttname"><a href="interface_nop_1_1_data_1_1_i_repository.html#a60d582452490ce8497c2808acbab5f6c">Nop.Data.IRepository.Table</a></div><div class="ttdeci">IQueryable&lt; TEntity &gt; Table</div><div class="ttdoc">Gets a table</div><div class="ttdef"><b>Definition:</b> IRepository.cs:210</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="namespace_nop_1_1_web_1_1_models_1_1_blogs.html#a4cf4e33536c481efb4671a4518aa4c4e">Nop.Web.Models.Blogs.if()</a> e <a class="el" href="class_nop_1_1_core_1_1_caching_1_1_nop_entity_cache_defaults.html#af1e1bc97b75f0a4a601c4ad10775598c">Nop.Core.Caching.NopEntityCacheDefaults&lt; TEntity &gt;.Prefix</a>.</p>

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_controllers_1_1_avalara_tax_controller.html#a4409b5595cd41d11d061ea7459601fb9">Nop.Plugin.Tax.Avalara.Controllers.AvalaraTaxController.DeleteSystemTaxCodes()</a>.</p>

</div>
</div>
<a id="a427b08d15750783b63446b3b61b18165"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a427b08d15750783b63446b3b61b18165">&#9670;&nbsp;</a></span>DeleteTaxTransactionAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a> Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.DeleteTaxTransactionAsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a>&#160;</td>
          <td class="paramname"><em>order</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete tax transaction </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">order</td><td>Order</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation</dd></dl>
<div class="fragment"><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;        {</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;            await HandleFunctionAsync(() =&gt;</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;            {</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;                <span class="keywordflow">if</span> (<span class="keywordtype">string</span>.IsNullOrEmpty(<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#afea35b71eb612597f3d73251bf5e0d76">_avalaraTaxSettings</a>.<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings.html#a8f9ca0d844ea9e09b83bd488341cb093">CompanyCode</a>) || <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#afea35b71eb612597f3d73251bf5e0d76">_avalaraTaxSettings</a>.<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings.html#a8f9ca0d844ea9e09b83bd488341cb093">CompanyCode</a>.Equals(Guid.Empty.ToString()))</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;                    <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="class_nop_1_1_core_1_1_nop_exception.html">NopException</a>(<span class="stringliteral">&quot;Company not selected&quot;</span>);</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160; </div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;                var model = <span class="keyword">new</span> VoidTransactionModel { code = VoidReasonCode.DocDeleted };</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;                var transaction = <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a7042ed6150237074c5143bb88ff25cf7">ServiceClient</a>.VoidTransaction(<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#afea35b71eb612597f3d73251bf5e0d76">_avalaraTaxSettings</a>.<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings.html#a8f9ca0d844ea9e09b83bd488341cb093">CompanyCode</a>, order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a7061d07eef94408c40f32832cf91aafa">CustomOrderNumber</a>, <span class="keyword">null</span>, <span class="keyword">null</span>, model)</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;                    ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="class_nop_1_1_core_1_1_nop_exception.html">NopException</a>(<span class="stringliteral">&quot;No response from the service&quot;</span>);</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160; </div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>.FromResult(transaction);</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;            });</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;        }</div>
<div class="ttc" id="a_sendinblue_plugin_8cs_html_a9f49374e6bc76a6b5261e5c211d2e63d"><div class="ttname"><a href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a></div><div class="ttdeci">System.Threading.Tasks.Task Task</div><div class="ttdef"><b>Definition:</b> SendinbluePlugin.cs:15</div></div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings_html_a8f9ca0d844ea9e09b83bd488341cb093"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings.html#a8f9ca0d844ea9e09b83bd488341cb093">Nop.Plugin.Tax.Avalara.AvalaraTaxSettings.CompanyCode</a></div><div class="ttdeci">string CompanyCode</div><div class="ttdoc">Gets or sets company code</div><div class="ttdef"><b>Definition:</b> AvalaraTaxSettings.cs:24</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a7061d07eef94408c40f32832cf91aafa">Nop.Core.Domain.Orders.Order.CustomOrderNumber</a>.</p>

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_event_consumer.html#afcf2f8ffdba6f2957c9e2b08f7ecadf5">Nop.Plugin.Tax.Avalara.Services.EventConsumer.HandleEventAsync()</a>.</p>

</div>
</div>
<a id="a5548dca46e60e8b62e51dcf639c6fb56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5548dca46e60e8b62e51dcf639c6fb56">&#9670;&nbsp;</a></span>Dispose() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.Dispose </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dispose object </p>
<div class="fragment"><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;        {</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;            <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a5548dca46e60e8b62e51dcf639c6fb56">Dispose</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;            GC.SuppressFinalize(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager_html_a5548dca46e60e8b62e51dcf639c6fb56"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a5548dca46e60e8b62e51dcf639c6fb56">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.Dispose</a></div><div class="ttdeci">void Dispose()</div><div class="ttdoc">Dispose object</div><div class="ttdef"><b>Definition:</b> AvalaraTaxManager.cs:1287</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a61b8ff8e36fac9f36628b901baed0690"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61b8ff8e36fac9f36628b901baed0690">&#9670;&nbsp;</a></span>Dispose() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.Dispose </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>disposing</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;        {</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a268d445739110120de5345698026729a">_disposed</a>)</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160; </div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;            <span class="keywordflow">if</span> (disposing)</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;            {</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a205b9051930cbec427e115075696e0e3">_serviceClient</a> != <span class="keyword">null</span>)</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;                    <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a205b9051930cbec427e115075696e0e3">_serviceClient</a>.CallCompleted -= <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a7c0f3366fdec49a59d6c09e95757ea50">OnCallCompleted</a>;</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;            }</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160; </div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;            <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a268d445739110120de5345698026729a">_disposed</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager_html_a205b9051930cbec427e115075696e0e3"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a205b9051930cbec427e115075696e0e3">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._serviceClient</a></div><div class="ttdeci">AvaTaxClient _serviceClient</div><div class="ttdef"><b>Definition:</b> AvalaraTaxManager.cs:70</div></div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager_html_a268d445739110120de5345698026729a"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a268d445739110120de5345698026729a">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._disposed</a></div><div class="ttdeci">bool _disposed</div><div class="ttdef"><b>Definition:</b> AvalaraTaxManager.cs:71</div></div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager_html_a7c0f3366fdec49a59d6c09e95757ea50"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a7c0f3366fdec49a59d6c09e95757ea50">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.OnCallCompleted</a></div><div class="ttdeci">async void OnCallCompleted(object sender, EventArgs args)</div><div class="ttdoc">Event handler</div><div class="ttdef"><b>Definition:</b> AvalaraTaxManager.cs:181</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a28b13fe9326b708d425b7950dc8b0845"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28b13fe9326b708d425b7950dc8b0845">&#9670;&nbsp;</a></span>ExportProductsAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;int?&gt; Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.ExportProductsAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>selectedIds</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Export items (products) with the passed ids to <a class="el" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara.html">Avalara</a> services </p>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the number of exported items; null in case of error </dd></dl>
<div class="fragment"><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;        {</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;            <span class="keywordflow">return</span> await HandleFunctionAsync&lt;int?&gt;(async () =&gt;</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;            {</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;                <span class="keywordflow">if</span> (<span class="keywordtype">string</span>.IsNullOrEmpty(<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#afea35b71eb612597f3d73251bf5e0d76">_avalaraTaxSettings</a>.<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings.html#a8f9ca0d844ea9e09b83bd488341cb093">CompanyCode</a>) || <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#afea35b71eb612597f3d73251bf5e0d76">_avalaraTaxSettings</a>.<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings.html#a8f9ca0d844ea9e09b83bd488341cb093">CompanyCode</a>.Equals(Guid.Empty.ToString()))</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;                    <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="class_nop_1_1_core_1_1_nop_exception.html">NopException</a>(<span class="stringliteral">&quot;Company not selected&quot;</span>);</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160; </div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;                <span class="comment">//get selected company</span></div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;                var selectedCompany = (await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#abac69ba86208348fc6b6c9fa193dedac">GetAccountCompaniesAsync</a>())</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;                    ?.FirstOrDefault(company =&gt; <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#afea35b71eb612597f3d73251bf5e0d76">_avalaraTaxSettings</a>.<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings.html#a8f9ca0d844ea9e09b83bd488341cb093">CompanyCode</a>.Equals(company?.companyCode))</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;                    ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="class_nop_1_1_core_1_1_nop_exception.html">NopException</a>(<span class="stringliteral">&quot;Failed to retrieve company&quot;</span>);</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160; </div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;                <span class="comment">//get existing items</span></div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;                var items = await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a7042ed6150237074c5143bb88ff25cf7">ServiceClient</a>.ListItemsByCompanyAsync(selectedCompany.id, <span class="keyword">null</span>, <span class="keyword">null</span>, <span class="keyword">null</span>, <span class="keyword">null</span>, <span class="keyword">null</span>)</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;                    ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="class_nop_1_1_core_1_1_nop_exception.html">NopException</a>(<span class="stringliteral">&quot;No response from the service&quot;</span>);</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160; </div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;                <span class="comment">//return the paginated and filtered list</span></div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;                var existingItemCodes = items.value?.Select(item =&gt; item.itemCode).ToList() ?? <span class="keyword">new</span> List&lt;string&gt;();</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160; </div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;                <span class="comment">//prepare exported items</span></div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;                var productIds = selectedIds?.Split(<span class="keyword">new</span>[] { <span class="charliteral">&#39;,&#39;</span> }, StringSplitOptions.RemoveEmptyEntries).Select(<span class="keywordtype">id</span> =&gt; Convert.ToInt32(<span class="keywordtype">id</span>)).ToArray();</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;                var exportedItems = <span class="keyword">new</span> List&lt;ItemModel&gt;();</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;                <span class="keywordflow">foreach</span> (var product <span class="keywordflow">in</span> await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ae746f3353d58fed103de01a54b76c63a">_productService</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#a95bc29e2ad313cc7d097a0765db46681">GetProductsByIdsAsync</a>(productIds))</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;                {</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;                    <span class="comment">//find product combinations</span></div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;                    var combinations = (await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ac99475847747a4d63f5c339646cf8e9a">_productAttributeService</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_service.html#a2053f20ce7d488bc70b3f99a4fdb1484">GetAllProductAttributeCombinationsAsync</a>(product.Id))</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;                        .Where(combination =&gt; !<span class="keywordtype">string</span>.IsNullOrEmpty(combination.Sku));</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160; </div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;                    <span class="comment">//export items with specified SKU only</span></div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;                    <span class="keywordflow">if</span> (<span class="keywordtype">string</span>.IsNullOrEmpty(product.Sku) &amp;&amp; !combinations.Any())</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160; </div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;                    <span class="comment">//prepare common properties</span></div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;                    var taxCategory = await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ae17a1adc446632a690405c66184a828b">_taxCategoryService</a>.<a class="code" href="interface_nop_1_1_services_1_1_tax_1_1_i_tax_category_service.html#afbf254d2a22b6afc356a801d50833b11">GetTaxCategoryByIdAsync</a>(product.TaxCategoryId);</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;                    var taxCode = <a class="code" href="class_nop_1_1_core_1_1_common_helper.html">CommonHelper</a>.<a class="code" href="class_nop_1_1_core_1_1_common_helper.html#a7e1b63566b29d344beaacd65866a74c2">EnsureMaximumLength</a>(taxCategory?.<a class="code" href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a5d49a2599538bfd3f9e5333e94ca11b0">Name</a>, 25);</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;                    var description = <a class="code" href="class_nop_1_1_core_1_1_common_helper.html">CommonHelper</a>.<a class="code" href="class_nop_1_1_core_1_1_common_helper.html#a7e1b63566b29d344beaacd65866a74c2">EnsureMaximumLength</a>(product.Name, 255);</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160; </div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;                    <span class="comment">//add the product as exported item</span></div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;                    <span class="keywordflow">if</span> (!<span class="keywordtype">string</span>.IsNullOrEmpty(product.Sku))</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;                    {</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;                        exportedItems.Add(<span class="keyword">new</span> ItemModel</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;                        {</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;                            createdDate = DateTime.UtcNow,</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;                            description = description,</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;                            itemCode = <a class="code" href="class_nop_1_1_core_1_1_common_helper.html">CommonHelper</a>.<a class="code" href="class_nop_1_1_core_1_1_common_helper.html#a7e1b63566b29d344beaacd65866a74c2">EnsureMaximumLength</a>(product.Sku, 50),</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;                            taxCode = taxCode</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;                        });</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;                    }</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160; </div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;                    <span class="comment">//add product combinations</span></div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;                    exportedItems.AddRange(combinations.Select(combination =&gt; <span class="keyword">new</span> ItemModel</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;                    {</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;                        createdDate = DateTime.UtcNow,</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;                        description = description,</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;                        itemCode = CommonHelper.EnsureMaximumLength(combination.Sku, 50),</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;                        taxCode = taxCode</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;                    }));</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;                }</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160; </div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;                <span class="comment">//remove duplicates</span></div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;                exportedItems = exportedItems.Where(item =&gt; !existingItemCodes.Contains(item.itemCode)).Distinct().ToList();</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160; </div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;                <span class="comment">//export items</span></div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;                <span class="keywordflow">if</span> (!exportedItems.Any())</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;                    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160; </div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;                <span class="comment">//create items and get the result</span></div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;                var createdItems = await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a7042ed6150237074c5143bb88ff25cf7">ServiceClient</a>.CreateItemsAsync(selectedCompany.id, exportedItems)</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;                    ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="class_nop_1_1_core_1_1_nop_exception.html">NopException</a>(<span class="stringliteral">&quot;No response from the service&quot;</span>);</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160; </div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;                <span class="comment">//display results</span></div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;                var <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_blogs.html#a6cc3986434c188bc64f7d71789d4a5c8">result</a> = createdItems?.Count;</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_blogs.html#a6cc3986434c188bc64f7d71789d4a5c8">result</a>.HasValue &amp;&amp; <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_blogs.html#a6cc3986434c188bc64f7d71789d4a5c8">result</a> &gt; 0)</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_blogs.html#a6cc3986434c188bc64f7d71789d4a5c8">result</a>.Value;</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160; </div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">null</span>;</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;            });</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager_html_abac69ba86208348fc6b6c9fa193dedac"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#abac69ba86208348fc6b6c9fa193dedac">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.GetAccountCompaniesAsync</a></div><div class="ttdeci">async Task&lt; List&lt; CompanyModel &gt; &gt; GetAccountCompaniesAsync()</div><div class="ttdoc">Get account companies</div><div class="ttdef"><b>Definition:</b> AvalaraTaxManager.cs:679</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_service_html_a2053f20ce7d488bc70b3f99a4fdb1484"><div class="ttname"><a href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_service.html#a2053f20ce7d488bc70b3f99a4fdb1484">Nop.Services.Catalog.IProductAttributeService.GetAllProductAttributeCombinationsAsync</a></div><div class="ttdeci">Task&lt; IList&lt; ProductAttributeCombination &gt; &gt; GetAllProductAttributeCombinationsAsync(int productId)</div><div class="ttdoc">Gets all product attribute combinations</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_catalog_1_1_i_product_service_html_a95bc29e2ad313cc7d097a0765db46681"><div class="ttname"><a href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#a95bc29e2ad313cc7d097a0765db46681">Nop.Services.Catalog.IProductService.GetProductsByIdsAsync</a></div><div class="ttdeci">Task&lt; IList&lt; Product &gt; &gt; GetProductsByIdsAsync(int[] productIds)</div><div class="ttdoc">Gets products by identifier</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_models_1_1_blogs_html_a6cc3986434c188bc64f7d71789d4a5c8"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_models_1_1_blogs.html#a6cc3986434c188bc64f7d71789d4a5c8">Nop.Web.Models.Blogs.result</a></div><div class="ttdeci">return result</div><div class="ttdef"><b>Definition:</b> BlogPagingFilteringModel.cs:21</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_core_1_1_common_helper.html#a7e1b63566b29d344beaacd65866a74c2">Nop.Core.CommonHelper.EnsureMaximumLength()</a>, <a class="el" href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a5d49a2599538bfd3f9e5333e94ca11b0">Nop.Plugin.Misc.Sendinblue.Models.Name</a> e <a class="el" href="namespace_nop_1_1_web_1_1_models_1_1_blogs.html#a6cc3986434c188bc64f7d71789d4a5c8">Nop.Web.Models.Blogs.result</a>.</p>

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_controllers_1_1_avalara_product_controller.html#abddbb14f479ea38d915a38da06fa18a6">Nop.Plugin.Tax.Avalara.Controllers.AvalaraProductController.ExportProducts()</a>.</p>

</div>
</div>
<a id="a840fe521f000b54fc78c64ebc434de07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a840fe521f000b54fc78c64ebc434de07">&#9670;&nbsp;</a></span>ExportTaxCodesAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;int?&gt; Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.ExportTaxCodesAsync </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Export current tax codes to <a class="el" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara.html">Avalara</a> services </p>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the number of exported tax codes; null in case of error </dd></dl>
<div class="fragment"><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;        {</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;            <span class="keywordflow">return</span> await HandleFunctionAsync&lt;int?&gt;(async () =&gt;</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;            {</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;                <span class="keywordflow">if</span> (<span class="keywordtype">string</span>.IsNullOrEmpty(<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#afea35b71eb612597f3d73251bf5e0d76">_avalaraTaxSettings</a>.<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings.html#a8f9ca0d844ea9e09b83bd488341cb093">CompanyCode</a>) || <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#afea35b71eb612597f3d73251bf5e0d76">_avalaraTaxSettings</a>.<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings.html#a8f9ca0d844ea9e09b83bd488341cb093">CompanyCode</a>.Equals(Guid.Empty.ToString()))</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                    <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="class_nop_1_1_core_1_1_nop_exception.html">NopException</a>(<span class="stringliteral">&quot;Company not selected&quot;</span>);</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160; </div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;                <span class="comment">//get selected company</span></div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;                var selectedCompany = (await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#abac69ba86208348fc6b6c9fa193dedac">GetAccountCompaniesAsync</a>())</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;                    ?.FirstOrDefault(company =&gt; <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#afea35b71eb612597f3d73251bf5e0d76">_avalaraTaxSettings</a>.<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings.html#a8f9ca0d844ea9e09b83bd488341cb093">CompanyCode</a>.Equals(company?.companyCode))</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;                    ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="class_nop_1_1_core_1_1_nop_exception.html">NopException</a>(<span class="stringliteral">&quot;Failed to retrieve company&quot;</span>);</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160; </div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;                <span class="comment">//get existing tax codes (only active)</span></div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;                var taxCodes = await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a7042ed6150237074c5143bb88ff25cf7">ServiceClient</a>.ListTaxCodesByCompanyAsync(selectedCompany.id, <span class="stringliteral">&quot;isActive eq true&quot;</span>, <span class="keyword">null</span>, <span class="keyword">null</span>, <span class="keyword">null</span>, <span class="keyword">null</span>)</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;                    ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="class_nop_1_1_core_1_1_nop_exception.html">NopException</a>(<span class="stringliteral">&quot;No response from the service&quot;</span>);</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160; </div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;                var existingTaxCodes = taxCodes.value?.Select(taxCode =&gt; taxCode.taxCode).ToList() ?? <span class="keyword">new</span> List&lt;string&gt;();</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160; </div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;                <span class="comment">//prepare tax codes to export</span></div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;                var taxCodesToExport = await (await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ae17a1adc446632a690405c66184a828b">_taxCategoryService</a>.<a class="code" href="interface_nop_1_1_services_1_1_tax_1_1_i_tax_category_service.html#a7db7dea40092f0d43955842dcfd4e347">GetAllTaxCategoriesAsync</a>()).SelectAwait(async taxCategory =&gt; <span class="keyword">new</span> TaxCodeModel</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;                {</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;                    createdDate = DateTime.UtcNow,</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;                    description = <a class="code" href="class_nop_1_1_core_1_1_common_helper.html">CommonHelper</a>.<a class="code" href="class_nop_1_1_core_1_1_common_helper.html#a7e1b63566b29d344beaacd65866a74c2">EnsureMaximumLength</a>(taxCategory.Name, 255),</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;                    isActive = <span class="keyword">true</span>,</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;                    taxCode = <a class="code" href="class_nop_1_1_core_1_1_common_helper.html">CommonHelper</a>.<a class="code" href="class_nop_1_1_core_1_1_common_helper.html#a7e1b63566b29d344beaacd65866a74c2">EnsureMaximumLength</a>(taxCategory.Name, 25),</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;                    taxCodeTypeId = <a class="code" href="class_nop_1_1_core_1_1_common_helper.html">CommonHelper</a>.<a class="code" href="class_nop_1_1_core_1_1_common_helper.html#a7e1b63566b29d344beaacd65866a74c2">EnsureMaximumLength</a>(await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a2cfafecccf84aefa7eb28149282d69c5">_genericAttributeService</a></div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;                        .GetAttributeAsync&lt;<span class="keywordtype">string</span>&gt;(taxCategory, AvalaraTaxDefaults.TaxCodeTypeAttribute) ?? <span class="stringliteral">&quot;P&quot;</span>, 2)</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;                }).Where(taxCode =&gt; !<span class="keywordtype">string</span>.IsNullOrEmpty(taxCode.taxCode)).ToListAsync();</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160; </div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;                <span class="comment">//add Avalara pre-defined system tax codes</span></div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;                var systemTaxCodesResult = await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a7042ed6150237074c5143bb88ff25cf7">ServiceClient</a>.ListTaxCodesAsync(<span class="stringliteral">&quot;isActive eq true&quot;</span>, <span class="keyword">null</span>, <span class="keyword">null</span>, <span class="keyword">null</span>)</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;                    ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="class_nop_1_1_core_1_1_nop_exception.html">NopException</a>(<span class="stringliteral">&quot;No response from the service&quot;</span>);</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160; </div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;                var systemTaxCodes = systemTaxCodesResult.value?.Select(taxCode =&gt; taxCode.taxCode).ToList() ?? <span class="keyword">new</span> List&lt;string&gt;();</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;                existingTaxCodes.AddRange(systemTaxCodes);</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160; </div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;                <span class="comment">//remove duplicates</span></div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;                taxCodesToExport = taxCodesToExport.Where(taxCode =&gt; !existingTaxCodes.Contains(taxCode.taxCode)).Distinct().ToList();</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160; </div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;                <span class="comment">//export tax codes</span></div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;                <span class="keywordflow">if</span> (!taxCodesToExport.Any())</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;                    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160; </div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;                <span class="comment">//create items and get the result</span></div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;                var createdTaxCodes = await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a7042ed6150237074c5143bb88ff25cf7">ServiceClient</a>.CreateTaxCodesAsync(selectedCompany.id, taxCodesToExport)</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;                    ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="class_nop_1_1_core_1_1_nop_exception.html">NopException</a>(<span class="stringliteral">&quot;No response from the service&quot;</span>);</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160; </div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                <span class="comment">//display results</span></div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;                var <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_blogs.html#a6cc3986434c188bc64f7d71789d4a5c8">result</a> = createdTaxCodes?.Count;</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_blogs.html#a6cc3986434c188bc64f7d71789d4a5c8">result</a>.HasValue &amp;&amp; <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_blogs.html#a6cc3986434c188bc64f7d71789d4a5c8">result</a> &gt; 0)</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_blogs.html#a6cc3986434c188bc64f7d71789d4a5c8">result</a>.Value;</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160; </div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">null</span>;</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;            });</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;        }</div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_tax_1_1_i_tax_category_service_html_a7db7dea40092f0d43955842dcfd4e347"><div class="ttname"><a href="interface_nop_1_1_services_1_1_tax_1_1_i_tax_category_service.html#a7db7dea40092f0d43955842dcfd4e347">Nop.Services.Tax.ITaxCategoryService.GetAllTaxCategoriesAsync</a></div><div class="ttdeci">Task&lt; IList&lt; TaxCategory &gt; &gt; GetAllTaxCategoriesAsync()</div><div class="ttdoc">Gets all tax categories</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_core_1_1_common_helper.html#a7e1b63566b29d344beaacd65866a74c2">Nop.Core.CommonHelper.EnsureMaximumLength()</a>, <a class="el" href="namespace_nop_1_1_web_1_1_models_1_1_blogs.html#a6cc3986434c188bc64f7d71789d4a5c8">Nop.Web.Models.Blogs.result</a> e <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_defaults.html#a80f20e8b344785188ccc0cc7f806ba99">Nop.Plugin.Tax.Avalara.AvalaraTaxDefaults.TaxCodeTypeAttribute</a>.</p>

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_controllers_1_1_avalara_tax_controller.html#a953386c38c063ad48f2b8611a3a05ac1">Nop.Plugin.Tax.Avalara.Controllers.AvalaraTaxController.ExportTaxCodes()</a>.</p>

</div>
</div>
<a id="abac69ba86208348fc6b6c9fa193dedac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abac69ba86208348fc6b6c9fa193dedac">&#9670;&nbsp;</a></span>GetAccountCompaniesAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;List&lt;CompanyModel&gt; &gt; Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.GetAccountCompaniesAsync </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get account companies </p>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the list of companies </dd></dl>
<div class="fragment"><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        {</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;            <span class="keywordflow">return</span> await HandleFunctionAsync(() =&gt;</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;            {</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;                var <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_blogs.html#a6cc3986434c188bc64f7d71789d4a5c8">result</a> = <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a7042ed6150237074c5143bb88ff25cf7">ServiceClient</a>.QueryCompanies(<span class="keyword">null</span>, <span class="keyword">null</span>, <span class="keyword">null</span>, <span class="keyword">null</span>, <span class="keyword">null</span>)</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                    ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="class_nop_1_1_core_1_1_nop_exception.html">NopException</a>(<span class="stringliteral">&quot;No response from the service&quot;</span>);</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160; </div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>.FromResult(<a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_blogs.html#a6cc3986434c188bc64f7d71789d4a5c8">result</a>.value);</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;            });</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="namespace_nop_1_1_web_1_1_models_1_1_blogs.html#a6cc3986434c188bc64f7d71789d4a5c8">Nop.Web.Models.Blogs.result</a>.</p>

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_controllers_1_1_avalara_controller.html#a256e6e499e04414be402604b0bd9d8dc">Nop.Plugin.Tax.Avalara.Controllers.AvalaraController.Configure()</a>.</p>

</div>
</div>
<a id="af3eb5a997be0677167dcb9187aafdb96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3eb5a997be0677167dcb9187aafdb96">&#9670;&nbsp;</a></span>GetEntityUseCodesAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;List&lt;EntityUseCodeModel&gt; &gt; Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.GetEntityUseCodesAsync </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get pre-defined entity use codes </p>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the list of entity use codes </dd></dl>
<div class="fragment"><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        {</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;            <span class="keywordflow">return</span> await HandleFunctionAsync(() =&gt;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;            {</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;                var <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_blogs.html#a6cc3986434c188bc64f7d71789d4a5c8">result</a> = <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a7042ed6150237074c5143bb88ff25cf7">ServiceClient</a>.ListEntityUseCodes(<span class="keyword">null</span>, <span class="keyword">null</span>, <span class="keyword">null</span>, <span class="keyword">null</span>)</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;                    ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="class_nop_1_1_core_1_1_nop_exception.html">NopException</a>(<span class="stringliteral">&quot;No response from the service&quot;</span>);</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160; </div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>.FromResult(<a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_blogs.html#a6cc3986434c188bc64f7d71789d4a5c8">result</a>.value);</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;            });</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="namespace_nop_1_1_web_1_1_models_1_1_blogs.html#a6cc3986434c188bc64f7d71789d4a5c8">Nop.Web.Models.Blogs.result</a>.</p>

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_components_1_1_entity_use_code_view_component.html#afdd99c683b5c82167b34d923d4780609">Nop.Plugin.Tax.Avalara.Components.EntityUseCodeViewComponent.InvokeAsync()</a>.</p>

</div>
</div>
<a id="a6a7e038e19e331939f4c3e8d5734c638"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a7e038e19e331939f4c3e8d5734c638">&#9670;&nbsp;</a></span>GetItemLinesAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;List&lt;LineItemModel&gt; &gt; Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.GetItemLinesAsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a>&#160;</td>
          <td class="paramname"><em>order</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IList&lt; <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_item.html">OrderItem</a> &gt;&#160;</td>
          <td class="paramname"><em>orderItems</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get item lines to create tax transaction </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">order</td><td>Order</td></tr>
    <tr><td class="paramname">orderItems</td><td>Order items</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the list of item lines </dd></dl>
<div class="fragment"><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        {</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;            <span class="comment">//get purchased products details</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;            var items = await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#acdbca097672860fb5c5a37020b6a5277">CreateLinesForOrderItems</a>(order, orderItems);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160; </div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;            <span class="comment">//set payment method additional fee as the separate item line</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            <span class="keywordflow">if</span> (order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a2b1db82cb59715d71a9440f4e2671798">PaymentMethodAdditionalFeeExclTax</a> &gt; decimal.Zero)</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                items.Add(await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a86851823c9e8531eb98f2ea2c8742aa8">CreateLineForPaymentMethodAsync</a>(order));</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160; </div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            <span class="comment">//set shipping rate as the separate item line</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            <span class="keywordflow">if</span> (order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#ab9419756e1177bf5ec2d18bb7dbeb9a0">OrderShippingExclTax</a> &gt; decimal.Zero)</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                items.Add(await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#abd4d81b4ba0dc69fe3fdd3db3ae5b84a">CreateLineForShippingAsync</a>(order));</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160; </div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;            <span class="comment">//set checkout attributes as the separate item lines</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;            <span class="keywordflow">if</span> (!<span class="keywordtype">string</span>.IsNullOrEmpty(order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#aa6208b6d6028dcd42ad138918507bf09">CheckoutAttributesXml</a>))</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                items.AddRange(await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a9a6ca21832b94b7ede2bc7453819d2fb">CreateLinesForCheckoutAttributes</a>(order));</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160; </div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;            <span class="keywordflow">return</span> items;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager_html_a86851823c9e8531eb98f2ea2c8742aa8"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a86851823c9e8531eb98f2ea2c8742aa8">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.CreateLineForPaymentMethodAsync</a></div><div class="ttdeci">async Task&lt; LineItemModel &gt; CreateLineForPaymentMethodAsync(Order order)</div><div class="ttdoc">Create a separate item line for the order payment method additional fee</div><div class="ttdef"><b>Definition:</b> AvalaraTaxManager.cs:495</div></div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager_html_a9a6ca21832b94b7ede2bc7453819d2fb"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a9a6ca21832b94b7ede2bc7453819d2fb">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.CreateLinesForCheckoutAttributes</a></div><div class="ttdeci">async Task&lt; IEnumerable&lt; LineItemModel &gt; &gt; CreateLinesForCheckoutAttributes(Order order)</div><div class="ttdoc">Create item lines for order checkout attributes</div><div class="ttdef"><b>Definition:</b> AvalaraTaxManager.cs:573</div></div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager_html_abd4d81b4ba0dc69fe3fdd3db3ae5b84a"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#abd4d81b4ba0dc69fe3fdd3db3ae5b84a">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.CreateLineForShippingAsync</a></div><div class="ttdeci">async Task&lt; LineItemModel &gt; CreateLineForShippingAsync(Order order)</div><div class="ttdoc">Create a separate item line for the order shipping charge</div><div class="ttdef"><b>Definition:</b> AvalaraTaxManager.cs:534</div></div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager_html_acdbca097672860fb5c5a37020b6a5277"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#acdbca097672860fb5c5a37020b6a5277">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.CreateLinesForOrderItems</a></div><div class="ttdeci">async Task&lt; List&lt; LineItemModel &gt; &gt; CreateLinesForOrderItems(Order order, IList&lt; OrderItem &gt; orderItems)</div><div class="ttdoc">Create item lines for purchased order items</div><div class="ttdef"><b>Definition:</b> AvalaraTaxManager.cs:424</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#aa6208b6d6028dcd42ad138918507bf09">Nop.Core.Domain.Orders.Order.CheckoutAttributesXml</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a86851823c9e8531eb98f2ea2c8742aa8">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.CreateLineForPaymentMethodAsync()</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#abd4d81b4ba0dc69fe3fdd3db3ae5b84a">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.CreateLineForShippingAsync()</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a9a6ca21832b94b7ede2bc7453819d2fb">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.CreateLinesForCheckoutAttributes()</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#acdbca097672860fb5c5a37020b6a5277">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.CreateLinesForOrderItems()</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#ab9419756e1177bf5ec2d18bb7dbeb9a0">Nop.Core.Domain.Orders.Order.OrderShippingExclTax</a> e <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a2b1db82cb59715d71a9440f4e2671798">Nop.Core.Domain.Orders.Order.PaymentMethodAdditionalFeeExclTax</a>.</p>

</div>
</div>
<a id="ac070360ad2d9054e933aee48225e807a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac070360ad2d9054e933aee48225e807a">&#9670;&nbsp;</a></span>GetTaxAddressAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;<a class="el" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address.html">Address</a>&gt; Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.GetTaxAddressAsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a>&#160;</td>
          <td class="paramname"><em>order</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a tax address of the passed order </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">order</td><td>Order</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the address </dd></dl>
<div class="fragment"><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        {</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;            <a class="code" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address.html">Address</a> address = <span class="keyword">null</span>;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160; </div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;            <span class="comment">//tax is based on billing address</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ab787bae510c4b103374c92d8784c7e29">_taxSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html#a0ec79fc136a4a444a311f4ec15152b53">TaxBasedOn</a> == <a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_tax.html#ae3712564df230dab2a95fcf60f7802e5">TaxBasedOn</a>.BillingAddress &amp;&amp;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a1bb83b9312bffecf7f93cd3d4b6dccdc">_addressService</a>.<a class="code" href="interface_nop_1_1_services_1_1_common_1_1_i_address_service.html#a91a223bb48ad616e4155d16894c64470">GetAddressByIdAsync</a>(order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a70400dbb1fb7c02f6f3e9f3b3bcf6e7c">BillingAddressId</a>) is <a class="code" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address.html">Address</a> billingAddress)</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;            {</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                address = billingAddress;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;            }</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160; </div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;            <span class="comment">//tax is based on shipping address</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ab787bae510c4b103374c92d8784c7e29">_taxSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html#a0ec79fc136a4a444a311f4ec15152b53">TaxBasedOn</a> == <a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_tax.html#ae3712564df230dab2a95fcf60f7802e5">TaxBasedOn</a>.ShippingAddress &amp;&amp;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#af1d40c1e5b6527352f696c68cc7ebd5a">ShippingAddressId</a>.HasValue &amp;&amp;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a1bb83b9312bffecf7f93cd3d4b6dccdc">_addressService</a>.<a class="code" href="interface_nop_1_1_services_1_1_common_1_1_i_address_service.html#a91a223bb48ad616e4155d16894c64470">GetAddressByIdAsync</a>(order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#af1d40c1e5b6527352f696c68cc7ebd5a">ShippingAddressId</a>.Value) is <a class="code" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address.html">Address</a> shippingAddress)</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;            {</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                address = shippingAddress;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;            }</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160; </div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;            <span class="comment">//tax is based on pickup point address</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ab787bae510c4b103374c92d8784c7e29">_taxSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html#ab21c9cd0558989d51119ae48cb5b170a">TaxBasedOnPickupPointAddress</a> &amp;&amp;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#af782dcc88ec5bb543fd212ee8577b68f">PickupAddressId</a>.HasValue &amp;&amp;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a1bb83b9312bffecf7f93cd3d4b6dccdc">_addressService</a>.<a class="code" href="interface_nop_1_1_services_1_1_common_1_1_i_address_service.html#a91a223bb48ad616e4155d16894c64470">GetAddressByIdAsync</a>(order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#af782dcc88ec5bb543fd212ee8577b68f">PickupAddressId</a>.Value) is <a class="code" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address.html">Address</a> pickupAddress)</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;            {</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                address = pickupAddress;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;            }</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160; </div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;            <span class="comment">//or use default address for tax calculation</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;            <span class="keywordflow">if</span> (address == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                address = await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a1bb83b9312bffecf7f93cd3d4b6dccdc">_addressService</a>.<a class="code" href="interface_nop_1_1_services_1_1_common_1_1_i_address_service.html#a91a223bb48ad616e4155d16894c64470">GetAddressByIdAsync</a>(<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ab787bae510c4b103374c92d8784c7e29">_taxSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html#a4089d43af51c9c05a37c2a08f0641776">DefaultTaxAddressId</a>);</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160; </div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;            <span class="keywordflow">return</span> address;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_common_1_1_address_html"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address.html">Nop.Core.Domain.Common.Address</a></div><div class="ttdoc">Address</div><div class="ttdef"><b>Definition:</b> Address.cs:9</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_a70400dbb1fb7c02f6f3e9f3b3bcf6e7c"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a70400dbb1fb7c02f6f3e9f3b3bcf6e7c">Nop.Core.Domain.Orders.Order.BillingAddressId</a></div><div class="ttdeci">int BillingAddressId</div><div class="ttdoc">Gets or sets the billing address identifier</div><div class="ttdef"><b>Definition:</b> Order.cs:34</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_af1d40c1e5b6527352f696c68cc7ebd5a"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#af1d40c1e5b6527352f696c68cc7ebd5a">Nop.Core.Domain.Orders.Order.ShippingAddressId</a></div><div class="ttdeci">int? ShippingAddressId</div><div class="ttdoc">Gets or sets the shipping address identifier</div><div class="ttdef"><b>Definition:</b> Order.cs:39</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_af782dcc88ec5bb543fd212ee8577b68f"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#af782dcc88ec5bb543fd212ee8577b68f">Nop.Core.Domain.Orders.Order.PickupAddressId</a></div><div class="ttdeci">int? PickupAddressId</div><div class="ttdoc">Gets or sets the pickup address identifier</div><div class="ttdef"><b>Definition:</b> Order.cs:44</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings_html_a0ec79fc136a4a444a311f4ec15152b53"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html#a0ec79fc136a4a444a311f4ec15152b53">Nop.Core.Domain.Tax.TaxSettings.TaxBasedOn</a></div><div class="ttdeci">TaxBasedOn TaxBasedOn</div><div class="ttdoc">Tax based on</div><div class="ttdef"><b>Definition:</b> TaxSettings.cs:13</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings_html_a4089d43af51c9c05a37c2a08f0641776"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html#a4089d43af51c9c05a37c2a08f0641776">Nop.Core.Domain.Tax.TaxSettings.DefaultTaxAddressId</a></div><div class="ttdeci">int DefaultTaxAddressId</div><div class="ttdoc">Gets or sets default address used for tax calculation</div><div class="ttdef"><b>Definition:</b> TaxSettings.cs:33</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings_html_ab21c9cd0558989d51119ae48cb5b170a"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html#ab21c9cd0558989d51119ae48cb5b170a">Nop.Core.Domain.Tax.TaxSettings.TaxBasedOnPickupPointAddress</a></div><div class="ttdeci">bool TaxBasedOnPickupPointAddress</div><div class="ttdoc">Gets or sets a value indicating whether to use pickup point address (when pickup point is chosen) for...</div><div class="ttdef"><b>Definition:</b> TaxSettings.cs:18</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_common_1_1_i_address_service_html_a91a223bb48ad616e4155d16894c64470"><div class="ttname"><a href="interface_nop_1_1_services_1_1_common_1_1_i_address_service.html#a91a223bb48ad616e4155d16894c64470">Nop.Services.Common.IAddressService.GetAddressByIdAsync</a></div><div class="ttdeci">Task&lt; Address &gt; GetAddressByIdAsync(int addressId)</div><div class="ttdoc">Gets an address by address identifier</div></div>
<div class="ttc" id="anamespace_nop_1_1_core_1_1_domain_1_1_tax_html_ae3712564df230dab2a95fcf60f7802e5"><div class="ttname"><a href="namespace_nop_1_1_core_1_1_domain_1_1_tax.html#ae3712564df230dab2a95fcf60f7802e5">Nop.Core.Domain.Tax.TaxBasedOn</a></div><div class="ttdeci">TaxBasedOn</div><div class="ttdoc">Represents the tax based on</div><div class="ttdef"><b>Definition:</b> TaxBasedOn.cs:7</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a1bb83b9312bffecf7f93cd3d4b6dccdc">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._addressService</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ab787bae510c4b103374c92d8784c7e29">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._taxSettings</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a70400dbb1fb7c02f6f3e9f3b3bcf6e7c">Nop.Core.Domain.Orders.Order.BillingAddressId</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html#a4089d43af51c9c05a37c2a08f0641776">Nop.Core.Domain.Tax.TaxSettings.DefaultTaxAddressId</a>, <a class="el" href="interface_nop_1_1_services_1_1_common_1_1_i_address_service.html#a91a223bb48ad616e4155d16894c64470">Nop.Services.Common.IAddressService.GetAddressByIdAsync()</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#af782dcc88ec5bb543fd212ee8577b68f">Nop.Core.Domain.Orders.Order.PickupAddressId</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#af1d40c1e5b6527352f696c68cc7ebd5a">Nop.Core.Domain.Orders.Order.ShippingAddressId</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html#a0ec79fc136a4a444a311f4ec15152b53">Nop.Core.Domain.Tax.TaxSettings.TaxBasedOn</a> e <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html#ab21c9cd0558989d51119ae48cb5b170a">Nop.Core.Domain.Tax.TaxSettings.TaxBasedOnPickupPointAddress</a>.</p>

</div>
</div>
<a id="a9986a3438bbd355277ec3dab64f5c06d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9986a3438bbd355277ec3dab64f5c06d">&#9670;&nbsp;</a></span>GetTaxCodeTypesAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;Dictionary&lt;string, string&gt; &gt; Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.GetTaxCodeTypesAsync </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get pre-defined tax code types </p>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the key-value pairs of tax code types </dd></dl>
<div class="fragment"><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;        {</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;            <span class="keywordflow">return</span> await HandleFunctionAsync(() =&gt;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;            {</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;                var <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_blogs.html#a6cc3986434c188bc64f7d71789d4a5c8">result</a> = <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a7042ed6150237074c5143bb88ff25cf7">ServiceClient</a>.ListTaxCodeTypes(<span class="keyword">null</span>, <span class="keyword">null</span>)</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;                    ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="class_nop_1_1_core_1_1_nop_exception.html">NopException</a>(<span class="stringliteral">&quot;No response from the service&quot;</span>);</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160; </div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>.FromResult(<a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_blogs.html#a6cc3986434c188bc64f7d71789d4a5c8">result</a>.types);</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;            });</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="namespace_nop_1_1_web_1_1_models_1_1_blogs.html#a6cc3986434c188bc64f7d71789d4a5c8">Nop.Web.Models.Blogs.result</a>.</p>

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_controllers_1_1_avalara_tax_controller.html#aa849f4df0da7c4d280019423b72eb7ba">Nop.Plugin.Tax.Avalara.Controllers.AvalaraTaxController.Categories()</a>.</p>

</div>
</div>
<a id="ab674fce735e06780b48dcf5014a96ba5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab674fce735e06780b48dcf5014a96ba5">&#9670;&nbsp;</a></span>GetTaxRateAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;decimal?&gt; Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.GetTaxRateAsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_services_1_1_tax_1_1_tax_rate_request.html">TaxRateRequest</a>&#160;</td>
          <td class="paramname"><em>taxRateRequest</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create transaction to get tax rate </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">taxRateRequest</td><td><a class="el" href="namespace_nop_1_1_plugin_1_1_tax.html">Tax</a> rate request</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the ransaction </dd></dl>
<div class="fragment"><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;        {</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;            <span class="comment">//prepare cache key</span></div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;            var address = await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a1bb83b9312bffecf7f93cd3d4b6dccdc">_addressService</a>.<a class="code" href="interface_nop_1_1_services_1_1_common_1_1_i_address_service.html#a91a223bb48ad616e4155d16894c64470">GetAddressByIdAsync</a>(taxRateRequest.<a class="code" href="class_nop_1_1_services_1_1_tax_1_1_tax_rate_request.html#a79e67b3ec94b189d277a9411b9807dfa">Address</a>.<a class="code" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Id</a>);</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;            var customer = taxRateRequest.<a class="code" href="class_nop_1_1_services_1_1_tax_1_1_tax_rate_request.html#a0f49eb4246c056656faa73c841439431">Customer</a> ?? await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ad821e4dff925e557f8a7490bf498916e">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">GetCurrentCustomerAsync</a>();</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;            var taxCategoryId = taxRateRequest.<a class="code" href="class_nop_1_1_services_1_1_tax_1_1_tax_rate_request.html#aafcee1cf39372c7dc605196d15c09bcc">TaxCategoryId</a> &gt; 0</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;                ? taxRateRequest.<a class="code" href="class_nop_1_1_services_1_1_tax_1_1_tax_rate_request.html#aafcee1cf39372c7dc605196d15c09bcc">TaxCategoryId</a></div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;                : taxRateRequest.<a class="code" href="class_nop_1_1_services_1_1_tax_1_1_tax_rate_request.html#a14e9e0c5b13e566b2b33e313ed89ffa0">Product</a>?.TaxCategoryId ?? 0;</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;            var cacheKey = <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#aa0cf8edcf24193f7dfe5a7a3b83a9339">_staticCacheManager</a>.<a class="code" href="interface_nop_1_1_core_1_1_caching_1_1_i_static_cache_manager.html#a6e6f64bac714480ec4f5b11c01d405b8">PrepareKeyForDefaultCache</a>(AvalaraTaxDefaults.TaxRateCacheKey,</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;                <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#afea35b71eb612597f3d73251bf5e0d76">_avalaraTaxSettings</a>.<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings.html#ae4783e6bc75270170a7352dc8d6d51e2">GetTaxRateByAddressOnly</a> ? <span class="keyword">null</span> : customer,</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;                <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#afea35b71eb612597f3d73251bf5e0d76">_avalaraTaxSettings</a>.<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings.html#ae4783e6bc75270170a7352dc8d6d51e2">GetTaxRateByAddressOnly</a> ? 0 : taxCategoryId,</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;                taxRateRequest.<a class="code" href="class_nop_1_1_services_1_1_tax_1_1_tax_rate_request.html#a79e67b3ec94b189d277a9411b9807dfa">Address</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address.html#a864bc12b4899cb180c45c96d016ebd0f">Address1</a>,</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;                taxRateRequest.<a class="code" href="class_nop_1_1_services_1_1_tax_1_1_tax_rate_request.html#a79e67b3ec94b189d277a9411b9807dfa">Address</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address.html#a9c12353ba80e6e6acd6240dc53b87b1b">City</a>,</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;                taxRateRequest.<a class="code" href="class_nop_1_1_services_1_1_tax_1_1_tax_rate_request.html#a79e67b3ec94b189d277a9411b9807dfa">Address</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address.html#ad5007e1230a87f638f768dfe675556af">StateProvinceId</a> ?? 0,</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;                taxRateRequest.<a class="code" href="class_nop_1_1_services_1_1_tax_1_1_tax_rate_request.html#a79e67b3ec94b189d277a9411b9807dfa">Address</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address.html#ac9d46751d04796930a2a23543d7d34c0">CountryId</a> ?? 0,</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;                taxRateRequest.<a class="code" href="class_nop_1_1_services_1_1_tax_1_1_tax_rate_request.html#a79e67b3ec94b189d277a9411b9807dfa">Address</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address.html#a1efba93544aad9fa0e2e5319741df8cf">ZipPostalCode</a>);</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#afea35b71eb612597f3d73251bf5e0d76">_avalaraTaxSettings</a>.<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings.html#ae4783e6bc75270170a7352dc8d6d51e2">GetTaxRateByAddressOnly</a> &amp;&amp; <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#afea35b71eb612597f3d73251bf5e0d76">_avalaraTaxSettings</a>.<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings.html#a775686f73cd43804b0cd16836089c3b7">TaxRateByAddressCacheTime</a> &gt; 0)</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;                cacheKey.<a class="code" href="class_nop_1_1_core_1_1_caching_1_1_cache_key.html#a11fc098cbf5b8afd004485bed3bb4f98">CacheTime</a> = <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#afea35b71eb612597f3d73251bf5e0d76">_avalaraTaxSettings</a>.<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings.html#a775686f73cd43804b0cd16836089c3b7">TaxRateByAddressCacheTime</a>;</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160; </div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;            <span class="comment">//get tax rate</span></div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;            <span class="keywordflow">return</span> await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#aa0cf8edcf24193f7dfe5a7a3b83a9339">_staticCacheManager</a>.GetAsync(cacheKey, async () =&gt;</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;            {</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;                <span class="keywordflow">return</span> await HandleFunctionAsync(async () =&gt;</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;                {</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;                    <span class="comment">//create tax transaction for a single item and without saving</span></div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;                    var model = await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a2f7dc463425449c1842304011b7f4eca">PrepareTransactionModelAsync</a>(address, customer.Id.ToString(), DocumentType.SalesOrder);</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;                    var taxCategory = await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ae17a1adc446632a690405c66184a828b">_taxCategoryService</a>.<a class="code" href="interface_nop_1_1_services_1_1_tax_1_1_i_tax_category_service.html#afbf254d2a22b6afc356a801d50833b11">GetTaxCategoryByIdAsync</a>(taxCategoryId);</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;                    model.lines = <span class="keyword">new</span> List&lt;LineItemModel&gt;</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;                    {</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;                        <span class="keyword">new</span> LineItemModel</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;                        {</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;                            amount = 100,</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;                            quantity = 1,</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;                            itemCode = <a class="code" href="class_nop_1_1_core_1_1_common_helper.html">CommonHelper</a>.<a class="code" href="class_nop_1_1_core_1_1_common_helper.html#a7e1b63566b29d344beaacd65866a74c2">EnsureMaximumLength</a>(taxRateRequest.<a class="code" href="class_nop_1_1_services_1_1_tax_1_1_tax_rate_request.html#a14e9e0c5b13e566b2b33e313ed89ffa0">Product</a>?.Sku, 50),</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;                            taxCode = <a class="code" href="class_nop_1_1_core_1_1_common_helper.html">CommonHelper</a>.<a class="code" href="class_nop_1_1_core_1_1_common_helper.html#a7e1b63566b29d344beaacd65866a74c2">EnsureMaximumLength</a>(taxCategory?.<a class="code" href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a5d49a2599538bfd3f9e5333e94ca11b0">Name</a>, 25),</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;                            exemptionCode = !<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#afea35b71eb612597f3d73251bf5e0d76">_avalaraTaxSettings</a>.<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings.html#ae4783e6bc75270170a7352dc8d6d51e2">GetTaxRateByAddressOnly</a> &amp;&amp; (taxRateRequest.<a class="code" href="class_nop_1_1_services_1_1_tax_1_1_tax_rate_request.html#a14e9e0c5b13e566b2b33e313ed89ffa0">Product</a>?.IsTaxExempt ?? <span class="keyword">false</span>)</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;                                ? <a class="code" href="class_nop_1_1_core_1_1_common_helper.html">CommonHelper</a>.<a class="code" href="class_nop_1_1_core_1_1_common_helper.html#a7e1b63566b29d344beaacd65866a74c2">EnsureMaximumLength</a>($<span class="stringliteral">&quot;Exempt-product-#{taxRateRequest.Product.Id}&quot;</span>, 25)</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;                                : <span class="keywordtype">string</span>.Empty,</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;                        }</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;                    };</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160; </div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;                    <span class="comment">//prepare tax exemption </span></div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;                    <span class="keywordflow">if</span> (!<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#afea35b71eb612597f3d73251bf5e0d76">_avalaraTaxSettings</a>.<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings.html#ae4783e6bc75270170a7352dc8d6d51e2">GetTaxRateByAddressOnly</a>)</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;                        await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a8977bb26a998638a30d2b14827c4833b">PrepareModelTaxExemptionAsync</a>(model, customer);</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160; </div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;                    var transaction = <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a33131990e2395c3293c850c1ad732b6d">CreateTransaction</a>(model);</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160; </div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;                    <span class="comment">//we return the tax total, since we used the amount of 100 when requesting, so the total is the same as the rate</span></div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;                    <span class="keywordflow">return</span> transaction?.totalTax;</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;                });</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;            });</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_caching_1_1_cache_key_html_a11fc098cbf5b8afd004485bed3bb4f98"><div class="ttname"><a href="class_nop_1_1_core_1_1_caching_1_1_cache_key.html#a11fc098cbf5b8afd004485bed3bb4f98">Nop.Core.Caching.CacheKey.CacheTime</a></div><div class="ttdeci">int CacheTime</div><div class="ttdoc">Gets or sets a cache time in minutes</div><div class="ttdef"><b>Definition:</b> CacheKey.cs:69</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_common_1_1_address_html_a1efba93544aad9fa0e2e5319741df8cf"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address.html#a1efba93544aad9fa0e2e5319741df8cf">Nop.Core.Domain.Common.Address.ZipPostalCode</a></div><div class="ttdeci">string ZipPostalCode</div><div class="ttdoc">Gets or sets the zip/postal code</div><div class="ttdef"><b>Definition:</b> Address.cs:63</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_common_1_1_address_html_a864bc12b4899cb180c45c96d016ebd0f"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address.html#a864bc12b4899cb180c45c96d016ebd0f">Nop.Core.Domain.Common.Address.Address1</a></div><div class="ttdeci">string Address1</div><div class="ttdoc">Gets or sets the address 1</div><div class="ttdef"><b>Definition:</b> Address.cs:53</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_common_1_1_address_html_a9c12353ba80e6e6acd6240dc53b87b1b"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address.html#a9c12353ba80e6e6acd6240dc53b87b1b">Nop.Core.Domain.Common.Address.City</a></div><div class="ttdeci">string City</div><div class="ttdoc">Gets or sets the city</div><div class="ttdef"><b>Definition:</b> Address.cs:48</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_common_1_1_address_html_ac9d46751d04796930a2a23543d7d34c0"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address.html#ac9d46751d04796930a2a23543d7d34c0">Nop.Core.Domain.Common.Address.CountryId</a></div><div class="ttdeci">int? CountryId</div><div class="ttdoc">Gets or sets the country identifier</div><div class="ttdef"><b>Definition:</b> Address.cs:33</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_common_1_1_address_html_ad5007e1230a87f638f768dfe675556af"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address.html#ad5007e1230a87f638f768dfe675556af">Nop.Core.Domain.Common.Address.StateProvinceId</a></div><div class="ttdeci">int? StateProvinceId</div><div class="ttdoc">Gets or sets the state/province identifier</div><div class="ttdef"><b>Definition:</b> Address.cs:38</div></div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings_html_a775686f73cd43804b0cd16836089c3b7"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings.html#a775686f73cd43804b0cd16836089c3b7">Nop.Plugin.Tax.Avalara.AvalaraTaxSettings.TaxRateByAddressCacheTime</a></div><div class="ttdeci">int TaxRateByAddressCacheTime</div><div class="ttdoc">Gets or sets the tax rate (by address) cache time in minutes</div><div class="ttdef"><b>Definition:</b> AvalaraTaxSettings.cs:59</div></div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings_html_ae4783e6bc75270170a7352dc8d6d51e2"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings.html#ae4783e6bc75270170a7352dc8d6d51e2">Nop.Plugin.Tax.Avalara.AvalaraTaxSettings.GetTaxRateByAddressOnly</a></div><div class="ttdeci">bool GetTaxRateByAddressOnly</div><div class="ttdoc">Gets or sets a value indicating whether to get the tax rate by address only.</div><div class="ttdef"><b>Definition:</b> AvalaraTaxSettings.cs:54</div></div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_tax_1_1_tax_rate_request_html_a0f49eb4246c056656faa73c841439431"><div class="ttname"><a href="class_nop_1_1_services_1_1_tax_1_1_tax_rate_request.html#a0f49eb4246c056656faa73c841439431">Nop.Services.Tax.TaxRateRequest.Customer</a></div><div class="ttdeci">Customer Customer</div><div class="ttdoc">Gets or sets a customer</div><div class="ttdef"><b>Definition:</b> TaxRateRequest.cs:15</div></div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_tax_1_1_tax_rate_request_html_a14e9e0c5b13e566b2b33e313ed89ffa0"><div class="ttname"><a href="class_nop_1_1_services_1_1_tax_1_1_tax_rate_request.html#a14e9e0c5b13e566b2b33e313ed89ffa0">Nop.Services.Tax.TaxRateRequest.Product</a></div><div class="ttdeci">Product Product</div><div class="ttdoc">Gets or sets a product</div><div class="ttdef"><b>Definition:</b> TaxRateRequest.cs:20</div></div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_tax_1_1_tax_rate_request_html_a79e67b3ec94b189d277a9411b9807dfa"><div class="ttname"><a href="class_nop_1_1_services_1_1_tax_1_1_tax_rate_request.html#a79e67b3ec94b189d277a9411b9807dfa">Nop.Services.Tax.TaxRateRequest.Address</a></div><div class="ttdeci">Address Address</div><div class="ttdoc">Gets or sets an address</div><div class="ttdef"><b>Definition:</b> TaxRateRequest.cs:25</div></div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_tax_1_1_tax_rate_request_html_aafcee1cf39372c7dc605196d15c09bcc"><div class="ttname"><a href="class_nop_1_1_services_1_1_tax_1_1_tax_rate_request.html#aafcee1cf39372c7dc605196d15c09bcc">Nop.Services.Tax.TaxRateRequest.TaxCategoryId</a></div><div class="ttdeci">int TaxCategoryId</div><div class="ttdoc">Gets or sets a tax category identifier</div><div class="ttdef"><b>Definition:</b> TaxRateRequest.cs:30</div></div>
<div class="ttc" id="ainterface_nop_1_1_core_1_1_caching_1_1_i_static_cache_manager_html_a6e6f64bac714480ec4f5b11c01d405b8"><div class="ttname"><a href="interface_nop_1_1_core_1_1_caching_1_1_i_static_cache_manager.html#a6e6f64bac714480ec4f5b11c01d405b8">Nop.Core.Caching.IStaticCacheManager.PrepareKeyForDefaultCache</a></div><div class="ttdeci">CacheKey PrepareKeyForDefaultCache(CacheKey cacheKey, params object[] cacheKeyParameters)</div><div class="ttdoc">Create a copy of cache key using the default cache time and fills it by passed parameters</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_services_1_1_tax_1_1_tax_rate_request.html#a79e67b3ec94b189d277a9411b9807dfa">Nop.Services.Tax.TaxRateRequest.Address</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address.html#a864bc12b4899cb180c45c96d016ebd0f">Nop.Core.Domain.Common.Address.Address1</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address.html#a9c12353ba80e6e6acd6240dc53b87b1b">Nop.Core.Domain.Common.Address.City</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address.html#ac9d46751d04796930a2a23543d7d34c0">Nop.Core.Domain.Common.Address.CountryId</a>, <a class="el" href="class_nop_1_1_services_1_1_tax_1_1_tax_rate_request.html#a0f49eb4246c056656faa73c841439431">Nop.Services.Tax.TaxRateRequest.Customer</a>, <a class="el" href="class_nop_1_1_core_1_1_common_helper.html#a7e1b63566b29d344beaacd65866a74c2">Nop.Core.CommonHelper.EnsureMaximumLength()</a>, <a class="el" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Nop.Core.BaseEntity.Id</a>, <a class="el" href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a5d49a2599538bfd3f9e5333e94ca11b0">Nop.Plugin.Misc.Sendinblue.Models.Name</a>, <a class="el" href="class_nop_1_1_services_1_1_tax_1_1_tax_rate_request.html#a14e9e0c5b13e566b2b33e313ed89ffa0">Nop.Services.Tax.TaxRateRequest.Product</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address.html#ad5007e1230a87f638f768dfe675556af">Nop.Core.Domain.Common.Address.StateProvinceId</a>, <a class="el" href="class_nop_1_1_services_1_1_tax_1_1_tax_rate_request.html#aafcee1cf39372c7dc605196d15c09bcc">Nop.Services.Tax.TaxRateRequest.TaxCategoryId</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_defaults.html#a5d9d837ebcc52f9314c1e8f715e4f4d4">Nop.Plugin.Tax.Avalara.AvalaraTaxDefaults.TaxRateCacheKey</a> e <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address.html#a1efba93544aad9fa0e2e5319741df8cf">Nop.Core.Domain.Common.Address.ZipPostalCode</a>.</p>

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_provider.html#aab660eee611ff95a4526c646cbf1f992">Nop.Plugin.Tax.Avalara.AvalaraTaxProvider.GetTaxRateAsync()</a>.</p>

</div>
</div>
<a id="a025d48272653797307cfcbaf63324f46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a025d48272653797307cfcbaf63324f46">&#9670;&nbsp;</a></span>HandleFunctionAsync&lt; TResult &gt;()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;TResult&gt; Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.HandleFunctionAsync&lt; TResult &gt; </td>
          <td>(</td>
          <td class="paramtype">Func&lt; <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; TResult &gt;&gt;&#160;</td>
          <td class="paramname"><em>function</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handle function and get result </p>
<dl class="tparams"><dt>Parâmetros de template</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">TResult</td><td>Result type</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">function</td><td>Function</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the result </dd></dl>
<div class="fragment"><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        {</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            <span class="keywordflow">try</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            {</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                <span class="comment">//ensure that Avalara tax provider is configured</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a90892e6175101cfae85ba7fefd85f652">IsConfigured</a>())</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                    <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="class_nop_1_1_core_1_1_nop_exception.html">NopException</a>(<span class="stringliteral">&quot;Tax provider is not configured&quot;</span>);</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160; </div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                <span class="keywordflow">return</span> await <span class="keyword">function</span>();</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;            }</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            <span class="keywordflow">catch</span> (Exception exception)</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            {</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                <span class="comment">//compose an error message</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                var errorMessage = exception.Message;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                <span class="keywordflow">if</span> (exception is AvaTaxError avaTaxError &amp;&amp; avaTaxError.error != <span class="keyword">null</span>)</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                    var errorInfo = avaTaxError.error.error;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                    <span class="keywordflow">if</span> (errorInfo != <span class="keyword">null</span>)</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                    {</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                        errorMessage = $<span class="stringliteral">&quot;{errorInfo.code} - {errorInfo.message}{Environment.NewLine}&quot;</span>;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                        <span class="keywordflow">if</span> (errorInfo.details?.Any() ?? <span class="keyword">false</span>)</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                        {</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                            var errorDetails = errorInfo.details.Aggregate(<span class="keywordtype">string</span>.Empty, (error, detail) =&gt; $<span class="stringliteral">&quot;{error}{detail.description}{Environment.NewLine}&quot;</span>);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                            errorMessage = $<span class="stringliteral">&quot;{errorMessage} Details: {errorDetails}&quot;</span>;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                        }</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                    }</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                }</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160; </div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                <span class="comment">//log errors</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a0e0e3c4d474d9d8a8ea9ae1bed65fd8f">_logger</a>.<a class="code" href="interface_nop_1_1_services_1_1_logging_1_1_i_logger.html#a79f003fceaa9adc00f36f8654be85913">ErrorAsync</a>($<span class="stringliteral">&quot;{AvalaraTaxDefaults.SystemName} error. {errorMessage}&quot;</span>, exception, await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ad821e4dff925e557f8a7490bf498916e">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">GetCurrentCustomerAsync</a>());</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160; </div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                <span class="keywordflow">return</span> <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;            }</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager_html_a90892e6175101cfae85ba7fefd85f652"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a90892e6175101cfae85ba7fefd85f652">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.IsConfigured</a></div><div class="ttdeci">bool IsConfigured()</div><div class="ttdoc">Check that tax provider is configured</div><div class="ttdef"><b>Definition:</b> AvalaraTaxManager.cs:202</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_logging_1_1_i_logger_html_a79f003fceaa9adc00f36f8654be85913"><div class="ttname"><a href="interface_nop_1_1_services_1_1_logging_1_1_i_logger.html#a79f003fceaa9adc00f36f8654be85913">Nop.Services.Logging.ILogger.ErrorAsync</a></div><div class="ttdeci">Task ErrorAsync(string message, Exception exception=null, Customer customer=null)</div><div class="ttdoc">Error</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a0e0e3c4d474d9d8a8ea9ae1bed65fd8f">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._logger</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ad821e4dff925e557f8a7490bf498916e">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._workContext</a>, <a class="el" href="namespace_nop_1_1_core_1_1_domain_1_1_tax.html#a1e41366ee169068a235af7db450cae15ace2c8aed9c2fa0cfbed56cbda4d8bf07">Nop.Core.Domain.Tax.Empty</a>, <a class="el" href="interface_nop_1_1_services_1_1_logging_1_1_i_logger.html#a79f003fceaa9adc00f36f8654be85913">Nop.Services.Logging.ILogger.ErrorAsync()</a>, <a class="el" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">Nop.Core.IWorkContext.GetCurrentCustomerAsync()</a> e <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a90892e6175101cfae85ba7fefd85f652">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.IsConfigured()</a>.</p>

</div>
</div>
<a id="ab1ec3a3248e763ea84e433a17b48f9ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1ec3a3248e763ea84e433a17b48f9ce">&#9670;&nbsp;</a></span>ImportTaxCodesAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;int?&gt; Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.ImportTaxCodesAsync </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Import tax codes from <a class="el" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara.html">Avalara</a> services </p>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the number of imported tax codes; null in case of error </dd></dl>
<div class="fragment"><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;        {</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;            <span class="keywordflow">return</span> await HandleFunctionAsync&lt;int?&gt;(async () =&gt;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;            {</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;                <span class="comment">//get Avalara pre-defined system tax codes (only active)</span></div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;                var systemTaxCodes = await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a7042ed6150237074c5143bb88ff25cf7">ServiceClient</a>.ListTaxCodesAsync(<span class="stringliteral">&quot;isActive eq true&quot;</span>, <span class="keyword">null</span>, <span class="keyword">null</span>, <span class="keyword">null</span>)</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;                    ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="class_nop_1_1_core_1_1_nop_exception.html">NopException</a>(<span class="stringliteral">&quot;No response from the service&quot;</span>);</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160; </div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;                <span class="keywordflow">if</span> (!systemTaxCodes.value?.Any() ?? <span class="keyword">true</span>)</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">null</span>;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160; </div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;                <span class="comment">//get existing tax categories</span></div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;                var existingTaxCategories = (await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ae17a1adc446632a690405c66184a828b">_taxCategoryService</a>.<a class="code" href="interface_nop_1_1_services_1_1_tax_1_1_i_tax_category_service.html#a7db7dea40092f0d43955842dcfd4e347">GetAllTaxCategoriesAsync</a>())</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;                    .Select(taxCategory =&gt; taxCategory.Name)</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;                    .ToList();</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160; </div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;                <span class="comment">//remove duplicates</span></div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;                var taxCodesToImport = systemTaxCodes.value</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;                    .Where(taxCode =&gt; !<span class="keywordtype">string</span>.IsNullOrEmpty(taxCode?.taxCode) &amp;&amp; !existingTaxCategories.Contains(taxCode.taxCode))</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;                    .ToList();</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160; </div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;                var importedTaxCodesNumber = 0;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;                foreach (var taxCode in taxCodesToImport)</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;                {</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;                    <span class="comment">//create new tax category</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;                    var taxCategory = <span class="keyword">new</span> <a class="code" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_category.html">TaxCategory</a> { <a class="code" href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a5d49a2599538bfd3f9e5333e94ca11b0">Name</a> = taxCode.taxCode };</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;                    await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ae17a1adc446632a690405c66184a828b">_taxCategoryService</a>.<a class="code" href="interface_nop_1_1_services_1_1_tax_1_1_i_tax_category_service.html#a3d85f875f39f5d9c0e5db2948c46067e">InsertTaxCategoryAsync</a>(taxCategory);</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160; </div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;                    <span class="comment">//save description and type</span></div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;                    <span class="keywordflow">if</span> (!<span class="keywordtype">string</span>.IsNullOrEmpty(taxCode.description))</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;                        await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a2cfafecccf84aefa7eb28149282d69c5">_genericAttributeService</a>.SaveAttributeAsync(taxCategory, AvalaraTaxDefaults.TaxCodeDescriptionAttribute, taxCode.description);</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_blogs.html#a4cf4e33536c481efb4671a4518aa4c4e">if</a> (!<span class="keywordtype">string</span>.IsNullOrEmpty(taxCode.taxCodeTypeId))</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;                        await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a2cfafecccf84aefa7eb28149282d69c5">_genericAttributeService</a>.SaveAttributeAsync(taxCategory, AvalaraTaxDefaults.TaxCodeTypeAttribute, taxCode.taxCodeTypeId);</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160; </div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;                    importedTaxCodesNumber++;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;                }</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160; </div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;                <span class="keywordflow">return</span> importedTaxCodesNumber;</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;            });</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        }</div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_tax_1_1_i_tax_category_service_html_a3d85f875f39f5d9c0e5db2948c46067e"><div class="ttname"><a href="interface_nop_1_1_services_1_1_tax_1_1_i_tax_category_service.html#a3d85f875f39f5d9c0e5db2948c46067e">Nop.Services.Tax.ITaxCategoryService.InsertTaxCategoryAsync</a></div><div class="ttdeci">Task InsertTaxCategoryAsync(TaxCategory taxCategory)</div><div class="ttdoc">Inserts a tax category</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="namespace_nop_1_1_web_1_1_models_1_1_blogs.html#a4cf4e33536c481efb4671a4518aa4c4e">Nop.Web.Models.Blogs.if()</a>, <a class="el" href="namespace_nop_1_1_plugin_1_1_misc_1_1_sendinblue_1_1_models.html#a5d49a2599538bfd3f9e5333e94ca11b0">Nop.Plugin.Misc.Sendinblue.Models.Name</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_defaults.html#ade2a7afc460e4a43c5dc9e6ee476ed3e">Nop.Plugin.Tax.Avalara.AvalaraTaxDefaults.TaxCodeDescriptionAttribute</a> e <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_defaults.html#a80f20e8b344785188ccc0cc7f806ba99">Nop.Plugin.Tax.Avalara.AvalaraTaxDefaults.TaxCodeTypeAttribute</a>.</p>

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_controllers_1_1_avalara_tax_controller.html#a935c2e11973dc63765885e4072e24315">Nop.Plugin.Tax.Avalara.Controllers.AvalaraTaxController.ImportTaxCodes()</a>.</p>

</div>
</div>
<a id="a90892e6175101cfae85ba7fefd85f652"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90892e6175101cfae85ba7fefd85f652">&#9670;&nbsp;</a></span>IsConfigured()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.IsConfigured </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check that tax provider is configured </p>
<dl class="section return"><dt>Retorna</dt><dd>True if it's configured; otherwise false</dd></dl>
<div class="fragment"><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        {</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;            <span class="keywordflow">return</span> !<span class="keywordtype">string</span>.IsNullOrEmpty(<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#afea35b71eb612597f3d73251bf5e0d76">_avalaraTaxSettings</a>.<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings.html#af327165a68d64a8ce8be77776baba8c9">AccountId</a>)</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                &amp;&amp; !<span class="keywordtype">string</span>.IsNullOrEmpty(<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#afea35b71eb612597f3d73251bf5e0d76">_avalaraTaxSettings</a>.<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings.html#ae6b0dd2b4598a138d0e515e79e839740">LicenseKey</a>);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings_html_ae6b0dd2b4598a138d0e515e79e839740"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings.html#ae6b0dd2b4598a138d0e515e79e839740">Nop.Plugin.Tax.Avalara.AvalaraTaxSettings.LicenseKey</a></div><div class="ttdeci">string LicenseKey</div><div class="ttdoc">Gets or sets Avalara account license key</div><div class="ttdef"><b>Definition:</b> AvalaraTaxSettings.cs:19</div></div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings_html_af327165a68d64a8ce8be77776baba8c9"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings.html#af327165a68d64a8ce8be77776baba8c9">Nop.Plugin.Tax.Avalara.AvalaraTaxSettings.AccountId</a></div><div class="ttdeci">string AccountId</div><div class="ttdoc">Gets or sets Avalara account ID</div><div class="ttdef"><b>Definition:</b> AvalaraTaxSettings.cs:14</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#afea35b71eb612597f3d73251bf5e0d76">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._avalaraTaxSettings</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings.html#af327165a68d64a8ce8be77776baba8c9">Nop.Plugin.Tax.Avalara.AvalaraTaxSettings.AccountId</a> e <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings.html#ae6b0dd2b4598a138d0e515e79e839740">Nop.Plugin.Tax.Avalara.AvalaraTaxSettings.LicenseKey</a>.</p>

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a025d48272653797307cfcbaf63324f46">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.HandleFunctionAsync&lt; TResult &gt;()</a>.</p>

</div>
</div>
<a id="acc9b8fa18c95e06f9bb79e4ddacc43ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc9b8fa18c95e06f9bb79e4ddacc43ea">&#9670;&nbsp;</a></span>MapAddressAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;AddressLocationInfo&gt; Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.MapAddressAsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address.html">Address</a>&#160;</td>
          <td class="paramname"><em>address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Map address model </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>Address</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the address model </dd></dl>
<div class="fragment"><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        {</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;            <span class="keywordflow">return</span> address == <span class="keyword">null</span> ? null : <span class="keyword">new</span> AddressLocationInfo</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;            {</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                city = <a class="code" href="class_nop_1_1_core_1_1_common_helper.html">CommonHelper</a>.<a class="code" href="class_nop_1_1_core_1_1_common_helper.html#a7e1b63566b29d344beaacd65866a74c2">EnsureMaximumLength</a>(address.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address.html#a9c12353ba80e6e6acd6240dc53b87b1b">City</a>, 50),</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                country = <a class="code" href="class_nop_1_1_core_1_1_common_helper.html">CommonHelper</a>.<a class="code" href="class_nop_1_1_core_1_1_common_helper.html#a7e1b63566b29d344beaacd65866a74c2">EnsureMaximumLength</a>((await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a919b626777895fb85b8fe2d8bd1b3ee3">_countryService</a>.<a class="code" href="interface_nop_1_1_services_1_1_directory_1_1_i_country_service.html#ac5036ded2f392a64646355d5e49e3936">GetCountryByAddressAsync</a>(address))?.TwoLetterIsoCode, 2),</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                line1 = <a class="code" href="class_nop_1_1_core_1_1_common_helper.html">CommonHelper</a>.<a class="code" href="class_nop_1_1_core_1_1_common_helper.html#a7e1b63566b29d344beaacd65866a74c2">EnsureMaximumLength</a>(address.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address.html#a864bc12b4899cb180c45c96d016ebd0f">Address1</a>, 50),</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                line2 = <a class="code" href="class_nop_1_1_core_1_1_common_helper.html">CommonHelper</a>.<a class="code" href="class_nop_1_1_core_1_1_common_helper.html#a7e1b63566b29d344beaacd65866a74c2">EnsureMaximumLength</a>(address.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address.html#a460c3873092ff5cb4a6f5d492599f6f2">Address2</a>, 100),</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                postalCode = <a class="code" href="class_nop_1_1_core_1_1_common_helper.html">CommonHelper</a>.<a class="code" href="class_nop_1_1_core_1_1_common_helper.html#a7e1b63566b29d344beaacd65866a74c2">EnsureMaximumLength</a>(address.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address.html#a1efba93544aad9fa0e2e5319741df8cf">ZipPostalCode</a>, 11),</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                region = <a class="code" href="class_nop_1_1_core_1_1_common_helper.html">CommonHelper</a>.<a class="code" href="class_nop_1_1_core_1_1_common_helper.html#a7e1b63566b29d344beaacd65866a74c2">EnsureMaximumLength</a>((await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a41c8457a9bda26e88506056ea125c8f1">_stateProvinceService</a>.<a class="code" href="interface_nop_1_1_services_1_1_directory_1_1_i_state_province_service.html#a86108f628f57439260d5a90aaeaddf8d">GetStateProvinceByAddressAsync</a>(address))?.Abbreviation, 3)</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;            };</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_common_1_1_address_html_a460c3873092ff5cb4a6f5d492599f6f2"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address.html#a460c3873092ff5cb4a6f5d492599f6f2">Nop.Core.Domain.Common.Address.Address2</a></div><div class="ttdeci">string Address2</div><div class="ttdoc">Gets or sets the address 2</div><div class="ttdef"><b>Definition:</b> Address.cs:58</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_directory_1_1_i_country_service_html_ac5036ded2f392a64646355d5e49e3936"><div class="ttname"><a href="interface_nop_1_1_services_1_1_directory_1_1_i_country_service.html#ac5036ded2f392a64646355d5e49e3936">Nop.Services.Directory.ICountryService.GetCountryByAddressAsync</a></div><div class="ttdeci">Task&lt; Country &gt; GetCountryByAddressAsync(Address address)</div><div class="ttdoc">Gets a country by address</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_directory_1_1_i_state_province_service_html_a86108f628f57439260d5a90aaeaddf8d"><div class="ttname"><a href="interface_nop_1_1_services_1_1_directory_1_1_i_state_province_service.html#a86108f628f57439260d5a90aaeaddf8d">Nop.Services.Directory.IStateProvinceService.GetStateProvinceByAddressAsync</a></div><div class="ttdeci">Task&lt; StateProvince &gt; GetStateProvinceByAddressAsync(Address address)</div><div class="ttdoc">Gets a state/province by address</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a919b626777895fb85b8fe2d8bd1b3ee3">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._countryService</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a41c8457a9bda26e88506056ea125c8f1">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._stateProvinceService</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address.html#a864bc12b4899cb180c45c96d016ebd0f">Nop.Core.Domain.Common.Address.Address1</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address.html#a460c3873092ff5cb4a6f5d492599f6f2">Nop.Core.Domain.Common.Address.Address2</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address.html#a9c12353ba80e6e6acd6240dc53b87b1b">Nop.Core.Domain.Common.Address.City</a>, <a class="el" href="class_nop_1_1_core_1_1_common_helper.html#a7e1b63566b29d344beaacd65866a74c2">Nop.Core.CommonHelper.EnsureMaximumLength()</a>, <a class="el" href="interface_nop_1_1_services_1_1_directory_1_1_i_country_service.html#ac5036ded2f392a64646355d5e49e3936">Nop.Services.Directory.ICountryService.GetCountryByAddressAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_directory_1_1_i_state_province_service.html#a86108f628f57439260d5a90aaeaddf8d">Nop.Services.Directory.IStateProvinceService.GetStateProvinceByAddressAsync()</a> e <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address.html#a1efba93544aad9fa0e2e5319741df8cf">Nop.Core.Domain.Common.Address.ZipPostalCode</a>.</p>

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a2f7dc463425449c1842304011b7f4eca">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.PrepareTransactionModelAsync()</a>.</p>

</div>
</div>
<a id="a7c0f3366fdec49a59d6c09e95757ea50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c0f3366fdec49a59d6c09e95757ea50">&#9670;&nbsp;</a></span>OnCallCompleted()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">async void Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.OnCallCompleted </td>
          <td>(</td>
          <td class="paramtype">object&#160;</td>
          <td class="paramname"><em>sender</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">EventArgs&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Event handler </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">sender</td><td>Sender</td></tr>
    <tr><td class="paramname">args</td><td>Event args</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;            <span class="keywordflow">if</span> (args is not AvaTaxCallEventArgs avaTaxCallEventArgs)</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160; </div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;            <span class="comment">//log request results</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a2315315292c0e6e91b536c6cb2333af6">_taxTransactionLogService</a>.<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_tax_transaction_log_service.html#a8efd18a101be8c4b71697907a513c319">InsertTaxTransactionLogAsync</a>(<span class="keyword">new</span> <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_domain_1_1_tax_transaction_log.html">TaxTransactionLog</a></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;            {</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                StatusCode = (int)avaTaxCallEventArgs.Code,</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                <a class="code" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aafe385d8c4510efed77d5ec1aaff6c1c">Url</a> = avaTaxCallEventArgs.RequestUri.ToString(),</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                <a class="code" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#a57122dbc813082c601cecd197fd01db5">RequestMessage</a> = avaTaxCallEventArgs.RequestBody,</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                <a class="code" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aaf2ada3a9e7aaad8f00f8580d95d2c94">ResponseMessage</a> = avaTaxCallEventArgs.ResponseString,</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                <a class="code" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aaa4303994371e93df77abec6d473c7e8">CustomerId</a> = (await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ad821e4dff925e557f8a7490bf498916e">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">GetCurrentCustomerAsync</a>()).<a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a968ff99d09af9aec2bb20d13d463c147">Id</a>,</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                CreatedDateUtc = DateTime.UtcNow</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;            });</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_domain_1_1_tax_transaction_log_html"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_domain_1_1_tax_transaction_log.html">Nop.Plugin.Tax.Avalara.Domain.TaxTransactionLog</a></div><div class="ttdoc">Represents a tax transaction log record</div><div class="ttdef"><b>Definition:</b> TaxTransactionLog.cs:10</div></div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_tax_transaction_log_service_html_a8efd18a101be8c4b71697907a513c319"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_tax_transaction_log_service.html#a8efd18a101be8c4b71697907a513c319">Nop.Plugin.Tax.Avalara.Services.TaxTransactionLogService.InsertTaxTransactionLogAsync</a></div><div class="ttdeci">virtual async Task InsertTaxTransactionLogAsync(TaxTransactionLog logItem)</div><div class="ttdoc">Insert the log item</div><div class="ttdef"><b>Definition:</b> TaxTransactionLogService.cs:87</div></div>
<div class="ttc" id="anamespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log_html_a57122dbc813082c601cecd197fd01db5"><div class="ttname"><a href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#a57122dbc813082c601cecd197fd01db5">Nop.Plugin.Tax.Avalara.Models.Log.RequestMessage</a></div><div class="ttdeci">string RequestMessage</div><div class="ttdef"><b>Definition:</b> TaxTransactionLogModel.cs:21</div></div>
<div class="ttc" id="anamespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log_html_aaf2ada3a9e7aaad8f00f8580d95d2c94"><div class="ttname"><a href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aaf2ada3a9e7aaad8f00f8580d95d2c94">Nop.Plugin.Tax.Avalara.Models.Log.ResponseMessage</a></div><div class="ttdeci">string ResponseMessage</div><div class="ttdef"><b>Definition:</b> TaxTransactionLogModel.cs:24</div></div>
<div class="ttc" id="anamespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log_html_aafe385d8c4510efed77d5ec1aaff6c1c"><div class="ttname"><a href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aafe385d8c4510efed77d5ec1aaff6c1c">Nop.Plugin.Tax.Avalara.Models.Log.Url</a></div><div class="ttdeci">string Url</div><div class="ttdef"><b>Definition:</b> TaxTransactionLogModel.cs:18</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders_html_a968ff99d09af9aec2bb20d13d463c147"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a968ff99d09af9aec2bb20d13d463c147">Nop.Web.Areas.Admin.Models.Orders.Id</a></div><div class="ttdeci">override int Id</div><div class="ttdef"><b>Definition:</b> OrderModel.cs:39</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a2315315292c0e6e91b536c6cb2333af6">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._taxTransactionLogService</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ad821e4dff925e557f8a7490bf498916e">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._workContext</a>, <a class="el" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aaa4303994371e93df77abec6d473c7e8">Nop.Plugin.Tax.Avalara.Models.Log.CustomerId</a>, <a class="el" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">Nop.Core.IWorkContext.GetCurrentCustomerAsync()</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a968ff99d09af9aec2bb20d13d463c147">Nop.Web.Areas.Admin.Models.Orders.Id</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_tax_transaction_log_service.html#a8efd18a101be8c4b71697907a513c319">Nop.Plugin.Tax.Avalara.Services.TaxTransactionLogService.InsertTaxTransactionLogAsync()</a>, <a class="el" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#a57122dbc813082c601cecd197fd01db5">Nop.Plugin.Tax.Avalara.Models.Log.RequestMessage</a>, <a class="el" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aaf2ada3a9e7aaad8f00f8580d95d2c94">Nop.Plugin.Tax.Avalara.Models.Log.ResponseMessage</a> e <a class="el" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aafe385d8c4510efed77d5ec1aaff6c1c">Nop.Plugin.Tax.Avalara.Models.Log.Url</a>.</p>

</div>
</div>
<a id="a535b9dd4b0e7a0dfa587c877aefa7354"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a535b9dd4b0e7a0dfa587c877aefa7354">&#9670;&nbsp;</a></span>PingAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;PingResultModel&gt; Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.PingAsync </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ping service (test conection) </p>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the ping result </dd></dl>
<div class="fragment"><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;        {</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;            <span class="keywordflow">return</span> await HandleFunctionAsync(() =&gt; <a class="code" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>.FromResult(<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a7042ed6150237074c5143bb88ff25cf7">ServiceClient</a>.Ping() ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="class_nop_1_1_core_1_1_nop_exception.html">NopException</a>(<span class="stringliteral">&quot;No response from the service&quot;</span>)));</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_controllers_1_1_avalara_controller.html#a347be1726a27500d29436afdd4981c54">Nop.Plugin.Tax.Avalara.Controllers.AvalaraController.VerifyCredentials()</a>.</p>

</div>
</div>
<a id="a8977bb26a998638a30d2b14827c4833b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8977bb26a998638a30d2b14827c4833b">&#9670;&nbsp;</a></span>PrepareModelTaxExemptionAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;CreateTransactionModel&gt; Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.PrepareModelTaxExemptionAsync </td>
          <td>(</td>
          <td class="paramtype">CreateTransactionModel&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html">Customer</a>&#160;</td>
          <td class="paramname"><em>customer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare model tax exemption details </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">model</td><td>Model</td></tr>
    <tr><td class="paramname">customer</td><td>Customer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the model </dd></dl>
<div class="fragment"><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        {</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;            <span class="keywordflow">if</span> (customer.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html#a35cd073b91a6d5b5e65697dab7a331ba">IsTaxExempt</a>)</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;                model.exemptionNo = <a class="code" href="class_nop_1_1_core_1_1_common_helper.html">CommonHelper</a>.<a class="code" href="class_nop_1_1_core_1_1_common_helper.html#a7e1b63566b29d344beaacd65866a74c2">EnsureMaximumLength</a>($<span class="stringliteral">&quot;Exempt-customer-#{customer.Id}&quot;</span>, 25);</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;            {</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;                var customerRole = (await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a0a6b9036fcf854c95244d669f00cfbc9">_customerService</a>.<a class="code" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#a8d3be1f8f714d25de6cac210dd28ca94">GetCustomerRolesAsync</a>(customer)).FirstOrDefault(role =&gt; role.TaxExempt);</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;                <span class="keywordflow">if</span> (customerRole != <span class="keyword">null</span>)</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;                    model.exemptionNo = <a class="code" href="class_nop_1_1_core_1_1_common_helper.html">CommonHelper</a>.<a class="code" href="class_nop_1_1_core_1_1_common_helper.html#a7e1b63566b29d344beaacd65866a74c2">EnsureMaximumLength</a>($<span class="stringliteral">&quot;Exempt-{customerRole.Name}&quot;</span>, 25);</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;            }</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160; </div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;            var entityUseCode = await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a2cfafecccf84aefa7eb28149282d69c5">_genericAttributeService</a>.GetAttributeAsync&lt;<span class="keywordtype">string</span>&gt;(customer, AvalaraTaxDefaults.EntityUseCodeAttribute);</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;            <span class="keywordflow">if</span> (!<span class="keywordtype">string</span>.IsNullOrEmpty(entityUseCode))</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;                model.customerUsageType = <a class="code" href="class_nop_1_1_core_1_1_common_helper.html">CommonHelper</a>.<a class="code" href="class_nop_1_1_core_1_1_common_helper.html#a7e1b63566b29d344beaacd65866a74c2">EnsureMaximumLength</a>(entityUseCode, 25);</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;            {</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;                entityUseCode = await (await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a0a6b9036fcf854c95244d669f00cfbc9">_customerService</a>.<a class="code" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#a8d3be1f8f714d25de6cac210dd28ca94">GetCustomerRolesAsync</a>(customer))</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;                    .SelectAwait(async customerRole =&gt; await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a2cfafecccf84aefa7eb28149282d69c5">_genericAttributeService</a>.GetAttributeAsync&lt;<span class="keywordtype">string</span>&gt;(customerRole, AvalaraTaxDefaults.EntityUseCodeAttribute))</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;                    .FirstOrDefaultAsync(code =&gt; !<span class="keywordtype">string</span>.IsNullOrEmpty(code));</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;                model.customerUsageType = <a class="code" href="class_nop_1_1_core_1_1_common_helper.html">CommonHelper</a>.<a class="code" href="class_nop_1_1_core_1_1_common_helper.html#a7e1b63566b29d344beaacd65866a74c2">EnsureMaximumLength</a>(entityUseCode, 25);</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;            }</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160; </div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;            <span class="keywordflow">return</span> model;</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer_html_a35cd073b91a6d5b5e65697dab7a331ba"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html#a35cd073b91a6d5b5e65697dab7a331ba">Nop.Core.Domain.Customers.Customer.IsTaxExempt</a></div><div class="ttdeci">bool IsTaxExempt</div><div class="ttdoc">Gets or sets a value indicating whether the customer is tax exempt</div><div class="ttdef"><b>Definition:</b> Customer.cs:44</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_customers_1_1_i_customer_service_html_a8d3be1f8f714d25de6cac210dd28ca94"><div class="ttname"><a href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#a8d3be1f8f714d25de6cac210dd28ca94">Nop.Services.Customers.ICustomerService.GetCustomerRolesAsync</a></div><div class="ttdeci">Task&lt; IList&lt; CustomerRole &gt; &gt; GetCustomerRolesAsync(Customer customer, bool showHidden=false)</div><div class="ttdoc">Gets list of customer roles</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_core_1_1_common_helper.html#a7e1b63566b29d344beaacd65866a74c2">Nop.Core.CommonHelper.EnsureMaximumLength()</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_defaults.html#a408951868499c80afeac978455ec9f13">Nop.Plugin.Tax.Avalara.AvalaraTaxDefaults.EntityUseCodeAttribute</a> e <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html#a35cd073b91a6d5b5e65697dab7a331ba">Nop.Core.Domain.Customers.Customer.IsTaxExempt</a>.</p>

</div>
</div>
<a id="a2f7dc463425449c1842304011b7f4eca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f7dc463425449c1842304011b7f4eca">&#9670;&nbsp;</a></span>PrepareTransactionModelAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;CreateTransactionModel&gt; Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.PrepareTransactionModelAsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address.html">Address</a>&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>customerCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DocumentType&#160;</td>
          <td class="paramname"><em>documentType</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare model to create a tax transaction </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td><a class="el" href="namespace_nop_1_1_plugin_1_1_tax.html">Tax</a> address</td></tr>
    <tr><td class="paramname">customerCode</td><td>Customer code</td></tr>
    <tr><td class="paramname">documentType</td><td>Transaction document type</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the model </dd></dl>
<div class="fragment"><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        {</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;            var model = <span class="keyword">new</span> CreateTransactionModel</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            {</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                customerCode = <a class="code" href="class_nop_1_1_core_1_1_common_helper.html">CommonHelper</a>.<a class="code" href="class_nop_1_1_core_1_1_common_helper.html#a7e1b63566b29d344beaacd65866a74c2">EnsureMaximumLength</a>(customerCode, 50),</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                date = DateTime.UtcNow,</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                type = documentType</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;            };</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160; </div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            <span class="comment">//set company code</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            var companyCode = !<span class="keywordtype">string</span>.IsNullOrEmpty(<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#afea35b71eb612597f3d73251bf5e0d76">_avalaraTaxSettings</a>.<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings.html#a8f9ca0d844ea9e09b83bd488341cb093">CompanyCode</a>)</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                &amp;&amp; !<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#afea35b71eb612597f3d73251bf5e0d76">_avalaraTaxSettings</a>.<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings.html#a8f9ca0d844ea9e09b83bd488341cb093">CompanyCode</a>.Equals(Guid.Empty.ToString())</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                ? <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#afea35b71eb612597f3d73251bf5e0d76">_avalaraTaxSettings</a>.<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings.html#a8f9ca0d844ea9e09b83bd488341cb093">CompanyCode</a></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                : <span class="keyword">null</span>;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            model.companyCode = <a class="code" href="class_nop_1_1_core_1_1_common_helper.html">CommonHelper</a>.<a class="code" href="class_nop_1_1_core_1_1_common_helper.html#a7e1b63566b29d344beaacd65866a74c2">EnsureMaximumLength</a>(companyCode, 25);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160; </div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            <span class="comment">//set tax addresses</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;            model.addresses = <span class="keyword">new</span> AddressesModel();</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;            var originAddress = <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#afea35b71eb612597f3d73251bf5e0d76">_avalaraTaxSettings</a>.<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings.html#aedd112ac3c917b74db45db3df4e20e7e">TaxOriginAddressType</a> <span class="keywordflow">switch</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;            {</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                <a class="code" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_domain.html#a3905a9eb6c4c1617042226274ca42e13">TaxOriginAddressType</a>.ShippingOrigin =&gt; await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a1bb83b9312bffecf7f93cd3d4b6dccdc">_addressService</a>.<a class="code" href="interface_nop_1_1_services_1_1_common_1_1_i_address_service.html#a91a223bb48ad616e4155d16894c64470">GetAddressByIdAsync</a>(<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a6983d8e0c2a004f337bdc9134819ea29">_shippingSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipping_settings.html#a12beeeac8edc37600bc8a2b46f70ea05">ShippingOriginAddressId</a>),</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                <a class="code" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_domain.html#a3905a9eb6c4c1617042226274ca42e13">TaxOriginAddressType</a>.DefaultTaxAddress =&gt; await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a1bb83b9312bffecf7f93cd3d4b6dccdc">_addressService</a>.<a class="code" href="interface_nop_1_1_services_1_1_common_1_1_i_address_service.html#a91a223bb48ad616e4155d16894c64470">GetAddressByIdAsync</a>(<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ab787bae510c4b103374c92d8784c7e29">_taxSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html#a4089d43af51c9c05a37c2a08f0641776">DefaultTaxAddressId</a>),</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                _ =&gt; <span class="keyword">null</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;            };</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;            var shipFromAddress = await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#acc9b8fa18c95e06f9bb79e4ddacc43ea">MapAddressAsync</a>(originAddress);</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;            var shipToAddress = await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#acc9b8fa18c95e06f9bb79e4ddacc43ea">MapAddressAsync</a>(address);</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;            <span class="keywordflow">if</span> (shipFromAddress != <span class="keyword">null</span> &amp;&amp; shipToAddress != <span class="keyword">null</span>)</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;            {</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                model.addresses.shipFrom = shipFromAddress;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                model.addresses.shipTo = shipToAddress;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            }</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                model.addresses.singleLocation = shipToAddress ?? shipFromAddress;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160; </div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            <span class="keywordflow">return</span> model;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipping_settings_html_a12beeeac8edc37600bc8a2b46f70ea05"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipping_settings.html#a12beeeac8edc37600bc8a2b46f70ea05">Nop.Core.Domain.Shipping.ShippingSettings.ShippingOriginAddressId</a></div><div class="ttdeci">int ShippingOriginAddressId</div><div class="ttdoc">Gets or sets shipping origin address</div><div class="ttdef"><b>Definition:</b> ShippingSettings.cs:112</div></div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings_html_aedd112ac3c917b74db45db3df4e20e7e"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings.html#aedd112ac3c917b74db45db3df4e20e7e">Nop.Plugin.Tax.Avalara.AvalaraTaxSettings.TaxOriginAddressType</a></div><div class="ttdeci">TaxOriginAddressType TaxOriginAddressType</div><div class="ttdoc">Gets or sets a type of the tax origin address</div><div class="ttdef"><b>Definition:</b> AvalaraTaxSettings.cs:44</div></div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager_html_acc9b8fa18c95e06f9bb79e4ddacc43ea"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#acc9b8fa18c95e06f9bb79e4ddacc43ea">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.MapAddressAsync</a></div><div class="ttdeci">async Task&lt; AddressLocationInfo &gt; MapAddressAsync(Address address)</div><div class="ttdoc">Map address model</div><div class="ttdef"><b>Definition:</b> AvalaraTaxManager.cs:373</div></div>
<div class="ttc" id="anamespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_domain_html_a3905a9eb6c4c1617042226274ca42e13"><div class="ttname"><a href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_domain.html#a3905a9eb6c4c1617042226274ca42e13">Nop.Plugin.Tax.Avalara.Domain.TaxOriginAddressType</a></div><div class="ttdeci">TaxOriginAddressType</div><div class="ttdoc">Represents the tax origin address type enumeration</div><div class="ttdef"><b>Definition:</b> TaxOriginAddressType.cs:7</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a1bb83b9312bffecf7f93cd3d4b6dccdc">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._addressService</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#afea35b71eb612597f3d73251bf5e0d76">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._avalaraTaxSettings</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a6983d8e0c2a004f337bdc9134819ea29">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._shippingSettings</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ab787bae510c4b103374c92d8784c7e29">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._taxSettings</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings.html#a8f9ca0d844ea9e09b83bd488341cb093">Nop.Plugin.Tax.Avalara.AvalaraTaxSettings.CompanyCode</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html#a4089d43af51c9c05a37c2a08f0641776">Nop.Core.Domain.Tax.TaxSettings.DefaultTaxAddressId</a>, <a class="el" href="class_nop_1_1_core_1_1_common_helper.html#a7e1b63566b29d344beaacd65866a74c2">Nop.Core.CommonHelper.EnsureMaximumLength()</a>, <a class="el" href="interface_nop_1_1_services_1_1_common_1_1_i_address_service.html#a91a223bb48ad616e4155d16894c64470">Nop.Services.Common.IAddressService.GetAddressByIdAsync()</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#acc9b8fa18c95e06f9bb79e4ddacc43ea">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.MapAddressAsync()</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipping_settings.html#a12beeeac8edc37600bc8a2b46f70ea05">Nop.Core.Domain.Shipping.ShippingSettings.ShippingOriginAddressId</a> e <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings.html#aedd112ac3c917b74db45db3df4e20e7e">Nop.Plugin.Tax.Avalara.AvalaraTaxSettings.TaxOriginAddressType</a>.</p>

</div>
</div>
<a id="ab571aae00d67aa2037cd9497359c3769"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab571aae00d67aa2037cd9497359c3769">&#9670;&nbsp;</a></span>RefundTaxTransactionAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a> Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.RefundTaxTransactionAsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a>&#160;</td>
          <td class="paramname"><em>order</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">decimal&#160;</td>
          <td class="paramname"><em>amountToRefund</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Refund tax transaction </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">order</td><td>Order</td></tr>
    <tr><td class="paramname">amountToRefund</td><td>Amount to refund</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation</dd></dl>
<div class="fragment"><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;        {</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;            await HandleFunctionAsync(() =&gt;</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;            {</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;                <span class="keywordflow">if</span> (<span class="keywordtype">string</span>.IsNullOrEmpty(<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#afea35b71eb612597f3d73251bf5e0d76">_avalaraTaxSettings</a>.<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings.html#a8f9ca0d844ea9e09b83bd488341cb093">CompanyCode</a>) || <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#afea35b71eb612597f3d73251bf5e0d76">_avalaraTaxSettings</a>.<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings.html#a8f9ca0d844ea9e09b83bd488341cb093">CompanyCode</a>.Equals(Guid.Empty.ToString()))</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;                    <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="class_nop_1_1_core_1_1_nop_exception.html">NopException</a>(<span class="stringliteral">&quot;Company not selected&quot;</span>);</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160; </div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;                <span class="comment">//first try to get saved tax transaction</span></div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;                var transaction = <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a7042ed6150237074c5143bb88ff25cf7">ServiceClient</a>.GetTransactionByCodeAndType(<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#afea35b71eb612597f3d73251bf5e0d76">_avalaraTaxSettings</a>.<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings.html#a8f9ca0d844ea9e09b83bd488341cb093">CompanyCode</a>, order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a7061d07eef94408c40f32832cf91aafa">CustomOrderNumber</a>, DocumentType.SalesInvoice, <span class="keyword">null</span>)</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;                    ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="class_nop_1_1_core_1_1_nop_exception.html">NopException</a>(<span class="stringliteral">&quot;No response from the service&quot;</span>);</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160; </div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;                <span class="comment">//create refund transaction model</span></div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;                var model = <span class="keyword">new</span> RefundTransactionModel</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;                {</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;                    referenceCode = <a class="code" href="class_nop_1_1_core_1_1_common_helper.html">CommonHelper</a>.<a class="code" href="class_nop_1_1_core_1_1_common_helper.html#a7e1b63566b29d344beaacd65866a74c2">EnsureMaximumLength</a>(transaction.code, 50),</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;                    refundDate = transaction.date ?? DateTime.UtcNow,</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;                    refundType = RefundType.Full</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;                };</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160; </div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;                <span class="comment">//whether it&#39;s a partial refund</span></div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;                var isPartialRefund = amountToRefund &lt; order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a5707771d888f12d4a74e1e2eac82f720">OrderTotal</a>;</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;                <span class="keywordflow">if</span> (isPartialRefund)</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;                {</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;                    model.refundType = RefundType.Percentage;</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;                    model.refundPercentage = amountToRefund / (order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a5707771d888f12d4a74e1e2eac82f720">OrderTotal</a> - order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#af8a979c9501c08fd5eb7930a283c04c3">OrderTax</a>) * 100;</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;                }</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160; </div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;                transaction = <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a7042ed6150237074c5143bb88ff25cf7">ServiceClient</a>.RefundTransaction(<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#afea35b71eb612597f3d73251bf5e0d76">_avalaraTaxSettings</a>.<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings.html#a8f9ca0d844ea9e09b83bd488341cb093">CompanyCode</a>, transaction.code, <span class="keyword">null</span>, <span class="keyword">null</span>, <span class="keyword">null</span>, model)</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;                    ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="class_nop_1_1_core_1_1_nop_exception.html">NopException</a>(<span class="stringliteral">&quot;No response from the service&quot;</span>);</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160; </div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>.FromResult(transaction);</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;            });</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_a5707771d888f12d4a74e1e2eac82f720"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a5707771d888f12d4a74e1e2eac82f720">Nop.Core.Domain.Orders.Order.OrderTotal</a></div><div class="ttdeci">decimal OrderTotal</div><div class="ttdoc">Gets or sets the order total</div><div class="ttdef"><b>Definition:</b> Order.cs:149</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_html_af8a979c9501c08fd5eb7930a283c04c3"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#af8a979c9501c08fd5eb7930a283c04c3">Nop.Core.Domain.Orders.Order.OrderTax</a></div><div class="ttdeci">decimal OrderTax</div><div class="ttdoc">Gets or sets the order tax</div><div class="ttdef"><b>Definition:</b> Order.cs:139</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a7061d07eef94408c40f32832cf91aafa">Nop.Core.Domain.Orders.Order.CustomOrderNumber</a>, <a class="el" href="class_nop_1_1_core_1_1_common_helper.html#a7e1b63566b29d344beaacd65866a74c2">Nop.Core.CommonHelper.EnsureMaximumLength()</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#af8a979c9501c08fd5eb7930a283c04c3">Nop.Core.Domain.Orders.Order.OrderTax</a> e <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a5707771d888f12d4a74e1e2eac82f720">Nop.Core.Domain.Orders.Order.OrderTotal</a>.</p>

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_event_consumer.html#a95678ceb6c0a0b74e570a104d9d2dfa8">Nop.Plugin.Tax.Avalara.Services.EventConsumer.HandleEventAsync()</a>.</p>

</div>
</div>
<a id="abf9bb15640c017afd71bc05ac62a21d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf9bb15640c017afd71bc05ac62a21d9">&#9670;&nbsp;</a></span>ValidateAddressAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;AddressResolutionModel&gt; Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.ValidateAddressAsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_address.html">Address</a>&#160;</td>
          <td class="paramname"><em>address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resolve the passed address against <a class="el" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara.html">Avalara</a>'s address-validation system </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>Address to validate</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the validated address </dd></dl>
<div class="fragment"><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;        {</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;            <span class="keywordflow">return</span> (await HandleFunctionAsync(async () =&gt; await <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a7042ed6150237074c5143bb88ff25cf7">ServiceClient</a>.ResolveAddressPostAsync(<span class="keyword">new</span> AddressValidationInfo</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;            {</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;                city = CommonHelper.EnsureMaximumLength(address.City, 50),</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;                country = CommonHelper.EnsureMaximumLength((await _countryService.GetCountryByAddressAsync(address))?.TwoLetterIsoCode, 2),</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;                line1 = CommonHelper.EnsureMaximumLength(address.Address1, 50),</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;                line2 = CommonHelper.EnsureMaximumLength(address.Address2, 100),</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;                postalCode = CommonHelper.EnsureMaximumLength(address.ZipPostalCode, 11),</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;                region = CommonHelper.EnsureMaximumLength((await _stateProvinceService.GetStateProvinceByAddressAsync(address))?.Abbreviation, 3),</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;                textCase = TextCase.Mixed</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;            }) ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="class_nop_1_1_core_1_1_nop_exception.html">NopException</a>(<span class="stringliteral">&quot;No response from the service&quot;</span>)));</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_components_1_1_address_validation_view_component.html#a1feb207019f7cd5095874d8653c4cb2b">Nop.Plugin.Tax.Avalara.Components.AddressValidationViewComponent.InvokeAsync()</a>.</p>

</div>
</div>
<a id="af64ce89fa00b4634c7b8db053d28a7ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af64ce89fa00b4634c7b8db053d28a7ff">&#9670;&nbsp;</a></span>VoidTaxTransactionAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a> Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.VoidTaxTransactionAsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html">Order</a>&#160;</td>
          <td class="paramname"><em>order</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Void tax transaction </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">order</td><td>Order</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation</dd></dl>
<div class="fragment"><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;        {</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;            await HandleFunctionAsync(() =&gt;</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;            {</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;                <span class="keywordflow">if</span> (<span class="keywordtype">string</span>.IsNullOrEmpty(<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#afea35b71eb612597f3d73251bf5e0d76">_avalaraTaxSettings</a>.<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings.html#a8f9ca0d844ea9e09b83bd488341cb093">CompanyCode</a>) || <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#afea35b71eb612597f3d73251bf5e0d76">_avalaraTaxSettings</a>.<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings.html#a8f9ca0d844ea9e09b83bd488341cb093">CompanyCode</a>.Equals(Guid.Empty.ToString()))</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;                    <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="class_nop_1_1_core_1_1_nop_exception.html">NopException</a>(<span class="stringliteral">&quot;Company not selected&quot;</span>);</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160; </div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;                var model = <span class="keyword">new</span> VoidTransactionModel { code = VoidReasonCode.DocVoided };</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;                var transaction = <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a7042ed6150237074c5143bb88ff25cf7">ServiceClient</a>.VoidTransaction(<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#afea35b71eb612597f3d73251bf5e0d76">_avalaraTaxSettings</a>.<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings.html#a8f9ca0d844ea9e09b83bd488341cb093">CompanyCode</a>, order.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a7061d07eef94408c40f32832cf91aafa">CustomOrderNumber</a>, <span class="keyword">null</span>, <span class="keyword">null</span>, model)</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;                    ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="class_nop_1_1_core_1_1_nop_exception.html">NopException</a>(<span class="stringliteral">&quot;No response from the service&quot;</span>);</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160; </div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>.FromResult(transaction);</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;            });</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order.html#a7061d07eef94408c40f32832cf91aafa">Nop.Core.Domain.Orders.Order.CustomOrderNumber</a>.</p>

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_event_consumer.html#a6df2f35c675b6ee7271f74903dc1bf01">Nop.Plugin.Tax.Avalara.Services.EventConsumer.HandleEventAsync()</a>.</p>

</div>
</div>
<h2 class="groupheader">Documentação dos dados membro</h2>
<a id="a935fd01e74b8d8fea554136ecfb7f41e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a935fd01e74b8d8fea554136ecfb7f41e">&#9670;&nbsp;</a></span>_actionContextAccessor</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly IActionContextAccessor Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._actionContextAccessor</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ad5ef245dc365646e78d846f0cccdfab3">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.AvalaraTaxManager()</a>.</p>

</div>
</div>
<a id="a1bb83b9312bffecf7f93cd3d4b6dccdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bb83b9312bffecf7f93cd3d4b6dccdc">&#9670;&nbsp;</a></span>_addressService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_common_1_1_i_address_service.html">IAddressService</a> Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._addressService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ad5ef245dc365646e78d846f0cccdfab3">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.AvalaraTaxManager()</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ac070360ad2d9054e933aee48225e807a">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.GetTaxAddressAsync()</a> e <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a2f7dc463425449c1842304011b7f4eca">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.PrepareTransactionModelAsync()</a>.</p>

</div>
</div>
<a id="afea35b71eb612597f3d73251bf5e0d76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afea35b71eb612597f3d73251bf5e0d76">&#9670;&nbsp;</a></span>_avalaraTaxSettings</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings.html">AvalaraTaxSettings</a> Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._avalaraTaxSettings</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ad5ef245dc365646e78d846f0cccdfab3">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.AvalaraTaxManager()</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a90892e6175101cfae85ba7fefd85f652">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.IsConfigured()</a> e <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a2f7dc463425449c1842304011b7f4eca">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.PrepareTransactionModelAsync()</a>.</p>

</div>
</div>
<a id="a382e68a9c9fa5c71cbea3dc3633c54af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a382e68a9c9fa5c71cbea3dc3633c54af">&#9670;&nbsp;</a></span>_checkoutAttributeParser</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_checkout_attribute_parser.html">ICheckoutAttributeParser</a> Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._checkoutAttributeParser</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ad5ef245dc365646e78d846f0cccdfab3">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.AvalaraTaxManager()</a>.</p>

</div>
</div>
<a id="a598008073c884f98938d4dce60f60649"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a598008073c884f98938d4dce60f60649">&#9670;&nbsp;</a></span>_checkoutAttributeService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_checkout_attribute_service.html">ICheckoutAttributeService</a> Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._checkoutAttributeService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ad5ef245dc365646e78d846f0cccdfab3">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.AvalaraTaxManager()</a>.</p>

</div>
</div>
<a id="a919b626777895fb85b8fe2d8bd1b3ee3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a919b626777895fb85b8fe2d8bd1b3ee3">&#9670;&nbsp;</a></span>_countryService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_directory_1_1_i_country_service.html">ICountryService</a> Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._countryService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ad5ef245dc365646e78d846f0cccdfab3">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.AvalaraTaxManager()</a> e <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#acc9b8fa18c95e06f9bb79e4ddacc43ea">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.MapAddressAsync()</a>.</p>

</div>
</div>
<a id="a0a6b9036fcf854c95244d669f00cfbc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a6b9036fcf854c95244d669f00cfbc9">&#9670;&nbsp;</a></span>_customerService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html">ICustomerService</a> Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._customerService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ad5ef245dc365646e78d846f0cccdfab3">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.AvalaraTaxManager()</a>.</p>

</div>
</div>
<a id="a268d445739110120de5345698026729a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a268d445739110120de5345698026729a">&#9670;&nbsp;</a></span>_disposed</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._disposed</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a0bc1da90b62d89ad6075a1310f566e5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bc1da90b62d89ad6075a1310f566e5b">&#9670;&nbsp;</a></span>_genericAttributeRepository</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_data_1_1_i_repository.html">IRepository</a>&lt;<a class="el" href="class_nop_1_1_core_1_1_domain_1_1_common_1_1_generic_attribute.html">GenericAttribute</a>&gt; Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._genericAttributeRepository</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ad5ef245dc365646e78d846f0cccdfab3">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.AvalaraTaxManager()</a>.</p>

</div>
</div>
<a id="a2cfafecccf84aefa7eb28149282d69c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cfafecccf84aefa7eb28149282d69c5">&#9670;&nbsp;</a></span>_genericAttributeService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_common_1_1_i_generic_attribute_service.html">IGenericAttributeService</a> Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._genericAttributeService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ad5ef245dc365646e78d846f0cccdfab3">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.AvalaraTaxManager()</a> e <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#acdbca097672860fb5c5a37020b6a5277">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.CreateLinesForOrderItems()</a>.</p>

</div>
</div>
<a id="a1a4f4218ef114f310dee3fd4006fed8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a4f4218ef114f310dee3fd4006fed8e">&#9670;&nbsp;</a></span>_geoLookupService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_directory_1_1_i_geo_lookup_service.html">IGeoLookupService</a> Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._geoLookupService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ad5ef245dc365646e78d846f0cccdfab3">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.AvalaraTaxManager()</a>.</p>

</div>
</div>
<a id="a78e99a21181a5b87b5de284eb6663ae6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78e99a21181a5b87b5de284eb6663ae6">&#9670;&nbsp;</a></span>_localizationService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html">ILocalizationService</a> Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._localizationService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ad5ef245dc365646e78d846f0cccdfab3">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.AvalaraTaxManager()</a>.</p>

</div>
</div>
<a id="a0e0e3c4d474d9d8a8ea9ae1bed65fd8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e0e3c4d474d9d8a8ea9ae1bed65fd8f">&#9670;&nbsp;</a></span>_logger</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_logging_1_1_i_logger.html">ILogger</a> Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._logger</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ad5ef245dc365646e78d846f0cccdfab3">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.AvalaraTaxManager()</a> e <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a025d48272653797307cfcbaf63324f46">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.HandleFunctionAsync&lt; TResult &gt;()</a>.</p>

</div>
</div>
<a id="abbcff7464c8a5a3f24f3a4cc8513c40b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbcff7464c8a5a3f24f3a4cc8513c40b">&#9670;&nbsp;</a></span>_orderService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_service.html">IOrderService</a> Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._orderService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ad5ef245dc365646e78d846f0cccdfab3">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.AvalaraTaxManager()</a>.</p>

</div>
</div>
<a id="a94de62fdd499ed7e257fdd474b136de4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94de62fdd499ed7e257fdd474b136de4">&#9670;&nbsp;</a></span>_orderTotalCalculationService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_order_total_calculation_service.html">IOrderTotalCalculationService</a> Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._orderTotalCalculationService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ad5ef245dc365646e78d846f0cccdfab3">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.AvalaraTaxManager()</a>.</p>

</div>
</div>
<a id="af9c9f7af73d7745d1d9c63021d1780be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9c9f7af73d7745d1d9c63021d1780be">&#9670;&nbsp;</a></span>_paymentService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_payments_1_1_i_payment_service.html">IPaymentService</a> Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._paymentService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ad5ef245dc365646e78d846f0cccdfab3">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.AvalaraTaxManager()</a>.</p>

</div>
</div>
<a id="ac99475847747a4d63f5c339646cf8e9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac99475847747a4d63f5c339646cf8e9a">&#9670;&nbsp;</a></span>_productAttributeService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_service.html">IProductAttributeService</a> Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._productAttributeService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ad5ef245dc365646e78d846f0cccdfab3">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.AvalaraTaxManager()</a>.</p>

</div>
</div>
<a id="ae746f3353d58fed103de01a54b76c63a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae746f3353d58fed103de01a54b76c63a">&#9670;&nbsp;</a></span>_productService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html">IProductService</a> Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._productService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ad5ef245dc365646e78d846f0cccdfab3">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.AvalaraTaxManager()</a> e <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#acdbca097672860fb5c5a37020b6a5277">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.CreateLinesForOrderItems()</a>.</p>

</div>
</div>
<a id="a205b9051930cbec427e115075696e0e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a205b9051930cbec427e115075696e0e3">&#9670;&nbsp;</a></span>_serviceClient</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">AvaTaxClient Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._serviceClient</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="adffb313400a45037334fb0fe78706a7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adffb313400a45037334fb0fe78706a7e">&#9670;&nbsp;</a></span>_settingService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_configuration_1_1_i_setting_service.html">ISettingService</a> Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._settingService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ad5ef245dc365646e78d846f0cccdfab3">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.AvalaraTaxManager()</a>.</p>

</div>
</div>
<a id="a6983d8e0c2a004f337bdc9134819ea29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6983d8e0c2a004f337bdc9134819ea29">&#9670;&nbsp;</a></span>_shippingSettings</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_shipping_1_1_shipping_settings.html">ShippingSettings</a> Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._shippingSettings</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ad5ef245dc365646e78d846f0cccdfab3">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.AvalaraTaxManager()</a> e <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a2f7dc463425449c1842304011b7f4eca">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.PrepareTransactionModelAsync()</a>.</p>

</div>
</div>
<a id="af7b9fd3325f36dad66062d20e8bf2c5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7b9fd3325f36dad66062d20e8bf2c5d">&#9670;&nbsp;</a></span>_shoppingCartService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_shopping_cart_service.html">IShoppingCartService</a> Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._shoppingCartService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ad5ef245dc365646e78d846f0cccdfab3">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.AvalaraTaxManager()</a>.</p>

</div>
</div>
<a id="a41c8457a9bda26e88506056ea125c8f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41c8457a9bda26e88506056ea125c8f1">&#9670;&nbsp;</a></span>_stateProvinceService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_directory_1_1_i_state_province_service.html">IStateProvinceService</a> Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._stateProvinceService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ad5ef245dc365646e78d846f0cccdfab3">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.AvalaraTaxManager()</a> e <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#acc9b8fa18c95e06f9bb79e4ddacc43ea">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.MapAddressAsync()</a>.</p>

</div>
</div>
<a id="aa0cf8edcf24193f7dfe5a7a3b83a9339"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0cf8edcf24193f7dfe5a7a3b83a9339">&#9670;&nbsp;</a></span>_staticCacheManager</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_core_1_1_caching_1_1_i_static_cache_manager.html">IStaticCacheManager</a> Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._staticCacheManager</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ad5ef245dc365646e78d846f0cccdfab3">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.AvalaraTaxManager()</a>.</p>

</div>
</div>
<a id="a9f14a0aa046aa50f373fdef5f81317c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f14a0aa046aa50f373fdef5f81317c9">&#9670;&nbsp;</a></span>_taxCategoryRepository</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_data_1_1_i_repository.html">IRepository</a>&lt;<a class="el" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_category.html">TaxCategory</a>&gt; Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._taxCategoryRepository</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ad5ef245dc365646e78d846f0cccdfab3">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.AvalaraTaxManager()</a>.</p>

</div>
</div>
<a id="ae17a1adc446632a690405c66184a828b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae17a1adc446632a690405c66184a828b">&#9670;&nbsp;</a></span>_taxCategoryService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_tax_1_1_i_tax_category_service.html">ITaxCategoryService</a> Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._taxCategoryService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ad5ef245dc365646e78d846f0cccdfab3">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.AvalaraTaxManager()</a> e <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#acdbca097672860fb5c5a37020b6a5277">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.CreateLinesForOrderItems()</a>.</p>

</div>
</div>
<a id="a04e98a6b4aa4ce6351acd54bfa7d3bba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04e98a6b4aa4ce6351acd54bfa7d3bba">&#9670;&nbsp;</a></span>_taxPluginManager</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_tax_1_1_i_tax_plugin_manager.html">ITaxPluginManager</a> Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._taxPluginManager</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ad5ef245dc365646e78d846f0cccdfab3">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.AvalaraTaxManager()</a>.</p>

</div>
</div>
<a id="ab787bae510c4b103374c92d8784c7e29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab787bae510c4b103374c92d8784c7e29">&#9670;&nbsp;</a></span>_taxSettings</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html">TaxSettings</a> Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._taxSettings</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ad5ef245dc365646e78d846f0cccdfab3">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.AvalaraTaxManager()</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#acdbca097672860fb5c5a37020b6a5277">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.CreateLinesForOrderItems()</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ac070360ad2d9054e933aee48225e807a">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.GetTaxAddressAsync()</a> e <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a2f7dc463425449c1842304011b7f4eca">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.PrepareTransactionModelAsync()</a>.</p>

</div>
</div>
<a id="a2315315292c0e6e91b536c6cb2333af6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2315315292c0e6e91b536c6cb2333af6">&#9670;&nbsp;</a></span>_taxTransactionLogService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_tax_transaction_log_service.html">TaxTransactionLogService</a> Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._taxTransactionLogService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ad5ef245dc365646e78d846f0cccdfab3">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.AvalaraTaxManager()</a> e <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a7c0f3366fdec49a59d6c09e95757ea50">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.OnCallCompleted()</a>.</p>

</div>
</div>
<a id="adc806548054a5890c8f5430eaa136958"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc806548054a5890c8f5430eaa136958">&#9670;&nbsp;</a></span>_urlHelperFactory</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly IUrlHelperFactory Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._urlHelperFactory</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ad5ef245dc365646e78d846f0cccdfab3">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.AvalaraTaxManager()</a>.</p>

</div>
</div>
<a id="a13cdc37e40cdd8710a8470cfd015330d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13cdc37e40cdd8710a8470cfd015330d">&#9670;&nbsp;</a></span>_webHelper</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_core_1_1_i_web_helper.html">IWebHelper</a> Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._webHelper</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ad5ef245dc365646e78d846f0cccdfab3">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.AvalaraTaxManager()</a>.</p>

</div>
</div>
<a id="ac0aedc855ed4999961a78b4d35b6baf2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0aedc855ed4999961a78b4d35b6baf2">&#9670;&nbsp;</a></span>_widgetSettings</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_cms_1_1_widget_settings.html">WidgetSettings</a> Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._widgetSettings</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ad5ef245dc365646e78d846f0cccdfab3">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.AvalaraTaxManager()</a>.</p>

</div>
</div>
<a id="ad821e4dff925e557f8a7490bf498916e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad821e4dff925e557f8a7490bf498916e">&#9670;&nbsp;</a></span>_workContext</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_core_1_1_i_work_context.html">IWorkContext</a> Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager._workContext</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#ad5ef245dc365646e78d846f0cccdfab3">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.AvalaraTaxManager()</a>, <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a025d48272653797307cfcbaf63324f46">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.HandleFunctionAsync&lt; TResult &gt;()</a> e <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a7c0f3366fdec49a59d6c09e95757ea50">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.OnCallCompleted()</a>.</p>

</div>
</div>
<h2 class="groupheader">Documentação das propriedades</h2>
<a id="a7042ed6150237074c5143bb88ff25cf7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7042ed6150237074c5143bb88ff25cf7">&#9670;&nbsp;</a></span>ServiceClient</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">AvaTaxClient? Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.ServiceClient</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets client that connects to <a class="el" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara.html">Avalara</a> services </p>
<div class="fragment"><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        {</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            <span class="keyword">get</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            {</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a205b9051930cbec427e115075696e0e3">_serviceClient</a> == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                {</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                    <span class="comment">//create a client with credentials</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                    <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a205b9051930cbec427e115075696e0e3">_serviceClient</a> = <span class="keyword">new</span> AvaTaxClient(AvalaraTaxDefaults.ApplicationName,</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                        AvalaraTaxDefaults.ApplicationVersion, Environment.MachineName,</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                        <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#afea35b71eb612597f3d73251bf5e0d76">_avalaraTaxSettings</a>.<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings.html#afed3571f7b085183aca141f606e79d3f">UseSandbox</a> ? AvaTaxEnvironment.Sandbox : AvaTaxEnvironment.Production)</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                        .WithSecurity(<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#afea35b71eb612597f3d73251bf5e0d76">_avalaraTaxSettings</a>.<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings.html#af327165a68d64a8ce8be77776baba8c9">AccountId</a>, <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#afea35b71eb612597f3d73251bf5e0d76">_avalaraTaxSettings</a>.<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings.html#ae6b0dd2b4598a138d0e515e79e839740">LicenseKey</a>);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160; </div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                    <span class="comment">//invoke method after each request to services completed</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#afea35b71eb612597f3d73251bf5e0d76">_avalaraTaxSettings</a>.<a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings.html#aa31ad980f30f87ded7c8a52f8ea86326">EnableLogging</a>)</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                        <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a205b9051930cbec427e115075696e0e3">_serviceClient</a>.CallCompleted += <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a7c0f3366fdec49a59d6c09e95757ea50">OnCallCompleted</a>;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                }</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160; </div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a205b9051930cbec427e115075696e0e3">_serviceClient</a>;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;            }</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings_html_aa31ad980f30f87ded7c8a52f8ea86326"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings.html#aa31ad980f30f87ded7c8a52f8ea86326">Nop.Plugin.Tax.Avalara.AvalaraTaxSettings.EnableLogging</a></div><div class="ttdeci">bool EnableLogging</div><div class="ttdoc">Gets or sets a value indicating whether to enable logging of all requests</div><div class="ttdef"><b>Definition:</b> AvalaraTaxSettings.cs:49</div></div>
<div class="ttc" id="aclass_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings_html_afed3571f7b085183aca141f606e79d3f"><div class="ttname"><a href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_avalara_tax_settings.html#afed3571f7b085183aca141f606e79d3f">Nop.Plugin.Tax.Avalara.AvalaraTaxSettings.UseSandbox</a></div><div class="ttdeci">bool UseSandbox</div><div class="ttdoc">Gets or sets a value indicating whether to use sandbox (testing environment)</div><div class="ttdef"><b>Definition:</b> AvalaraTaxSettings.cs:29</div></div>
</div><!-- fragment -->
<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_services_1_1_avalara_tax_manager.html#a33131990e2395c3293c850c1ad732b6d">Nop.Plugin.Tax.Avalara.Services.AvalaraTaxManager.CreateTransaction()</a>.</p>

</div>
</div>
<hr/>A documentação para esta classe foi gerada a partir do seguinte ficheiro:<ul>
<li>C:/Users/gabri/Documents/Projetos/GitHub/Estudos/Nopcommercer plugin/nopCommerce_4.40.3_Source - Copia/src/Plugins/Nop.Plugin.Tax.Avalara/Services/<a class="el" href="_avalara_tax_manager_8cs.html">AvalaraTaxManager.cs</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Gerado por&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
