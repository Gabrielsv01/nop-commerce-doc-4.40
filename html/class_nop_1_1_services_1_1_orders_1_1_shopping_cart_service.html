<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NopCommerce 4.40: Referência à classe Nop.Services.Orders.ShoppingCartService</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="download.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NopCommerce 4.40
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Gerado por Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Localizar','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Localizar');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_nop.html">Nop</a></li><li class="navelem"><a class="el" href="namespace_nop_1_1_services.html">Services</a></li><li class="navelem"><a class="el" href="namespace_nop_1_1_services_1_1_orders.html">Orders</a></li><li class="navelem"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html">ShoppingCartService</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Membros públicos</a> &#124;
<a href="#pro-methods">Membros protegidos</a> &#124;
<a href="#pri-attribs">Atributos Privados</a> &#124;
<a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service-members.html">Mostrar lista completa dos membros</a>  </div>
  <div class="headertitle">
<div class="title">Referência à classe Nop.Services.Orders.ShoppingCartService</div>  </div>
</div><!--header-->
<div class="contents">

<p>Shopping cart service  
 <a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#details">Mais...</a></p>
<div class="dynheader">
Diagrama de heranças da classe Nop.Services.Orders.ShoppingCartService</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.png" usemap="#Nop.Services.Orders.ShoppingCartService_map" alt=""/>
  <map id="Nop.Services.Orders.ShoppingCartService_map" name="Nop.Services.Orders.ShoppingCartService_map">
<area href="interface_nop_1_1_services_1_1_orders_1_1_i_shopping_cart_service.html" title="Shopping cart service" alt="Nop.Services.Orders.IShoppingCartService" shape="rect" coords="0,0,261,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Membros públicos</h2></td></tr>
<tr class="memitem:a87ff4946e0d250eccc54d61cc1cc7e1b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a87ff4946e0d250eccc54d61cc1cc7e1b">ShoppingCartService</a> (<a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_catalog_settings.html">CatalogSettings</a> catalogSettings, <a class="el" href="interface_nop_1_1_services_1_1_security_1_1_i_acl_service.html">IAclService</a> aclService, IActionContextAccessor actionContextAccessor, <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_checkout_attribute_parser.html">ICheckoutAttributeParser</a> checkoutAttributeParser, <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_checkout_attribute_service.html">ICheckoutAttributeService</a> checkoutAttributeService, <a class="el" href="interface_nop_1_1_services_1_1_directory_1_1_i_currency_service.html">ICurrencyService</a> currencyService, <a class="el" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html">ICustomerService</a> customerService, <a class="el" href="interface_nop_1_1_services_1_1_shipping_1_1_date_1_1_i_date_range_service.html">IDateRangeService</a> dateRangeService, <a class="el" href="interface_nop_1_1_services_1_1_helpers_1_1_i_date_time_helper.html">IDateTimeHelper</a> dateTimeHelper, <a class="el" href="interface_nop_1_1_services_1_1_common_1_1_i_generic_attribute_service.html">IGenericAttributeService</a> genericAttributeService, <a class="el" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html">ILocalizationService</a> localizationService, <a class="el" href="interface_nop_1_1_services_1_1_security_1_1_i_permission_service.html">IPermissionService</a> permissionService, <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_calculation_service.html">IPriceCalculationService</a> priceCalculationService, <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html">IPriceFormatter</a> priceFormatter, <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_parser.html">IProductAttributeParser</a> productAttributeParser, <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_service.html">IProductAttributeService</a> productAttributeService, <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html">IProductService</a> productService, <a class="el" href="interface_nop_1_1_data_1_1_i_repository.html">IRepository</a>&lt; <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html">ShoppingCartItem</a> &gt; sciRepository, <a class="el" href="interface_nop_1_1_services_1_1_shipping_1_1_i_shipping_service.html">IShippingService</a> shippingService, <a class="el" href="interface_nop_1_1_core_1_1_caching_1_1_i_static_cache_manager.html">IStaticCacheManager</a> staticCacheManager, <a class="el" href="interface_nop_1_1_core_1_1_i_store_context.html">IStoreContext</a> storeContext, <a class="el" href="interface_nop_1_1_services_1_1_stores_1_1_i_store_mapping_service.html">IStoreMappingService</a> storeMappingService, IUrlHelperFactory urlHelperFactory, <a class="el" href="interface_nop_1_1_services_1_1_seo_1_1_i_url_record_service.html">IUrlRecordService</a> urlRecordService, <a class="el" href="interface_nop_1_1_core_1_1_i_work_context.html">IWorkContext</a> workContext, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_settings.html">OrderSettings</a> orderSettings, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_settings.html">ShoppingCartSettings</a> shoppingCartSettings)</td></tr>
<tr class="separator:a87ff4946e0d250eccc54d61cc1cc7e1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28f22e70f1e84ad7a35db3c7f0289397"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a28f22e70f1e84ad7a35db3c7f0289397">DeleteShoppingCartItemAsync</a> (<a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html">ShoppingCartItem</a> shoppingCartItem, bool resetCheckoutData=true, bool ensureOnlyActiveCheckoutAttributes=false)</td></tr>
<tr class="memdesc:a28f22e70f1e84ad7a35db3c7f0289397"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete shopping cart item  <a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a28f22e70f1e84ad7a35db3c7f0289397">Mais...</a><br /></td></tr>
<tr class="separator:a28f22e70f1e84ad7a35db3c7f0289397"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeae13ddf1499fb42bce7d3e0e9bd2aae"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#aeae13ddf1499fb42bce7d3e0e9bd2aae">DeleteShoppingCartItemAsync</a> (int shoppingCartItemId, bool resetCheckoutData=true, bool ensureOnlyActiveCheckoutAttributes=false)</td></tr>
<tr class="memdesc:aeae13ddf1499fb42bce7d3e0e9bd2aae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete shopping cart item  <a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#aeae13ddf1499fb42bce7d3e0e9bd2aae">Mais...</a><br /></td></tr>
<tr class="separator:aeae13ddf1499fb42bce7d3e0e9bd2aae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae89f5eb0e6b5dd4a02d0cad1ab82ccc8"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ae89f5eb0e6b5dd4a02d0cad1ab82ccc8">DeleteExpiredShoppingCartItemsAsync</a> (DateTime olderThanUtc)</td></tr>
<tr class="memdesc:ae89f5eb0e6b5dd4a02d0cad1ab82ccc8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes expired shopping cart items  <a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ae89f5eb0e6b5dd4a02d0cad1ab82ccc8">Mais...</a><br /></td></tr>
<tr class="separator:ae89f5eb0e6b5dd4a02d0cad1ab82ccc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6da6deec36d9416e14af3725bea1e2c0"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; IList&lt; <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html">Product</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a6da6deec36d9416e14af3725bea1e2c0">GetProductsRequiringProductAsync</a> (IList&lt; <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html">ShoppingCartItem</a> &gt; cart, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html">Product</a> product)</td></tr>
<tr class="memdesc:a6da6deec36d9416e14af3725bea1e2c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get products from shopping cart whether requiring specific product  <a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a6da6deec36d9416e14af3725bea1e2c0">Mais...</a><br /></td></tr>
<tr class="separator:a6da6deec36d9416e14af3725bea1e2c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c23a27aead1a64487e3f9ccb3828944"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; IList&lt; <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html">ShoppingCartItem</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a6c23a27aead1a64487e3f9ccb3828944">GetShoppingCartAsync</a> (<a class="el" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html">Customer</a> customer, <a class="el" href="namespace_nop_1_1_core_1_1_domain_1_1_orders.html#ae2fb88620fcd3889e6e0504e7b18e806">ShoppingCartType</a>? shoppingCartType=null, int storeId=0, int? productId=null, DateTime? createdFromUtc=null, DateTime? createdToUtc=null)</td></tr>
<tr class="memdesc:a6c23a27aead1a64487e3f9ccb3828944"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets shopping cart  <a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a6c23a27aead1a64487e3f9ccb3828944">Mais...</a><br /></td></tr>
<tr class="separator:a6c23a27aead1a64487e3f9ccb3828944"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a412cab95db07bd117a41c3d7741e22b6"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; IList&lt; string &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a412cab95db07bd117a41c3d7741e22b6">GetShoppingCartItemAttributeWarningsAsync</a> (<a class="el" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html">Customer</a> customer, <a class="el" href="namespace_nop_1_1_core_1_1_domain_1_1_orders.html#ae2fb88620fcd3889e6e0504e7b18e806">ShoppingCartType</a> shoppingCartType, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html">Product</a> product, int quantity=1, string attributesXml=&quot;&quot;, bool ignoreNonCombinableAttributes=false, bool ignoreConditionMet=false)</td></tr>
<tr class="memdesc:a412cab95db07bd117a41c3d7741e22b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validates shopping cart item attributes  <a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a412cab95db07bd117a41c3d7741e22b6">Mais...</a><br /></td></tr>
<tr class="separator:a412cab95db07bd117a41c3d7741e22b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad514ca5e6d1eb65f5ab900f476704905"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; IList&lt; string &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad514ca5e6d1eb65f5ab900f476704905">GetShoppingCartItemGiftCardWarningsAsync</a> (<a class="el" href="namespace_nop_1_1_core_1_1_domain_1_1_orders.html#ae2fb88620fcd3889e6e0504e7b18e806">ShoppingCartType</a> shoppingCartType, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html">Product</a> product, string attributesXml)</td></tr>
<tr class="memdesc:ad514ca5e6d1eb65f5ab900f476704905"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validates shopping cart item (gift card)  <a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad514ca5e6d1eb65f5ab900f476704905">Mais...</a><br /></td></tr>
<tr class="separator:ad514ca5e6d1eb65f5ab900f476704905"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0735a280c9f3ff0b134ba9829bc30803"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; IList&lt; string &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a0735a280c9f3ff0b134ba9829bc30803">GetRentalProductWarningsAsync</a> (<a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html">Product</a> product, DateTime? rentalStartDate=null, DateTime? rentalEndDate=null)</td></tr>
<tr class="memdesc:a0735a280c9f3ff0b134ba9829bc30803"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validates shopping cart item for rental products  <a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a0735a280c9f3ff0b134ba9829bc30803">Mais...</a><br /></td></tr>
<tr class="separator:a0735a280c9f3ff0b134ba9829bc30803"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6caa0f42edaa9da18ff5c5868c4cd01"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; IList&lt; string &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad6caa0f42edaa9da18ff5c5868c4cd01">GetShoppingCartItemWarningsAsync</a> (<a class="el" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html">Customer</a> customer, <a class="el" href="namespace_nop_1_1_core_1_1_domain_1_1_orders.html#ae2fb88620fcd3889e6e0504e7b18e806">ShoppingCartType</a> shoppingCartType, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html">Product</a> product, int storeId, string attributesXml, decimal customerEnteredPrice, DateTime? rentalStartDate=null, DateTime? rentalEndDate=null, int quantity=1, bool addRequiredProducts=true, int shoppingCartItemId=0, bool getStandardWarnings=true, bool getAttributesWarnings=true, bool getGiftCardWarnings=true, bool getRequiredProductWarnings=true, bool getRentalWarnings=true)</td></tr>
<tr class="memdesc:ad6caa0f42edaa9da18ff5c5868c4cd01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validates shopping cart item  <a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad6caa0f42edaa9da18ff5c5868c4cd01">Mais...</a><br /></td></tr>
<tr class="separator:ad6caa0f42edaa9da18ff5c5868c4cd01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ea5e98e73dbee1fc30a99a35b668673"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; IList&lt; string &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a3ea5e98e73dbee1fc30a99a35b668673">GetShoppingCartWarningsAsync</a> (IList&lt; <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html">ShoppingCartItem</a> &gt; shoppingCart, string checkoutAttributesXml, bool validateCheckoutAttributes)</td></tr>
<tr class="memdesc:a3ea5e98e73dbee1fc30a99a35b668673"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validates whether this shopping cart is valid  <a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a3ea5e98e73dbee1fc30a99a35b668673">Mais...</a><br /></td></tr>
<tr class="separator:a3ea5e98e73dbee1fc30a99a35b668673"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accf2c3e3996897037c5cda44250997a2"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;(decimal subTotal, decimal discountAmount, List&lt; <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_discounts_1_1_discount.html">Discount</a> &gt; appliedDiscounts, int? maximumDiscountQty)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#accf2c3e3996897037c5cda44250997a2">GetSubTotalAsync</a> (<a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html">ShoppingCartItem</a> shoppingCartItem, bool includeDiscounts)</td></tr>
<tr class="memdesc:accf2c3e3996897037c5cda44250997a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the shopping cart item sub total  <a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#accf2c3e3996897037c5cda44250997a2">Mais...</a><br /></td></tr>
<tr class="separator:accf2c3e3996897037c5cda44250997a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33f1fb373af8557f048eb8b962b8bedc"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;(decimal unitPrice, decimal discountAmount, List&lt; <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_discounts_1_1_discount.html">Discount</a> &gt; appliedDiscounts)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a33f1fb373af8557f048eb8b962b8bedc">GetUnitPriceAsync</a> (<a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html">ShoppingCartItem</a> shoppingCartItem, bool includeDiscounts)</td></tr>
<tr class="memdesc:a33f1fb373af8557f048eb8b962b8bedc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the shopping cart unit price (one item)  <a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a33f1fb373af8557f048eb8b962b8bedc">Mais...</a><br /></td></tr>
<tr class="separator:a33f1fb373af8557f048eb8b962b8bedc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fbdfe50e339a64bb0e528887ec86b14"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;(decimal unitPrice, decimal discountAmount, List&lt; <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_discounts_1_1_discount.html">Discount</a> &gt; appliedDiscounts)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a5fbdfe50e339a64bb0e528887ec86b14">GetUnitPriceAsync</a> (<a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html">Product</a> product, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html">Customer</a> customer, <a class="el" href="namespace_nop_1_1_core_1_1_domain_1_1_orders.html#ae2fb88620fcd3889e6e0504e7b18e806">ShoppingCartType</a> shoppingCartType, int quantity, string attributesXml, decimal customerEnteredPrice, DateTime? rentalStartDate, DateTime? rentalEndDate, bool includeDiscounts)</td></tr>
<tr class="memdesc:a5fbdfe50e339a64bb0e528887ec86b14"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the shopping cart unit price (one item)  <a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a5fbdfe50e339a64bb0e528887ec86b14">Mais...</a><br /></td></tr>
<tr class="separator:a5fbdfe50e339a64bb0e528887ec86b14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b6226371de5a7b6a822050f1bc9cbd0"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html">ShoppingCartItem</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a9b6226371de5a7b6a822050f1bc9cbd0">FindShoppingCartItemInTheCartAsync</a> (IList&lt; <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html">ShoppingCartItem</a> &gt; shoppingCart, <a class="el" href="namespace_nop_1_1_core_1_1_domain_1_1_orders.html#ae2fb88620fcd3889e6e0504e7b18e806">ShoppingCartType</a> shoppingCartType, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html">Product</a> product, string attributesXml=&quot;&quot;, decimal customerEnteredPrice=decimal.Zero, DateTime? rentalStartDate=null, DateTime? rentalEndDate=null)</td></tr>
<tr class="memdesc:a9b6226371de5a7b6a822050f1bc9cbd0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds a shopping cart item in the cart  <a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a9b6226371de5a7b6a822050f1bc9cbd0">Mais...</a><br /></td></tr>
<tr class="separator:a9b6226371de5a7b6a822050f1bc9cbd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7cabaa8f4aa69f9dfd466f1b77edff0"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; IList&lt; string &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad7cabaa8f4aa69f9dfd466f1b77edff0">AddToCartAsync</a> (<a class="el" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html">Customer</a> customer, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html">Product</a> product, <a class="el" href="namespace_nop_1_1_core_1_1_domain_1_1_orders.html#ae2fb88620fcd3889e6e0504e7b18e806">ShoppingCartType</a> shoppingCartType, int storeId, string attributesXml=null, decimal customerEnteredPrice=decimal.Zero, DateTime? rentalStartDate=null, DateTime? rentalEndDate=null, int quantity=1, bool addRequiredProducts=true)</td></tr>
<tr class="memdesc:ad7cabaa8f4aa69f9dfd466f1b77edff0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a product to shopping cart  <a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad7cabaa8f4aa69f9dfd466f1b77edff0">Mais...</a><br /></td></tr>
<tr class="separator:ad7cabaa8f4aa69f9dfd466f1b77edff0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ba3d22fe0e5d6bce2c89f53dec91798"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; IList&lt; string &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a7ba3d22fe0e5d6bce2c89f53dec91798">UpdateShoppingCartItemAsync</a> (<a class="el" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html">Customer</a> customer, int shoppingCartItemId, string attributesXml, decimal customerEnteredPrice, DateTime? rentalStartDate=null, DateTime? rentalEndDate=null, int quantity=1, bool resetCheckoutData=true)</td></tr>
<tr class="memdesc:a7ba3d22fe0e5d6bce2c89f53dec91798"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the shopping cart item  <a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a7ba3d22fe0e5d6bce2c89f53dec91798">Mais...</a><br /></td></tr>
<tr class="separator:a7ba3d22fe0e5d6bce2c89f53dec91798"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0019be3569e60b586d0884cfca66667"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0019be3569e60b586d0884cfca66667">MigrateShoppingCartAsync</a> (<a class="el" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html">Customer</a> fromCustomer, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html">Customer</a> toCustomer, bool includeCouponCodes)</td></tr>
<tr class="memdesc:ac0019be3569e60b586d0884cfca66667"><td class="mdescLeft">&#160;</td><td class="mdescRight">Migrate shopping cart  <a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0019be3569e60b586d0884cfca66667">Mais...</a><br /></td></tr>
<tr class="separator:ac0019be3569e60b586d0884cfca66667"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd712bf30d35b7e7145252f2ca818230"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#afd712bf30d35b7e7145252f2ca818230">ShoppingCartRequiresShippingAsync</a> (IList&lt; <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html">ShoppingCartItem</a> &gt; shoppingCart)</td></tr>
<tr class="memdesc:afd712bf30d35b7e7145252f2ca818230"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates whether the shopping cart requires shipping  <a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#afd712bf30d35b7e7145252f2ca818230">Mais...</a><br /></td></tr>
<tr class="separator:afd712bf30d35b7e7145252f2ca818230"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af73c4cca35bf41700f7cc97ba0324cd2"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#af73c4cca35bf41700f7cc97ba0324cd2">ShoppingCartIsRecurringAsync</a> (IList&lt; <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html">ShoppingCartItem</a> &gt; shoppingCart)</td></tr>
<tr class="memdesc:af73c4cca35bf41700f7cc97ba0324cd2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a value indicating whether shopping cart is recurring  <a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#af73c4cca35bf41700f7cc97ba0324cd2">Mais...</a><br /></td></tr>
<tr class="separator:af73c4cca35bf41700f7cc97ba0324cd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af426455c6d5aabc026f49ccf4f3e64aa"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;(string error, int cycleLength, <a class="el" href="namespace_nop_1_1_core_1_1_domain_1_1_catalog.html#a78fc1d7cb49b0318ee4f9ef0490f3ba7">RecurringProductCyclePeriod</a> cyclePeriod, int totalCycles)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#af426455c6d5aabc026f49ccf4f3e64aa">GetRecurringCycleInfoAsync</a> (IList&lt; <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html">ShoppingCartItem</a> &gt; shoppingCart)</td></tr>
<tr class="memdesc:af426455c6d5aabc026f49ccf4f3e64aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a recurring cycle information  <a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#af426455c6d5aabc026f49ccf4f3e64aa">Mais...</a><br /></td></tr>
<tr class="separator:af426455c6d5aabc026f49ccf4f3e64aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Membros protegidos</h2></td></tr>
<tr class="memitem:a1550bc8798c8a37e6ecbd41d3306ee26"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a1550bc8798c8a37e6ecbd41d3306ee26">ShoppingCartItemIsEqualAsync</a> (<a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html">ShoppingCartItem</a> shoppingCartItem, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html">Product</a> product, string attributesXml, decimal customerEnteredPrice, DateTime? rentalStartDate, DateTime? rentalEndDate)</td></tr>
<tr class="memdesc:a1550bc8798c8a37e6ecbd41d3306ee26"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine if the shopping cart item is the same as the one being compared  <a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a1550bc8798c8a37e6ecbd41d3306ee26">Mais...</a><br /></td></tr>
<tr class="separator:a1550bc8798c8a37e6ecbd41d3306ee26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef8769f85fef3d4981a9a33cec72d32f"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#aef8769f85fef3d4981a9a33cec72d32f">IsCustomerShoppingCartEmpty</a> (<a class="el" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html">Customer</a> customer)</td></tr>
<tr class="memdesc:aef8769f85fef3d4981a9a33cec72d32f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a value indicating whether customer shopping cart is empty  <a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#aef8769f85fef3d4981a9a33cec72d32f">Mais...</a><br /></td></tr>
<tr class="separator:aef8769f85fef3d4981a9a33cec72d32f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdcdbd0deeeda2531704b1d47ccc9f84"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; IList&lt; string &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#acdcdbd0deeeda2531704b1d47ccc9f84">GetRequiredProductWarningsAsync</a> (<a class="el" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html">Customer</a> customer, <a class="el" href="namespace_nop_1_1_core_1_1_domain_1_1_orders.html#ae2fb88620fcd3889e6e0504e7b18e806">ShoppingCartType</a> shoppingCartType, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html">Product</a> product, int storeId, int quantity, bool addRequiredProducts, int shoppingCartItemId)</td></tr>
<tr class="memdesc:acdcdbd0deeeda2531704b1d47ccc9f84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validates required products (products which require some other products to be added to the cart)  <a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#acdcdbd0deeeda2531704b1d47ccc9f84">Mais...</a><br /></td></tr>
<tr class="separator:acdcdbd0deeeda2531704b1d47ccc9f84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a878c99e09eb05fb192ef7f94213ef50f"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; IList&lt; string &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a878c99e09eb05fb192ef7f94213ef50f">GetStandardWarningsAsync</a> (<a class="el" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html">Customer</a> customer, <a class="el" href="namespace_nop_1_1_core_1_1_domain_1_1_orders.html#ae2fb88620fcd3889e6e0504e7b18e806">ShoppingCartType</a> shoppingCartType, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html">Product</a> product, string attributesXml, decimal customerEnteredPrice, int quantity, int shoppingCartItemId, int storeId)</td></tr>
<tr class="memdesc:a878c99e09eb05fb192ef7f94213ef50f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validates a product for standard properties  <a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a878c99e09eb05fb192ef7f94213ef50f">Mais...</a><br /></td></tr>
<tr class="separator:a878c99e09eb05fb192ef7f94213ef50f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Atributos Privados</h2></td></tr>
<tr class="memitem:aeb27a5fac8fae43af58fff5386f62b23"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_catalog_settings.html">CatalogSettings</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#aeb27a5fac8fae43af58fff5386f62b23">_catalogSettings</a></td></tr>
<tr class="separator:aeb27a5fac8fae43af58fff5386f62b23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4647e7e35d4c4f74c84068380a3a7bfc"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_security_1_1_i_acl_service.html">IAclService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a4647e7e35d4c4f74c84068380a3a7bfc">_aclService</a></td></tr>
<tr class="separator:a4647e7e35d4c4f74c84068380a3a7bfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3f1dbcd55c8025caf11200b51f8eed3"><td class="memItemLeft" align="right" valign="top">readonly IActionContextAccessor&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#af3f1dbcd55c8025caf11200b51f8eed3">_actionContextAccessor</a></td></tr>
<tr class="separator:af3f1dbcd55c8025caf11200b51f8eed3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1924da9d46f2502558968763fe8523a3"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_checkout_attribute_parser.html">ICheckoutAttributeParser</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a1924da9d46f2502558968763fe8523a3">_checkoutAttributeParser</a></td></tr>
<tr class="separator:a1924da9d46f2502558968763fe8523a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a745a676062db2cc35670b91611c4d080"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_checkout_attribute_service.html">ICheckoutAttributeService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a745a676062db2cc35670b91611c4d080">_checkoutAttributeService</a></td></tr>
<tr class="separator:a745a676062db2cc35670b91611c4d080"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1558171141cf8b791afdb7dee65cc37"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_directory_1_1_i_currency_service.html">ICurrencyService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#af1558171141cf8b791afdb7dee65cc37">_currencyService</a></td></tr>
<tr class="separator:af1558171141cf8b791afdb7dee65cc37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52c79c5dd60cdc432691751a5253e707"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html">ICustomerService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a52c79c5dd60cdc432691751a5253e707">_customerService</a></td></tr>
<tr class="separator:a52c79c5dd60cdc432691751a5253e707"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3db06579a538c03da7d3375f8afd203"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_shipping_1_1_date_1_1_i_date_range_service.html">IDateRangeService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ab3db06579a538c03da7d3375f8afd203">_dateRangeService</a></td></tr>
<tr class="separator:ab3db06579a538c03da7d3375f8afd203"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3e442a177f6f3c53bfdcea203decd3e"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_helpers_1_1_i_date_time_helper.html">IDateTimeHelper</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad3e442a177f6f3c53bfdcea203decd3e">_dateTimeHelper</a></td></tr>
<tr class="separator:ad3e442a177f6f3c53bfdcea203decd3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4535269f67ab87a38dbb015a5e32812"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_common_1_1_i_generic_attribute_service.html">IGenericAttributeService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad4535269f67ab87a38dbb015a5e32812">_genericAttributeService</a></td></tr>
<tr class="separator:ad4535269f67ab87a38dbb015a5e32812"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0f5b4a70203e1fca9ff83f47fe4ee93"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html">ILocalizationService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a></td></tr>
<tr class="separator:ac0f5b4a70203e1fca9ff83f47fe4ee93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0231282832fb9d777c1d3da2eed79584"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_security_1_1_i_permission_service.html">IPermissionService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a0231282832fb9d777c1d3da2eed79584">_permissionService</a></td></tr>
<tr class="separator:a0231282832fb9d777c1d3da2eed79584"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e531df3c7195773e37be59a9cdcf8b8"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_calculation_service.html">IPriceCalculationService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a3e531df3c7195773e37be59a9cdcf8b8">_priceCalculationService</a></td></tr>
<tr class="separator:a3e531df3c7195773e37be59a9cdcf8b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc35e61b453b0ab5f9d706d0f3c93e15"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html">IPriceFormatter</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#acc35e61b453b0ab5f9d706d0f3c93e15">_priceFormatter</a></td></tr>
<tr class="separator:acc35e61b453b0ab5f9d706d0f3c93e15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a372f60dd105ef1a5a25b7f5e5b5dab2d"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_parser.html">IProductAttributeParser</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a372f60dd105ef1a5a25b7f5e5b5dab2d">_productAttributeParser</a></td></tr>
<tr class="separator:a372f60dd105ef1a5a25b7f5e5b5dab2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4a6c57285b55e10b8dcc8fcde94cbca"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_service.html">IProductAttributeService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ae4a6c57285b55e10b8dcc8fcde94cbca">_productAttributeService</a></td></tr>
<tr class="separator:ae4a6c57285b55e10b8dcc8fcde94cbca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2d95d5144b8fb62fe60208501e45384"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html">IProductService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ab2d95d5144b8fb62fe60208501e45384">_productService</a></td></tr>
<tr class="separator:ab2d95d5144b8fb62fe60208501e45384"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25e71ccca6735556ec04ee5fbc5c3016"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_data_1_1_i_repository.html">IRepository</a>&lt; <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html">ShoppingCartItem</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a25e71ccca6735556ec04ee5fbc5c3016">_sciRepository</a></td></tr>
<tr class="separator:a25e71ccca6735556ec04ee5fbc5c3016"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76a90cdde2ce1a125cafb9c5386b2a5d"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_shipping_1_1_i_shipping_service.html">IShippingService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a76a90cdde2ce1a125cafb9c5386b2a5d">_shippingService</a></td></tr>
<tr class="separator:a76a90cdde2ce1a125cafb9c5386b2a5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7c14cae2823366c47df53e3ded7dbf2"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_core_1_1_caching_1_1_i_static_cache_manager.html">IStaticCacheManager</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#af7c14cae2823366c47df53e3ded7dbf2">_staticCacheManager</a></td></tr>
<tr class="separator:af7c14cae2823366c47df53e3ded7dbf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba42c8b71d4f0534e4656e6f01577185"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_core_1_1_i_store_context.html">IStoreContext</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#aba42c8b71d4f0534e4656e6f01577185">_storeContext</a></td></tr>
<tr class="separator:aba42c8b71d4f0534e4656e6f01577185"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b8c34aa90ac10f24fb1f258e9fe9b42"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_stores_1_1_i_store_mapping_service.html">IStoreMappingService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a7b8c34aa90ac10f24fb1f258e9fe9b42">_storeMappingService</a></td></tr>
<tr class="separator:a7b8c34aa90ac10f24fb1f258e9fe9b42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad64202db564caac4f4709c0459d59360"><td class="memItemLeft" align="right" valign="top">readonly IUrlHelperFactory&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad64202db564caac4f4709c0459d59360">_urlHelperFactory</a></td></tr>
<tr class="separator:ad64202db564caac4f4709c0459d59360"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa58eac4dc2712bbbd6e3dcf074c98276"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_seo_1_1_i_url_record_service.html">IUrlRecordService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#aa58eac4dc2712bbbd6e3dcf074c98276">_urlRecordService</a></td></tr>
<tr class="separator:aa58eac4dc2712bbbd6e3dcf074c98276"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fc527f4064132eba50e5fd9ee9a1375"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_core_1_1_i_work_context.html">IWorkContext</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a0fc527f4064132eba50e5fd9ee9a1375">_workContext</a></td></tr>
<tr class="separator:a0fc527f4064132eba50e5fd9ee9a1375"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdb3928e668ae9f4fde9db4224a09410"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_settings.html">OrderSettings</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#afdb3928e668ae9f4fde9db4224a09410">_orderSettings</a></td></tr>
<tr class="separator:afdb3928e668ae9f4fde9db4224a09410"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b7323984429448a6e727bff3bff122e"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_settings.html">ShoppingCartSettings</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a5b7323984429448a6e727bff3bff122e">_shoppingCartSettings</a></td></tr>
<tr class="separator:a5b7323984429448a6e727bff3bff122e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Descrição detalhada</h2>
<div class="textblock"><p>Shopping cart service </p>
</div><h2 class="groupheader">Documentação dos Construtores &amp; Destrutor</h2>
<a id="a87ff4946e0d250eccc54d61cc1cc7e1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87ff4946e0d250eccc54d61cc1cc7e1b">&#9670;&nbsp;</a></span>ShoppingCartService()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Nop.Services.Orders.ShoppingCartService.ShoppingCartService </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_catalog_settings.html">CatalogSettings</a>&#160;</td>
          <td class="paramname"><em>catalogSettings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_security_1_1_i_acl_service.html">IAclService</a>&#160;</td>
          <td class="paramname"><em>aclService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IActionContextAccessor&#160;</td>
          <td class="paramname"><em>actionContextAccessor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_checkout_attribute_parser.html">ICheckoutAttributeParser</a>&#160;</td>
          <td class="paramname"><em>checkoutAttributeParser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_checkout_attribute_service.html">ICheckoutAttributeService</a>&#160;</td>
          <td class="paramname"><em>checkoutAttributeService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_directory_1_1_i_currency_service.html">ICurrencyService</a>&#160;</td>
          <td class="paramname"><em>currencyService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html">ICustomerService</a>&#160;</td>
          <td class="paramname"><em>customerService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_shipping_1_1_date_1_1_i_date_range_service.html">IDateRangeService</a>&#160;</td>
          <td class="paramname"><em>dateRangeService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_helpers_1_1_i_date_time_helper.html">IDateTimeHelper</a>&#160;</td>
          <td class="paramname"><em>dateTimeHelper</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_common_1_1_i_generic_attribute_service.html">IGenericAttributeService</a>&#160;</td>
          <td class="paramname"><em>genericAttributeService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html">ILocalizationService</a>&#160;</td>
          <td class="paramname"><em>localizationService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_security_1_1_i_permission_service.html">IPermissionService</a>&#160;</td>
          <td class="paramname"><em>permissionService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_calculation_service.html">IPriceCalculationService</a>&#160;</td>
          <td class="paramname"><em>priceCalculationService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html">IPriceFormatter</a>&#160;</td>
          <td class="paramname"><em>priceFormatter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_parser.html">IProductAttributeParser</a>&#160;</td>
          <td class="paramname"><em>productAttributeParser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_service.html">IProductAttributeService</a>&#160;</td>
          <td class="paramname"><em>productAttributeService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html">IProductService</a>&#160;</td>
          <td class="paramname"><em>productService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_data_1_1_i_repository.html">IRepository</a>&lt; <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html">ShoppingCartItem</a> &gt;&#160;</td>
          <td class="paramname"><em>sciRepository</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_shipping_1_1_i_shipping_service.html">IShippingService</a>&#160;</td>
          <td class="paramname"><em>shippingService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_core_1_1_caching_1_1_i_static_cache_manager.html">IStaticCacheManager</a>&#160;</td>
          <td class="paramname"><em>staticCacheManager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_core_1_1_i_store_context.html">IStoreContext</a>&#160;</td>
          <td class="paramname"><em>storeContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_stores_1_1_i_store_mapping_service.html">IStoreMappingService</a>&#160;</td>
          <td class="paramname"><em>storeMappingService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IUrlHelperFactory&#160;</td>
          <td class="paramname"><em>urlHelperFactory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_seo_1_1_i_url_record_service.html">IUrlRecordService</a>&#160;</td>
          <td class="paramname"><em>urlRecordService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_core_1_1_i_work_context.html">IWorkContext</a>&#160;</td>
          <td class="paramname"><em>workContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_settings.html">OrderSettings</a>&#160;</td>
          <td class="paramname"><em>orderSettings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_settings.html">ShoppingCartSettings</a>&#160;</td>
          <td class="paramname"><em>shoppingCartSettings</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        {</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;            <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#aeb27a5fac8fae43af58fff5386f62b23">_catalogSettings</a> = catalogSettings;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a4647e7e35d4c4f74c84068380a3a7bfc">_aclService</a> = aclService;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#af3f1dbcd55c8025caf11200b51f8eed3">_actionContextAccessor</a> = actionContextAccessor;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a1924da9d46f2502558968763fe8523a3">_checkoutAttributeParser</a> = checkoutAttributeParser;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a745a676062db2cc35670b91611c4d080">_checkoutAttributeService</a> = checkoutAttributeService;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#af1558171141cf8b791afdb7dee65cc37">_currencyService</a> = currencyService;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a52c79c5dd60cdc432691751a5253e707">_customerService</a> = customerService;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ab3db06579a538c03da7d3375f8afd203">_dateRangeService</a> = dateRangeService;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;            <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad3e442a177f6f3c53bfdcea203decd3e">_dateTimeHelper</a> = dateTimeHelper;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad4535269f67ab87a38dbb015a5e32812">_genericAttributeService</a> = genericAttributeService;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a> = localizationService;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a0231282832fb9d777c1d3da2eed79584">_permissionService</a> = permissionService;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a3e531df3c7195773e37be59a9cdcf8b8">_priceCalculationService</a> = priceCalculationService;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#acc35e61b453b0ab5f9d706d0f3c93e15">_priceFormatter</a> = priceFormatter;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;            <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a372f60dd105ef1a5a25b7f5e5b5dab2d">_productAttributeParser</a> = productAttributeParser;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ae4a6c57285b55e10b8dcc8fcde94cbca">_productAttributeService</a> = productAttributeService;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ab2d95d5144b8fb62fe60208501e45384">_productService</a> = productService;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;            <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a25e71ccca6735556ec04ee5fbc5c3016">_sciRepository</a> = sciRepository;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a76a90cdde2ce1a125cafb9c5386b2a5d">_shippingService</a> = shippingService;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;            <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#af7c14cae2823366c47df53e3ded7dbf2">_staticCacheManager</a> = staticCacheManager;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#aba42c8b71d4f0534e4656e6f01577185">_storeContext</a> = storeContext;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a7b8c34aa90ac10f24fb1f258e9fe9b42">_storeMappingService</a> = storeMappingService;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad64202db564caac4f4709c0459d59360">_urlHelperFactory</a> = urlHelperFactory;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#aa58eac4dc2712bbbd6e3dcf074c98276">_urlRecordService</a> = urlRecordService;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;            <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a0fc527f4064132eba50e5fd9ee9a1375">_workContext</a> = workContext;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#afdb3928e668ae9f4fde9db4224a09410">_orderSettings</a> = orderSettings;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;            <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a5b7323984429448a6e727bff3bff122e">_shoppingCartSettings</a> = shoppingCartSettings;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_orders_1_1_shopping_cart_service_html_a0231282832fb9d777c1d3da2eed79584"><div class="ttname"><a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a0231282832fb9d777c1d3da2eed79584">Nop.Services.Orders.ShoppingCartService._permissionService</a></div><div class="ttdeci">readonly IPermissionService _permissionService</div><div class="ttdef"><b>Definition:</b> ShoppingCartService.cs:48</div></div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_orders_1_1_shopping_cart_service_html_a0fc527f4064132eba50e5fd9ee9a1375"><div class="ttname"><a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a0fc527f4064132eba50e5fd9ee9a1375">Nop.Services.Orders.ShoppingCartService._workContext</a></div><div class="ttdeci">readonly IWorkContext _workContext</div><div class="ttdef"><b>Definition:</b> ShoppingCartService.cs:61</div></div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_orders_1_1_shopping_cart_service_html_a1924da9d46f2502558968763fe8523a3"><div class="ttname"><a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a1924da9d46f2502558968763fe8523a3">Nop.Services.Orders.ShoppingCartService._checkoutAttributeParser</a></div><div class="ttdeci">readonly ICheckoutAttributeParser _checkoutAttributeParser</div><div class="ttdef"><b>Definition:</b> ShoppingCartService.cs:40</div></div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_orders_1_1_shopping_cart_service_html_a25e71ccca6735556ec04ee5fbc5c3016"><div class="ttname"><a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a25e71ccca6735556ec04ee5fbc5c3016">Nop.Services.Orders.ShoppingCartService._sciRepository</a></div><div class="ttdeci">readonly IRepository&lt; ShoppingCartItem &gt; _sciRepository</div><div class="ttdef"><b>Definition:</b> ShoppingCartService.cs:54</div></div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_orders_1_1_shopping_cart_service_html_a372f60dd105ef1a5a25b7f5e5b5dab2d"><div class="ttname"><a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a372f60dd105ef1a5a25b7f5e5b5dab2d">Nop.Services.Orders.ShoppingCartService._productAttributeParser</a></div><div class="ttdeci">readonly IProductAttributeParser _productAttributeParser</div><div class="ttdef"><b>Definition:</b> ShoppingCartService.cs:51</div></div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_orders_1_1_shopping_cart_service_html_a3e531df3c7195773e37be59a9cdcf8b8"><div class="ttname"><a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a3e531df3c7195773e37be59a9cdcf8b8">Nop.Services.Orders.ShoppingCartService._priceCalculationService</a></div><div class="ttdeci">readonly IPriceCalculationService _priceCalculationService</div><div class="ttdef"><b>Definition:</b> ShoppingCartService.cs:49</div></div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_orders_1_1_shopping_cart_service_html_a4647e7e35d4c4f74c84068380a3a7bfc"><div class="ttname"><a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a4647e7e35d4c4f74c84068380a3a7bfc">Nop.Services.Orders.ShoppingCartService._aclService</a></div><div class="ttdeci">readonly IAclService _aclService</div><div class="ttdef"><b>Definition:</b> ShoppingCartService.cs:38</div></div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_orders_1_1_shopping_cart_service_html_a52c79c5dd60cdc432691751a5253e707"><div class="ttname"><a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a52c79c5dd60cdc432691751a5253e707">Nop.Services.Orders.ShoppingCartService._customerService</a></div><div class="ttdeci">readonly ICustomerService _customerService</div><div class="ttdef"><b>Definition:</b> ShoppingCartService.cs:43</div></div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_orders_1_1_shopping_cart_service_html_a5b7323984429448a6e727bff3bff122e"><div class="ttname"><a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a5b7323984429448a6e727bff3bff122e">Nop.Services.Orders.ShoppingCartService._shoppingCartSettings</a></div><div class="ttdeci">readonly ShoppingCartSettings _shoppingCartSettings</div><div class="ttdef"><b>Definition:</b> ShoppingCartService.cs:63</div></div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_orders_1_1_shopping_cart_service_html_a745a676062db2cc35670b91611c4d080"><div class="ttname"><a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a745a676062db2cc35670b91611c4d080">Nop.Services.Orders.ShoppingCartService._checkoutAttributeService</a></div><div class="ttdeci">readonly ICheckoutAttributeService _checkoutAttributeService</div><div class="ttdef"><b>Definition:</b> ShoppingCartService.cs:41</div></div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_orders_1_1_shopping_cart_service_html_a76a90cdde2ce1a125cafb9c5386b2a5d"><div class="ttname"><a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a76a90cdde2ce1a125cafb9c5386b2a5d">Nop.Services.Orders.ShoppingCartService._shippingService</a></div><div class="ttdeci">readonly IShippingService _shippingService</div><div class="ttdef"><b>Definition:</b> ShoppingCartService.cs:55</div></div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_orders_1_1_shopping_cart_service_html_a7b8c34aa90ac10f24fb1f258e9fe9b42"><div class="ttname"><a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a7b8c34aa90ac10f24fb1f258e9fe9b42">Nop.Services.Orders.ShoppingCartService._storeMappingService</a></div><div class="ttdeci">readonly IStoreMappingService _storeMappingService</div><div class="ttdef"><b>Definition:</b> ShoppingCartService.cs:58</div></div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_orders_1_1_shopping_cart_service_html_aa58eac4dc2712bbbd6e3dcf074c98276"><div class="ttname"><a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#aa58eac4dc2712bbbd6e3dcf074c98276">Nop.Services.Orders.ShoppingCartService._urlRecordService</a></div><div class="ttdeci">readonly IUrlRecordService _urlRecordService</div><div class="ttdef"><b>Definition:</b> ShoppingCartService.cs:60</div></div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_orders_1_1_shopping_cart_service_html_ab2d95d5144b8fb62fe60208501e45384"><div class="ttname"><a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ab2d95d5144b8fb62fe60208501e45384">Nop.Services.Orders.ShoppingCartService._productService</a></div><div class="ttdeci">readonly IProductService _productService</div><div class="ttdef"><b>Definition:</b> ShoppingCartService.cs:53</div></div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_orders_1_1_shopping_cart_service_html_ab3db06579a538c03da7d3375f8afd203"><div class="ttname"><a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ab3db06579a538c03da7d3375f8afd203">Nop.Services.Orders.ShoppingCartService._dateRangeService</a></div><div class="ttdeci">readonly IDateRangeService _dateRangeService</div><div class="ttdef"><b>Definition:</b> ShoppingCartService.cs:44</div></div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_orders_1_1_shopping_cart_service_html_aba42c8b71d4f0534e4656e6f01577185"><div class="ttname"><a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#aba42c8b71d4f0534e4656e6f01577185">Nop.Services.Orders.ShoppingCartService._storeContext</a></div><div class="ttdeci">readonly IStoreContext _storeContext</div><div class="ttdef"><b>Definition:</b> ShoppingCartService.cs:57</div></div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_orders_1_1_shopping_cart_service_html_ac0f5b4a70203e1fca9ff83f47fe4ee93"><div class="ttname"><a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">Nop.Services.Orders.ShoppingCartService._localizationService</a></div><div class="ttdeci">readonly ILocalizationService _localizationService</div><div class="ttdef"><b>Definition:</b> ShoppingCartService.cs:47</div></div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_orders_1_1_shopping_cart_service_html_acc35e61b453b0ab5f9d706d0f3c93e15"><div class="ttname"><a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#acc35e61b453b0ab5f9d706d0f3c93e15">Nop.Services.Orders.ShoppingCartService._priceFormatter</a></div><div class="ttdeci">readonly IPriceFormatter _priceFormatter</div><div class="ttdef"><b>Definition:</b> ShoppingCartService.cs:50</div></div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_orders_1_1_shopping_cart_service_html_ad3e442a177f6f3c53bfdcea203decd3e"><div class="ttname"><a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad3e442a177f6f3c53bfdcea203decd3e">Nop.Services.Orders.ShoppingCartService._dateTimeHelper</a></div><div class="ttdeci">readonly IDateTimeHelper _dateTimeHelper</div><div class="ttdef"><b>Definition:</b> ShoppingCartService.cs:45</div></div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_orders_1_1_shopping_cart_service_html_ad4535269f67ab87a38dbb015a5e32812"><div class="ttname"><a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad4535269f67ab87a38dbb015a5e32812">Nop.Services.Orders.ShoppingCartService._genericAttributeService</a></div><div class="ttdeci">readonly IGenericAttributeService _genericAttributeService</div><div class="ttdef"><b>Definition:</b> ShoppingCartService.cs:46</div></div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_orders_1_1_shopping_cart_service_html_ad64202db564caac4f4709c0459d59360"><div class="ttname"><a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad64202db564caac4f4709c0459d59360">Nop.Services.Orders.ShoppingCartService._urlHelperFactory</a></div><div class="ttdeci">readonly IUrlHelperFactory _urlHelperFactory</div><div class="ttdef"><b>Definition:</b> ShoppingCartService.cs:59</div></div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_orders_1_1_shopping_cart_service_html_ae4a6c57285b55e10b8dcc8fcde94cbca"><div class="ttname"><a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ae4a6c57285b55e10b8dcc8fcde94cbca">Nop.Services.Orders.ShoppingCartService._productAttributeService</a></div><div class="ttdeci">readonly IProductAttributeService _productAttributeService</div><div class="ttdef"><b>Definition:</b> ShoppingCartService.cs:52</div></div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_orders_1_1_shopping_cart_service_html_aeb27a5fac8fae43af58fff5386f62b23"><div class="ttname"><a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#aeb27a5fac8fae43af58fff5386f62b23">Nop.Services.Orders.ShoppingCartService._catalogSettings</a></div><div class="ttdeci">readonly CatalogSettings _catalogSettings</div><div class="ttdef"><b>Definition:</b> ShoppingCartService.cs:37</div></div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_orders_1_1_shopping_cart_service_html_af1558171141cf8b791afdb7dee65cc37"><div class="ttname"><a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#af1558171141cf8b791afdb7dee65cc37">Nop.Services.Orders.ShoppingCartService._currencyService</a></div><div class="ttdeci">readonly ICurrencyService _currencyService</div><div class="ttdef"><b>Definition:</b> ShoppingCartService.cs:42</div></div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_orders_1_1_shopping_cart_service_html_af3f1dbcd55c8025caf11200b51f8eed3"><div class="ttname"><a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#af3f1dbcd55c8025caf11200b51f8eed3">Nop.Services.Orders.ShoppingCartService._actionContextAccessor</a></div><div class="ttdeci">readonly IActionContextAccessor _actionContextAccessor</div><div class="ttdef"><b>Definition:</b> ShoppingCartService.cs:39</div></div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_orders_1_1_shopping_cart_service_html_af7c14cae2823366c47df53e3ded7dbf2"><div class="ttname"><a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#af7c14cae2823366c47df53e3ded7dbf2">Nop.Services.Orders.ShoppingCartService._staticCacheManager</a></div><div class="ttdeci">readonly IStaticCacheManager _staticCacheManager</div><div class="ttdef"><b>Definition:</b> ShoppingCartService.cs:56</div></div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_orders_1_1_shopping_cart_service_html_afdb3928e668ae9f4fde9db4224a09410"><div class="ttname"><a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#afdb3928e668ae9f4fde9db4224a09410">Nop.Services.Orders.ShoppingCartService._orderSettings</a></div><div class="ttdeci">readonly OrderSettings _orderSettings</div><div class="ttdef"><b>Definition:</b> ShoppingCartService.cs:62</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a4647e7e35d4c4f74c84068380a3a7bfc">Nop.Services.Orders.ShoppingCartService._aclService</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#af3f1dbcd55c8025caf11200b51f8eed3">Nop.Services.Orders.ShoppingCartService._actionContextAccessor</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#aeb27a5fac8fae43af58fff5386f62b23">Nop.Services.Orders.ShoppingCartService._catalogSettings</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a1924da9d46f2502558968763fe8523a3">Nop.Services.Orders.ShoppingCartService._checkoutAttributeParser</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a745a676062db2cc35670b91611c4d080">Nop.Services.Orders.ShoppingCartService._checkoutAttributeService</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#af1558171141cf8b791afdb7dee65cc37">Nop.Services.Orders.ShoppingCartService._currencyService</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a52c79c5dd60cdc432691751a5253e707">Nop.Services.Orders.ShoppingCartService._customerService</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ab3db06579a538c03da7d3375f8afd203">Nop.Services.Orders.ShoppingCartService._dateRangeService</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad3e442a177f6f3c53bfdcea203decd3e">Nop.Services.Orders.ShoppingCartService._dateTimeHelper</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad4535269f67ab87a38dbb015a5e32812">Nop.Services.Orders.ShoppingCartService._genericAttributeService</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">Nop.Services.Orders.ShoppingCartService._localizationService</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#afdb3928e668ae9f4fde9db4224a09410">Nop.Services.Orders.ShoppingCartService._orderSettings</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a0231282832fb9d777c1d3da2eed79584">Nop.Services.Orders.ShoppingCartService._permissionService</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a3e531df3c7195773e37be59a9cdcf8b8">Nop.Services.Orders.ShoppingCartService._priceCalculationService</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#acc35e61b453b0ab5f9d706d0f3c93e15">Nop.Services.Orders.ShoppingCartService._priceFormatter</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a372f60dd105ef1a5a25b7f5e5b5dab2d">Nop.Services.Orders.ShoppingCartService._productAttributeParser</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ae4a6c57285b55e10b8dcc8fcde94cbca">Nop.Services.Orders.ShoppingCartService._productAttributeService</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ab2d95d5144b8fb62fe60208501e45384">Nop.Services.Orders.ShoppingCartService._productService</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a25e71ccca6735556ec04ee5fbc5c3016">Nop.Services.Orders.ShoppingCartService._sciRepository</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a76a90cdde2ce1a125cafb9c5386b2a5d">Nop.Services.Orders.ShoppingCartService._shippingService</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a5b7323984429448a6e727bff3bff122e">Nop.Services.Orders.ShoppingCartService._shoppingCartSettings</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#af7c14cae2823366c47df53e3ded7dbf2">Nop.Services.Orders.ShoppingCartService._staticCacheManager</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#aba42c8b71d4f0534e4656e6f01577185">Nop.Services.Orders.ShoppingCartService._storeContext</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a7b8c34aa90ac10f24fb1f258e9fe9b42">Nop.Services.Orders.ShoppingCartService._storeMappingService</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad64202db564caac4f4709c0459d59360">Nop.Services.Orders.ShoppingCartService._urlHelperFactory</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#aa58eac4dc2712bbbd6e3dcf074c98276">Nop.Services.Orders.ShoppingCartService._urlRecordService</a> e <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a0fc527f4064132eba50e5fd9ee9a1375">Nop.Services.Orders.ShoppingCartService._workContext</a>.</p>

</div>
</div>
<h2 class="groupheader">Documentação dos métodos</h2>
<a id="ad7cabaa8f4aa69f9dfd466f1b77edff0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7cabaa8f4aa69f9dfd466f1b77edff0">&#9670;&nbsp;</a></span>AddToCartAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;IList&lt;string&gt; &gt; Nop.Services.Orders.ShoppingCartService.AddToCartAsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html">Customer</a>&#160;</td>
          <td class="paramname"><em>customer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html">Product</a>&#160;</td>
          <td class="paramname"><em>product</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_nop_1_1_core_1_1_domain_1_1_orders.html#ae2fb88620fcd3889e6e0504e7b18e806">ShoppingCartType</a>&#160;</td>
          <td class="paramname"><em>shoppingCartType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>storeId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>attributesXml</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">decimal&#160;</td>
          <td class="paramname"><em>customerEnteredPrice</em> = <code>decimal.Zero</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DateTime?&#160;</td>
          <td class="paramname"><em>rentalStartDate</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DateTime?&#160;</td>
          <td class="paramname"><em>rentalEndDate</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>quantity</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>addRequiredProducts</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a product to shopping cart </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">customer</td><td>Customer</td></tr>
    <tr><td class="paramname">product</td><td>Product</td></tr>
    <tr><td class="paramname">shoppingCartType</td><td>Shopping cart type</td></tr>
    <tr><td class="paramname">storeId</td><td>Store identifier</td></tr>
    <tr><td class="paramname">attributesXml</td><td>Attributes in XML format</td></tr>
    <tr><td class="paramname">customerEnteredPrice</td><td>The price enter by a customer</td></tr>
    <tr><td class="paramname">rentalStartDate</td><td>Rental start date</td></tr>
    <tr><td class="paramname">rentalEndDate</td><td>Rental end date</td></tr>
    <tr><td class="paramname">quantity</td><td>Quantity</td></tr>
    <tr><td class="paramname">addRequiredProducts</td><td>Whether to add required products</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the warnings </dd></dl>

<p>Implementa <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_shopping_cart_service.html#aaac24cc4cb59a21ec4ee1a964677ff7f">Nop.Services.Orders.IShoppingCartService</a>.</p>
<div class="fragment"><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;        {</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;            <span class="keywordflow">if</span> (customer == <span class="keyword">null</span>)</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(customer));</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160; </div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;            <span class="keywordflow">if</span> (product == <span class="keyword">null</span>)</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(product));</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160; </div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;            var warnings = <span class="keyword">new</span> List&lt;string&gt;();</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;            <span class="keywordflow">if</span> (shoppingCartType == <a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_orders.html#ae2fb88620fcd3889e6e0504e7b18e806">ShoppingCartType</a>.ShoppingCart &amp;&amp; !await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a0231282832fb9d777c1d3da2eed79584">_permissionService</a>.<a class="code" href="interface_nop_1_1_services_1_1_security_1_1_i_permission_service.html#a548729082e1cd47e6f705ad2666b4aed">AuthorizeAsync</a>(<a class="code" href="class_nop_1_1_services_1_1_security_1_1_standard_permission_provider.html">StandardPermissionProvider</a>.<a class="code" href="class_nop_1_1_services_1_1_security_1_1_standard_permission_provider.html#abeb0f063a9ab6533a05370d91ac88bbe">EnableShoppingCart</a>, customer))</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;            {</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;                warnings.Add(<span class="stringliteral">&quot;Shopping cart is disabled&quot;</span>);</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;                <span class="keywordflow">return</span> warnings;</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;            }</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160; </div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;            <span class="keywordflow">if</span> (shoppingCartType == <a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_orders.html#ae2fb88620fcd3889e6e0504e7b18e806">ShoppingCartType</a>.Wishlist &amp;&amp; !await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a0231282832fb9d777c1d3da2eed79584">_permissionService</a>.<a class="code" href="interface_nop_1_1_services_1_1_security_1_1_i_permission_service.html#a548729082e1cd47e6f705ad2666b4aed">AuthorizeAsync</a>(<a class="code" href="class_nop_1_1_services_1_1_security_1_1_standard_permission_provider.html">StandardPermissionProvider</a>.<a class="code" href="class_nop_1_1_services_1_1_security_1_1_standard_permission_provider.html#aeb663ad75b99e709c2dce2b2213acdd3">EnableWishlist</a>, customer))</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;            {</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;                warnings.Add(<span class="stringliteral">&quot;Wishlist is disabled&quot;</span>);</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;                <span class="keywordflow">return</span> warnings;</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;            }</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160; </div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;            <span class="keywordflow">if</span> (customer.IsSearchEngineAccount())</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;            {</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;                warnings.Add(<span class="stringliteral">&quot;Search engine can&#39;t add to cart&quot;</span>);</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;                <span class="keywordflow">return</span> warnings;</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;            }</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160; </div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;            <span class="keywordflow">if</span> (quantity &lt;= 0)</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;            {</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;                warnings.Add(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;ShoppingCart.QuantityShouldPositive&quot;</span>));</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;                <span class="keywordflow">return</span> warnings;</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;            }</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160; </div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;            <span class="comment">//reset checkout info</span></div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;            await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a52c79c5dd60cdc432691751a5253e707">_customerService</a>.<a class="code" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#a045bcbe8b8e6766c811b1097f91c6606">ResetCheckoutDataAsync</a>(customer, storeId);</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160; </div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;            var cart = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a6c23a27aead1a64487e3f9ccb3828944">GetShoppingCartAsync</a>(customer, shoppingCartType, storeId);</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160; </div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;            var shoppingCartItem = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a9b6226371de5a7b6a822050f1bc9cbd0">FindShoppingCartItemInTheCartAsync</a>(cart,</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;                shoppingCartType, product, attributesXml, customerEnteredPrice,</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;                rentalStartDate, rentalEndDate);</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160; </div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;            <span class="keywordflow">if</span> (shoppingCartItem != <span class="keyword">null</span>)</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;            {</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;                <span class="comment">//update existing shopping cart item</span></div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;                var newQuantity = shoppingCartItem.Quantity + quantity;</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;                warnings.AddRange(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad6caa0f42edaa9da18ff5c5868c4cd01">GetShoppingCartItemWarningsAsync</a>(customer, shoppingCartType, product,</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;                    storeId, attributesXml,</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;                    customerEnteredPrice, rentalStartDate, rentalEndDate,</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;                    newQuantity, addRequiredProducts, shoppingCartItem.Id));</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160; </div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;                <span class="keywordflow">if</span> (warnings.Any())</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;                    <span class="keywordflow">return</span> warnings;</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160; </div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;                shoppingCartItem.AttributesXml = attributesXml;</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;                shoppingCartItem.Quantity = newQuantity;</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;                shoppingCartItem.UpdatedOnUtc = DateTime.UtcNow;</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160; </div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;                await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a25e71ccca6735556ec04ee5fbc5c3016">_sciRepository</a>.<a class="code" href="interface_nop_1_1_data_1_1_i_repository.html#a622cf52fafe306533584a002af92ebc0">UpdateAsync</a>(shoppingCartItem);</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;            }</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;            {</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;                <span class="comment">//new shopping cart item</span></div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;                warnings.AddRange(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad6caa0f42edaa9da18ff5c5868c4cd01">GetShoppingCartItemWarningsAsync</a>(customer, shoppingCartType, product,</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;                    storeId, attributesXml, customerEnteredPrice,</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;                    rentalStartDate, rentalEndDate,</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;                    quantity, addRequiredProducts));</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160; </div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;                <span class="keywordflow">if</span> (warnings.Any())</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;                    <span class="keywordflow">return</span> warnings;</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160; </div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;                <span class="comment">//maximum items validation</span></div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;                <span class="keywordflow">switch</span> (shoppingCartType)</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;                {</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_orders.html#ae2fb88620fcd3889e6e0504e7b18e806">ShoppingCartType</a>.ShoppingCart:</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;                        <span class="keywordflow">if</span> (cart.Count &gt;= <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a5b7323984429448a6e727bff3bff122e">_shoppingCartSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_settings.html#ab8b4c9878c50eb6783e139b479b8cf9a">MaximumShoppingCartItems</a>)</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;                        {</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;                            warnings.Add(<span class="keywordtype">string</span>.Format(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;ShoppingCart.MaximumShoppingCartItems&quot;</span>), <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a5b7323984429448a6e727bff3bff122e">_shoppingCartSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_settings.html#ab8b4c9878c50eb6783e139b479b8cf9a">MaximumShoppingCartItems</a>));</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;                            <span class="keywordflow">return</span> warnings;</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;                        }</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160; </div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_orders.html#ae2fb88620fcd3889e6e0504e7b18e806">ShoppingCartType</a>.Wishlist:</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;                        <span class="keywordflow">if</span> (cart.Count &gt;= <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a5b7323984429448a6e727bff3bff122e">_shoppingCartSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_settings.html#a19d4e89cba13b566dbd4a9e7288414f9">MaximumWishlistItems</a>)</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;                        {</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;                            warnings.Add(<span class="keywordtype">string</span>.Format(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;ShoppingCart.MaximumWishlistItems&quot;</span>), <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a5b7323984429448a6e727bff3bff122e">_shoppingCartSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_settings.html#a19d4e89cba13b566dbd4a9e7288414f9">MaximumWishlistItems</a>));</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;                            <span class="keywordflow">return</span> warnings;</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;                        }</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160; </div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;                    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;                }</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160; </div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;                var now = DateTime.UtcNow;</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;                shoppingCartItem = <span class="keyword">new</span> <a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html">ShoppingCartItem</a></div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;                {</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;                    <a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_orders.html#ae2fb88620fcd3889e6e0504e7b18e806">ShoppingCartType</a> = shoppingCartType,</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;                    <a class="code" href="namespace_nop_1_1_plugin_1_1_pickup_1_1_pickup_in_store_1_1_models.html#addaebf28dd13529bc4c925468d919f5f">StoreId</a> = storeId,</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#a5f43f2b53838c9c8c34cf27f06f5e78c">ProductId</a> = product.<a class="code" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Id</a>,</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#ae45ef18dd721dd3c34b1c4eb15a5ca0c">AttributesXml</a> = attributesXml,</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_models_1_1_catalog.html#a526b23462188b064c837371543518071">CustomerEnteredPrice</a> = customerEnteredPrice,</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;                    <a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#a9bfc9e3c5477ae8ce198f4ed303671d1">Quantity</a> = quantity,</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;                    RentalStartDateUtc = rentalStartDate,</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;                    RentalEndDateUtc = rentalEndDate,</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;                    CreatedOnUtc = now,</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;                    UpdatedOnUtc = now,</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;                    <a class="code" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aaa4303994371e93df77abec6d473c7e8">CustomerId</a> = customer.<a class="code" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Id</a></div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;                };</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160; </div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;                await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a25e71ccca6735556ec04ee5fbc5c3016">_sciRepository</a>.<a class="code" href="interface_nop_1_1_data_1_1_i_repository.html#a48e1afad4ac0521e531e1e0bce14b953">InsertAsync</a>(shoppingCartItem);</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160; </div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;                <span class="comment">//updated &quot;HasShoppingCartItems&quot; property used for performance optimization</span></div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;                customer.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html#a15c78a83ba8ea5daf90b8a8337b726a8">HasShoppingCartItems</a> = !<a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#aef8769f85fef3d4981a9a33cec72d32f">IsCustomerShoppingCartEmpty</a>(customer);</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160; </div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;                await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a52c79c5dd60cdc432691751a5253e707">_customerService</a>.<a class="code" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#a5e3102e7df9c920f1d3aa72f26502fd4">UpdateCustomerAsync</a>(customer);</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;            }</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160; </div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;            <span class="keywordflow">return</span> warnings;</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_base_entity_html_a6908f7c042a024f82d7e7947e75bca53"><div class="ttname"><a href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Nop.Core.BaseEntity.Id</a></div><div class="ttdeci">int Id</div><div class="ttdoc">Gets or sets the entity identifier</div><div class="ttdef"><b>Definition:</b> BaseEntity.cs:11</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer_html_a15c78a83ba8ea5daf90b8a8337b726a8"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html#a15c78a83ba8ea5daf90b8a8337b726a8">Nop.Core.Domain.Customers.Customer.HasShoppingCartItems</a></div><div class="ttdeci">bool HasShoppingCartItems</div><div class="ttdoc">Gets or sets a value indicating whether this customer has some products in the shopping cart</div><div class="ttdef"><b>Definition:</b> Customer.cs:64</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item_html"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html">Nop.Core.Domain.Orders.ShoppingCartItem</a></div><div class="ttdoc">Represents a shopping cart item</div><div class="ttdef"><b>Definition:</b> ShoppingCartItem.cs:9</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_settings_html_a19d4e89cba13b566dbd4a9e7288414f9"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_settings.html#a19d4e89cba13b566dbd4a9e7288414f9">Nop.Core.Domain.Orders.ShoppingCartSettings.MaximumWishlistItems</a></div><div class="ttdeci">int MaximumWishlistItems</div><div class="ttdoc">Gets or sets a value indicating maximum number of items in the wishlist</div><div class="ttdef"><b>Definition:</b> ShoppingCartSettings.cs:28</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_settings_html_ab8b4c9878c50eb6783e139b479b8cf9a"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_settings.html#ab8b4c9878c50eb6783e139b479b8cf9a">Nop.Core.Domain.Orders.ShoppingCartSettings.MaximumShoppingCartItems</a></div><div class="ttdeci">int MaximumShoppingCartItems</div><div class="ttdoc">Gets or sets a value indicating maximum number of items in the shopping cart</div><div class="ttdef"><b>Definition:</b> ShoppingCartSettings.cs:23</div></div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_orders_1_1_shopping_cart_service_html_a6c23a27aead1a64487e3f9ccb3828944"><div class="ttname"><a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a6c23a27aead1a64487e3f9ccb3828944">Nop.Services.Orders.ShoppingCartService.GetShoppingCartAsync</a></div><div class="ttdeci">virtual async Task&lt; IList&lt; ShoppingCartItem &gt; &gt; GetShoppingCartAsync(Customer customer, ShoppingCartType? shoppingCartType=null, int storeId=0, int? productId=null, DateTime? createdFromUtc=null, DateTime? createdToUtc=null)</div><div class="ttdoc">Gets shopping cart</div><div class="ttdef"><b>Definition:</b> ShoppingCartService.cs:691</div></div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_orders_1_1_shopping_cart_service_html_a9b6226371de5a7b6a822050f1bc9cbd0"><div class="ttname"><a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a9b6226371de5a7b6a822050f1bc9cbd0">Nop.Services.Orders.ShoppingCartService.FindShoppingCartItemInTheCartAsync</a></div><div class="ttdeci">virtual async Task&lt; ShoppingCartItem &gt; FindShoppingCartItemInTheCartAsync(IList&lt; ShoppingCartItem &gt; shoppingCart, ShoppingCartType shoppingCartType, Product product, string attributesXml=&quot;&quot;, decimal customerEnteredPrice=decimal.Zero, DateTime? rentalStartDate=null, DateTime? rentalEndDate=null)</div><div class="ttdoc">Finds a shopping cart item in the cart</div><div class="ttdef"><b>Definition:</b> ShoppingCartService.cs:1442</div></div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_orders_1_1_shopping_cart_service_html_ad6caa0f42edaa9da18ff5c5868c4cd01"><div class="ttname"><a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad6caa0f42edaa9da18ff5c5868c4cd01">Nop.Services.Orders.ShoppingCartService.GetShoppingCartItemWarningsAsync</a></div><div class="ttdeci">virtual async Task&lt; IList&lt; string &gt; &gt; GetShoppingCartItemWarningsAsync(Customer customer, ShoppingCartType shoppingCartType, Product product, int storeId, string attributesXml, decimal customerEnteredPrice, DateTime? rentalStartDate=null, DateTime? rentalEndDate=null, int quantity=1, bool addRequiredProducts=true, int shoppingCartItemId=0, bool getStandardWarnings=true, bool getAttributesWarnings=true, bool getGiftCardWarnings=true, bool getRequiredProductWarnings=true, bool getRentalWarnings=true)</div><div class="ttdoc">Validates shopping cart item</div><div class="ttdef"><b>Definition:</b> ShoppingCartService.cs:1059</div></div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_orders_1_1_shopping_cart_service_html_aef8769f85fef3d4981a9a33cec72d32f"><div class="ttname"><a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#aef8769f85fef3d4981a9a33cec72d32f">Nop.Services.Orders.ShoppingCartService.IsCustomerShoppingCartEmpty</a></div><div class="ttdeci">virtual bool IsCustomerShoppingCartEmpty(Customer customer)</div><div class="ttdoc">Gets a value indicating whether customer shopping cart is empty</div><div class="ttdef"><b>Definition:</b> ShoppingCartService.cs:194</div></div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_security_1_1_standard_permission_provider_html"><div class="ttname"><a href="class_nop_1_1_services_1_1_security_1_1_standard_permission_provider.html">Nop.Services.Security.StandardPermissionProvider</a></div><div class="ttdoc">Standard permission provider</div><div class="ttdef"><b>Definition:</b> StandardPermissionProvider.cs:11</div></div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_security_1_1_standard_permission_provider_html_abeb0f063a9ab6533a05370d91ac88bbe"><div class="ttname"><a href="class_nop_1_1_services_1_1_security_1_1_standard_permission_provider.html#abeb0f063a9ab6533a05370d91ac88bbe">Nop.Services.Security.StandardPermissionProvider.EnableShoppingCart</a></div><div class="ttdeci">static readonly PermissionRecord EnableShoppingCart</div><div class="ttdef"><b>Definition:</b> StandardPermissionProvider.cs:63</div></div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_security_1_1_standard_permission_provider_html_aeb663ad75b99e709c2dce2b2213acdd3"><div class="ttname"><a href="class_nop_1_1_services_1_1_security_1_1_standard_permission_provider.html#aeb663ad75b99e709c2dce2b2213acdd3">Nop.Services.Security.StandardPermissionProvider.EnableWishlist</a></div><div class="ttdeci">static readonly PermissionRecord EnableWishlist</div><div class="ttdef"><b>Definition:</b> StandardPermissionProvider.cs:64</div></div>
<div class="ttc" id="ainterface_nop_1_1_data_1_1_i_repository_html_a48e1afad4ac0521e531e1e0bce14b953"><div class="ttname"><a href="interface_nop_1_1_data_1_1_i_repository.html#a48e1afad4ac0521e531e1e0bce14b953">Nop.Data.IRepository.InsertAsync</a></div><div class="ttdeci">Task InsertAsync(TEntity entity, bool publishEvent=true)</div><div class="ttdoc">Insert the entity entry</div></div>
<div class="ttc" id="ainterface_nop_1_1_data_1_1_i_repository_html_a622cf52fafe306533584a002af92ebc0"><div class="ttname"><a href="interface_nop_1_1_data_1_1_i_repository.html#a622cf52fafe306533584a002af92ebc0">Nop.Data.IRepository.UpdateAsync</a></div><div class="ttdeci">Task UpdateAsync(TEntity entity, bool publishEvent=true)</div><div class="ttdoc">Update the entity entry</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_customers_1_1_i_customer_service_html_a045bcbe8b8e6766c811b1097f91c6606"><div class="ttname"><a href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#a045bcbe8b8e6766c811b1097f91c6606">Nop.Services.Customers.ICustomerService.ResetCheckoutDataAsync</a></div><div class="ttdeci">Task ResetCheckoutDataAsync(Customer customer, int storeId, bool clearCouponCodes=false, bool clearCheckoutAttributes=false, bool clearRewardPoints=true, bool clearShippingMethod=true, bool clearPaymentMethod=true)</div><div class="ttdoc">Reset data required for checkout</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_customers_1_1_i_customer_service_html_a5e3102e7df9c920f1d3aa72f26502fd4"><div class="ttname"><a href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#a5e3102e7df9c920f1d3aa72f26502fd4">Nop.Services.Customers.ICustomerService.UpdateCustomerAsync</a></div><div class="ttdeci">Task UpdateCustomerAsync(Customer customer)</div><div class="ttdoc">Updates the customer</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_localization_1_1_i_localization_service_html_ac1ae5d2f3ddfea87ce1f780c9294656a"><div class="ttname"><a href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">Nop.Services.Localization.ILocalizationService.GetResourceAsync</a></div><div class="ttdeci">Task&lt; string &gt; GetResourceAsync(string resourceKey)</div><div class="ttdoc">Gets a resource string based on the specified ResourceKey property.</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_security_1_1_i_permission_service_html_a548729082e1cd47e6f705ad2666b4aed"><div class="ttname"><a href="interface_nop_1_1_services_1_1_security_1_1_i_permission_service.html#a548729082e1cd47e6f705ad2666b4aed">Nop.Services.Security.IPermissionService.AuthorizeAsync</a></div><div class="ttdeci">Task&lt; bool &gt; AuthorizeAsync(PermissionRecord permission)</div><div class="ttdoc">Authorize permission</div></div>
<div class="ttc" id="anamespace_nop_1_1_core_1_1_domain_1_1_orders_html_ae2fb88620fcd3889e6e0504e7b18e806"><div class="ttname"><a href="namespace_nop_1_1_core_1_1_domain_1_1_orders.html#ae2fb88620fcd3889e6e0504e7b18e806">Nop.Core.Domain.Orders.ShoppingCartType</a></div><div class="ttdeci">ShoppingCartType</div><div class="ttdoc">Represents a shopping cart type</div><div class="ttdef"><b>Definition:</b> ShoppingCartType.cs:7</div></div>
<div class="ttc" id="anamespace_nop_1_1_plugin_1_1_pickup_1_1_pickup_in_store_1_1_models_html_addaebf28dd13529bc4c925468d919f5f"><div class="ttname"><a href="namespace_nop_1_1_plugin_1_1_pickup_1_1_pickup_in_store_1_1_models.html#addaebf28dd13529bc4c925468d919f5f">Nop.Plugin.Pickup.PickupInStore.Models.StoreId</a></div><div class="ttdeci">int StoreId</div><div class="ttdef"><b>Definition:</b> StorePickupPointModel.cs:36</div></div>
<div class="ttc" id="anamespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log_html_aaa4303994371e93df77abec6d473c7e8"><div class="ttname"><a href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aaa4303994371e93df77abec6d473c7e8">Nop.Plugin.Tax.Avalara.Models.Log.CustomerId</a></div><div class="ttdeci">int? CustomerId</div><div class="ttdef"><b>Definition:</b> TaxTransactionLogModel.cs:27</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog_html_a5f43f2b53838c9c8c34cf27f06f5e78c"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#a5f43f2b53838c9c8c34cf27f06f5e78c">Nop.Web.Areas.Admin.Models.Catalog.ProductId</a></div><div class="ttdeci">int ProductId</div><div class="ttdef"><b>Definition:</b> AddAssociatedProductModel.cs:21</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog_html_a9bfc9e3c5477ae8ce198f4ed303671d1"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#a9bfc9e3c5477ae8ce198f4ed303671d1">Nop.Web.Areas.Admin.Models.Catalog.Quantity</a></div><div class="ttdeci">int Quantity</div><div class="ttdef"><b>Definition:</b> TierPriceModel.cs:44</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog_html_ae45ef18dd721dd3c34b1c4eb15a5ca0c"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#ae45ef18dd721dd3c34b1c4eb15a5ca0c">Nop.Web.Areas.Admin.Models.Catalog.AttributesXml</a></div><div class="ttdeci">string AttributesXml</div><div class="ttdef"><b>Definition:</b> ProductAttributeCombinationModel.cs:30</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_models_1_1_catalog_html_a526b23462188b064c837371543518071"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_models_1_1_catalog.html#a526b23462188b064c837371543518071">Nop.Web.Models.Catalog.CustomerEnteredPrice</a></div><div class="ttdeci">decimal CustomerEnteredPrice</div><div class="ttdef"><b>Definition:</b> ProductDetailsModel.cs:154</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a52c79c5dd60cdc432691751a5253e707">Nop.Services.Orders.ShoppingCartService._customerService</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">Nop.Services.Orders.ShoppingCartService._localizationService</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a0231282832fb9d777c1d3da2eed79584">Nop.Services.Orders.ShoppingCartService._permissionService</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a25e71ccca6735556ec04ee5fbc5c3016">Nop.Services.Orders.ShoppingCartService._sciRepository</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a5b7323984429448a6e727bff3bff122e">Nop.Services.Orders.ShoppingCartService._shoppingCartSettings</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#ae45ef18dd721dd3c34b1c4eb15a5ca0c">Nop.Web.Areas.Admin.Models.Catalog.AttributesXml</a>, <a class="el" href="interface_nop_1_1_services_1_1_security_1_1_i_permission_service.html#a548729082e1cd47e6f705ad2666b4aed">Nop.Services.Security.IPermissionService.AuthorizeAsync()</a>, <a class="el" href="namespace_nop_1_1_web_1_1_models_1_1_catalog.html#a526b23462188b064c837371543518071">Nop.Web.Models.Catalog.CustomerEnteredPrice</a>, <a class="el" href="namespace_nop_1_1_plugin_1_1_tax_1_1_avalara_1_1_models_1_1_log.html#aaa4303994371e93df77abec6d473c7e8">Nop.Plugin.Tax.Avalara.Models.Log.CustomerId</a>, <a class="el" href="class_nop_1_1_services_1_1_security_1_1_standard_permission_provider.html#abeb0f063a9ab6533a05370d91ac88bbe">Nop.Services.Security.StandardPermissionProvider.EnableShoppingCart</a>, <a class="el" href="class_nop_1_1_services_1_1_security_1_1_standard_permission_provider.html#aeb663ad75b99e709c2dce2b2213acdd3">Nop.Services.Security.StandardPermissionProvider.EnableWishlist</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a9b6226371de5a7b6a822050f1bc9cbd0">Nop.Services.Orders.ShoppingCartService.FindShoppingCartItemInTheCartAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">Nop.Services.Localization.ILocalizationService.GetResourceAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a6c23a27aead1a64487e3f9ccb3828944">Nop.Services.Orders.ShoppingCartService.GetShoppingCartAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad6caa0f42edaa9da18ff5c5868c4cd01">Nop.Services.Orders.ShoppingCartService.GetShoppingCartItemWarningsAsync()</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html#a15c78a83ba8ea5daf90b8a8337b726a8">Nop.Core.Domain.Customers.Customer.HasShoppingCartItems</a>, <a class="el" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Nop.Core.BaseEntity.Id</a>, <a class="el" href="interface_nop_1_1_data_1_1_i_repository.html#a48e1afad4ac0521e531e1e0bce14b953">Nop.Data.IRepository&lt; TEntity &gt;.InsertAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#aef8769f85fef3d4981a9a33cec72d32f">Nop.Services.Orders.ShoppingCartService.IsCustomerShoppingCartEmpty()</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_settings.html#ab8b4c9878c50eb6783e139b479b8cf9a">Nop.Core.Domain.Orders.ShoppingCartSettings.MaximumShoppingCartItems</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_settings.html#a19d4e89cba13b566dbd4a9e7288414f9">Nop.Core.Domain.Orders.ShoppingCartSettings.MaximumWishlistItems</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#a5f43f2b53838c9c8c34cf27f06f5e78c">Nop.Web.Areas.Admin.Models.Catalog.ProductId</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#a9bfc9e3c5477ae8ce198f4ed303671d1">Nop.Web.Areas.Admin.Models.Catalog.Quantity</a>, <a class="el" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#a045bcbe8b8e6766c811b1097f91c6606">Nop.Services.Customers.ICustomerService.ResetCheckoutDataAsync()</a>, <a class="el" href="namespace_nop_1_1_plugin_1_1_pickup_1_1_pickup_in_store_1_1_models.html#addaebf28dd13529bc4c925468d919f5f">Nop.Plugin.Pickup.PickupInStore.Models.StoreId</a>, <a class="el" href="interface_nop_1_1_data_1_1_i_repository.html#a622cf52fafe306533584a002af92ebc0">Nop.Data.IRepository&lt; TEntity &gt;.UpdateAsync()</a> e <a class="el" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#a5e3102e7df9c920f1d3aa72f26502fd4">Nop.Services.Customers.ICustomerService.UpdateCustomerAsync()</a>.</p>

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#acdcdbd0deeeda2531704b1d47ccc9f84">Nop.Services.Orders.ShoppingCartService.GetRequiredProductWarningsAsync()</a> e <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0019be3569e60b586d0884cfca66667">Nop.Services.Orders.ShoppingCartService.MigrateShoppingCartAsync()</a>.</p>

</div>
</div>
<a id="ae89f5eb0e6b5dd4a02d0cad1ab82ccc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae89f5eb0e6b5dd4a02d0cad1ab82ccc8">&#9670;&nbsp;</a></span>DeleteExpiredShoppingCartItemsAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;int&gt; Nop.Services.Orders.ShoppingCartService.DeleteExpiredShoppingCartItemsAsync </td>
          <td>(</td>
          <td class="paramtype">DateTime&#160;</td>
          <td class="paramname"><em>olderThanUtc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deletes expired shopping cart items </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">olderThanUtc</td><td>Older than date and time</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the number of deleted items </dd></dl>

<p>Implementa <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_shopping_cart_service.html#a4e7722f13a2075cd786ef5053210639e">Nop.Services.Orders.IShoppingCartService</a>.</p>
<div class="fragment"><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        {</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;            var query = from sci in <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a25e71ccca6735556ec04ee5fbc5c3016">_sciRepository</a>.<a class="code" href="interface_nop_1_1_data_1_1_i_repository.html#a60d582452490ce8497c2808acbab5f6c">Table</a></div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;                        where sci.UpdatedOnUtc &lt; olderThanUtc</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;                        select sci;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160; </div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;            var cartItems = await query.ToListAsync();</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;            </div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;            <span class="keywordflow">foreach</span> (var cartItem <span class="keywordflow">in</span> cartItems)</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;                await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a28f22e70f1e84ad7a35db3c7f0289397">DeleteShoppingCartItemAsync</a>(cartItem);</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160; </div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;            <span class="keywordflow">return</span> cartItems.Count;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_orders_1_1_shopping_cart_service_html_a28f22e70f1e84ad7a35db3c7f0289397"><div class="ttname"><a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a28f22e70f1e84ad7a35db3c7f0289397">Nop.Services.Orders.ShoppingCartService.DeleteShoppingCartItemAsync</a></div><div class="ttdeci">virtual async Task DeleteShoppingCartItemAsync(ShoppingCartItem shoppingCartItem, bool resetCheckoutData=true, bool ensureOnlyActiveCheckoutAttributes=false)</div><div class="ttdoc">Delete shopping cart item</div><div class="ttdef"><b>Definition:</b> ShoppingCartService.cs:551</div></div>
<div class="ttc" id="ainterface_nop_1_1_data_1_1_i_repository_html_a60d582452490ce8497c2808acbab5f6c"><div class="ttname"><a href="interface_nop_1_1_data_1_1_i_repository.html#a60d582452490ce8497c2808acbab5f6c">Nop.Data.IRepository.Table</a></div><div class="ttdeci">IQueryable&lt; TEntity &gt; Table</div><div class="ttdoc">Gets a table</div><div class="ttdef"><b>Definition:</b> IRepository.cs:210</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a25e71ccca6735556ec04ee5fbc5c3016">Nop.Services.Orders.ShoppingCartService._sciRepository</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a28f22e70f1e84ad7a35db3c7f0289397">Nop.Services.Orders.ShoppingCartService.DeleteShoppingCartItemAsync()</a> e <a class="el" href="interface_nop_1_1_data_1_1_i_repository.html#a60d582452490ce8497c2808acbab5f6c">Nop.Data.IRepository&lt; TEntity &gt;.Table</a>.</p>

</div>
</div>
<a id="aeae13ddf1499fb42bce7d3e0e9bd2aae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeae13ddf1499fb42bce7d3e0e9bd2aae">&#9670;&nbsp;</a></span>DeleteShoppingCartItemAsync() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a> Nop.Services.Orders.ShoppingCartService.DeleteShoppingCartItemAsync </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>shoppingCartItemId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>resetCheckoutData</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>ensureOnlyActiveCheckoutAttributes</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Delete shopping cart item </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">shoppingCartItemId</td><td>Shopping cart item ID</td></tr>
    <tr><td class="paramname">resetCheckoutData</td><td>A value indicating whether to reset checkout data</td></tr>
    <tr><td class="paramname">ensureOnlyActiveCheckoutAttributes</td><td>A value indicating whether to ensure that only active checkout attributes are attached to the current customer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation</dd></dl>

<p>Implementa <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_shopping_cart_service.html#abca571646e2fd4df221de63a60c11d9c">Nop.Services.Orders.IShoppingCartService</a>.</p>
<div class="fragment"><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        {</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;            var shoppingCartItem = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a25e71ccca6735556ec04ee5fbc5c3016">_sciRepository</a>.<a class="code" href="interface_nop_1_1_data_1_1_i_repository.html#a60d582452490ce8497c2808acbab5f6c">Table</a>.FirstOrDefaultAsync(sci =&gt; sci.Id == shoppingCartItemId);</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;            <span class="keywordflow">if</span> (shoppingCartItem != <span class="keyword">null</span>)</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a28f22e70f1e84ad7a35db3c7f0289397">DeleteShoppingCartItemAsync</a>(shoppingCartItem, resetCheckoutData, ensureOnlyActiveCheckoutAttributes);</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a25e71ccca6735556ec04ee5fbc5c3016">Nop.Services.Orders.ShoppingCartService._sciRepository</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a28f22e70f1e84ad7a35db3c7f0289397">Nop.Services.Orders.ShoppingCartService.DeleteShoppingCartItemAsync()</a> e <a class="el" href="interface_nop_1_1_data_1_1_i_repository.html#a60d582452490ce8497c2808acbab5f6c">Nop.Data.IRepository&lt; TEntity &gt;.Table</a>.</p>

</div>
</div>
<a id="a28f22e70f1e84ad7a35db3c7f0289397"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28f22e70f1e84ad7a35db3c7f0289397">&#9670;&nbsp;</a></span>DeleteShoppingCartItemAsync() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a> Nop.Services.Orders.ShoppingCartService.DeleteShoppingCartItemAsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html">ShoppingCartItem</a>&#160;</td>
          <td class="paramname"><em>shoppingCartItem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>resetCheckoutData</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>ensureOnlyActiveCheckoutAttributes</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Delete shopping cart item </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">shoppingCartItem</td><td>Shopping cart item</td></tr>
    <tr><td class="paramname">resetCheckoutData</td><td>A value indicating whether to reset checkout data</td></tr>
    <tr><td class="paramname">ensureOnlyActiveCheckoutAttributes</td><td>A value indicating whether to ensure that only active checkout attributes are attached to the current customer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation</dd></dl>

<p>Implementa <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_shopping_cart_service.html#a884ba6669f7571e0ecf5079877792a6e">Nop.Services.Orders.IShoppingCartService</a>.</p>
<div class="fragment"><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        {</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;            <span class="keywordflow">if</span> (shoppingCartItem == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(shoppingCartItem));</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160; </div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;            var customer = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a52c79c5dd60cdc432691751a5253e707">_customerService</a>.<a class="code" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#a9d2dc587d116a6f656792c4f4cf22e09">GetCustomerByIdAsync</a>(shoppingCartItem.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#a5fb0677bdd5bc9433ef30dce0274e40b">CustomerId</a>);</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;            var storeId = shoppingCartItem.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#aa460169ed2f1f8780594116a532c881f">StoreId</a>;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160; </div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;            <span class="comment">//reset checkout data</span></div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;            <span class="keywordflow">if</span> (resetCheckoutData) </div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a52c79c5dd60cdc432691751a5253e707">_customerService</a>.<a class="code" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#a045bcbe8b8e6766c811b1097f91c6606">ResetCheckoutDataAsync</a>(customer, shoppingCartItem.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#aa460169ed2f1f8780594116a532c881f">StoreId</a>);</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160; </div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;            <span class="comment">//delete item</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;            await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a25e71ccca6735556ec04ee5fbc5c3016">_sciRepository</a>.<a class="code" href="interface_nop_1_1_data_1_1_i_repository.html#a8e54f00f8fa70b8ee758015f453e067e">DeleteAsync</a>(shoppingCartItem);</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160; </div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;            <span class="comment">//reset &quot;HasShoppingCartItems&quot; property used for performance optimization</span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;            customer.HasShoppingCartItems = !<a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#aef8769f85fef3d4981a9a33cec72d32f">IsCustomerShoppingCartEmpty</a>(customer);</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;            await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a52c79c5dd60cdc432691751a5253e707">_customerService</a>.<a class="code" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#a5e3102e7df9c920f1d3aa72f26502fd4">UpdateCustomerAsync</a>(customer);</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160; </div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;            <span class="comment">//validate checkout attributes</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;            <span class="keywordflow">if</span> (ensureOnlyActiveCheckoutAttributes &amp;&amp;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;                <span class="comment">//only for shopping cart items (ignore wishlist)</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;                shoppingCartItem.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#a71a8f0748f7b942b26bde472fb4b8b80">ShoppingCartType</a> == <a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_orders.html#ae2fb88620fcd3889e6e0504e7b18e806">ShoppingCartType</a>.ShoppingCart)</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;            {</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;                var cart = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a6c23a27aead1a64487e3f9ccb3828944">GetShoppingCartAsync</a>(customer, <a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_orders.html#ae2fb88620fcd3889e6e0504e7b18e806">ShoppingCartType</a>.ShoppingCart, storeId);</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160; </div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                var checkoutAttributesXml =</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                    await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad4535269f67ab87a38dbb015a5e32812">_genericAttributeService</a>.GetAttributeAsync&lt;<span class="keywordtype">string</span>&gt;(customer, <a class="code" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html">NopCustomerDefaults</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html#a7fad329b67b90c06f515599945aa20ef">CheckoutAttributes</a>,</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                        storeId);</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                checkoutAttributesXml =</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                    await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a1924da9d46f2502558968763fe8523a3">_checkoutAttributeParser</a>.<a class="code" href="interface_nop_1_1_services_1_1_orders_1_1_i_checkout_attribute_parser.html#a4aa5a705f07dceb447d8c0f8e9de3862">EnsureOnlyActiveAttributesAsync</a>(checkoutAttributesXml, cart);</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad4535269f67ab87a38dbb015a5e32812">_genericAttributeService</a>.SaveAttributeAsync(customer, <a class="code" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html">NopCustomerDefaults</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html#a7fad329b67b90c06f515599945aa20ef">CheckoutAttributes</a>,</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                    checkoutAttributesXml, storeId);</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;            }</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160; </div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#aeb27a5fac8fae43af58fff5386f62b23">_catalogSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_catalog_settings.html#a8eaf347ae114a8815313ba43b0ce40b0">RemoveRequiredProducts</a>)</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160; </div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;            var product = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ab2d95d5144b8fb62fe60208501e45384">_productService</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#ab448923cc8826840ac6cd1558a0f2a9d">GetProductByIdAsync</a>(shoppingCartItem.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#a41753f926ec6a9b021c3e7acc76b17e1">ProductId</a>);</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;            <span class="keywordflow">if</span> (!product?.RequireOtherProducts ?? <span class="keyword">true</span>)</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160; </div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;            var requiredProductIds = <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ab2d95d5144b8fb62fe60208501e45384">_productService</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#ae399f0fadf88c2cfcf4078c9e09eaeaa">ParseRequiredProductIds</a>(product);</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;            var requiredShoppingCartItems =</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                (await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a6c23a27aead1a64487e3f9ccb3828944">GetShoppingCartAsync</a>(customer, shoppingCartType: shoppingCartItem.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#a71a8f0748f7b942b26bde472fb4b8b80">ShoppingCartType</a>))</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                    .Where(item =&gt; requiredProductIds.Any(<span class="keywordtype">id</span> =&gt; <span class="keywordtype">id</span> == item.ProductId))</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;                    .ToList();</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160; </div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;            <span class="comment">//update quantity of required products in the cart if the main one is removed</span></div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;            <span class="keywordflow">foreach</span> (var cartItem <span class="keywordflow">in</span> requiredShoppingCartItems)</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;            {</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                <span class="comment">//at now we ignore quantities of required products and use 1</span></div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                var requiredProductQuantity = 1;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160; </div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a7ba3d22fe0e5d6bce2c89f53dec91798">UpdateShoppingCartItemAsync</a>(customer, cartItem.Id, cartItem.AttributesXml, cartItem.CustomerEnteredPrice,</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;                    quantity: cartItem.Quantity - shoppingCartItem.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#a328394923ada78196459bdf390f04c93">Quantity</a> * requiredProductQuantity,</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;                    resetCheckoutData: <span class="keyword">false</span>);</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;            }</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_catalog_1_1_catalog_settings_html_a8eaf347ae114a8815313ba43b0ce40b0"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_catalog_settings.html#a8eaf347ae114a8815313ba43b0ce40b0">Nop.Core.Domain.Catalog.CatalogSettings.RemoveRequiredProducts</a></div><div class="ttdeci">bool RemoveRequiredProducts</div><div class="ttdoc">Gets or sets a value indicating whether to remove required products from the cart if the main one is ...</div><div class="ttdef"><b>Definition:</b> CatalogSettings.cs:496</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults_html"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html">Nop.Core.Domain.Customers.NopCustomerDefaults</a></div><div class="ttdoc">Represents default values related to customers data</div><div class="ttdef"><b>Definition:</b> NopCustomerDefaults.cs:7</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults_html_a7fad329b67b90c06f515599945aa20ef"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html#a7fad329b67b90c06f515599945aa20ef">Nop.Core.Domain.Customers.NopCustomerDefaults.CheckoutAttributes</a></div><div class="ttdeci">static string CheckoutAttributes</div><div class="ttdoc">Gets a name of generic attribute to store the value of 'CheckoutAttributes'</div><div class="ttdef"><b>Definition:</b> NopCustomerDefaults.cs:236</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item_html_a328394923ada78196459bdf390f04c93"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#a328394923ada78196459bdf390f04c93">Nop.Core.Domain.Orders.ShoppingCartItem.Quantity</a></div><div class="ttdeci">int Quantity</div><div class="ttdoc">Gets or sets the quantity</div><div class="ttdef"><b>Definition:</b> ShoppingCartItem.cs:43</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item_html_a41753f926ec6a9b021c3e7acc76b17e1"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#a41753f926ec6a9b021c3e7acc76b17e1">Nop.Core.Domain.Orders.ShoppingCartItem.ProductId</a></div><div class="ttdeci">int ProductId</div><div class="ttdoc">Gets or sets the product identifier</div><div class="ttdef"><b>Definition:</b> ShoppingCartItem.cs:28</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item_html_a5fb0677bdd5bc9433ef30dce0274e40b"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#a5fb0677bdd5bc9433ef30dce0274e40b">Nop.Core.Domain.Orders.ShoppingCartItem.CustomerId</a></div><div class="ttdeci">int CustomerId</div><div class="ttdoc">Gets or sets the customer identifier</div><div class="ttdef"><b>Definition:</b> ShoppingCartItem.cs:23</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item_html_a71a8f0748f7b942b26bde472fb4b8b80"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#a71a8f0748f7b942b26bde472fb4b8b80">Nop.Core.Domain.Orders.ShoppingCartItem.ShoppingCartType</a></div><div class="ttdeci">ShoppingCartType ShoppingCartType</div><div class="ttdoc">Gets the log type</div><div class="ttdef"><b>Definition:</b> ShoppingCartItem.cs:69</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item_html_aa460169ed2f1f8780594116a532c881f"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#aa460169ed2f1f8780594116a532c881f">Nop.Core.Domain.Orders.ShoppingCartItem.StoreId</a></div><div class="ttdeci">int StoreId</div><div class="ttdoc">Gets or sets the store identifier</div><div class="ttdef"><b>Definition:</b> ShoppingCartItem.cs:13</div></div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_orders_1_1_shopping_cart_service_html_a7ba3d22fe0e5d6bce2c89f53dec91798"><div class="ttname"><a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a7ba3d22fe0e5d6bce2c89f53dec91798">Nop.Services.Orders.ShoppingCartService.UpdateShoppingCartItemAsync</a></div><div class="ttdeci">virtual async Task&lt; IList&lt; string &gt; &gt; UpdateShoppingCartItemAsync(Customer customer, int shoppingCartItemId, string attributesXml, decimal customerEnteredPrice, DateTime? rentalStartDate=null, DateTime? rentalEndDate=null, int quantity=1, bool resetCheckoutData=true)</div><div class="ttdoc">Updates the shopping cart item</div><div class="ttdef"><b>Definition:</b> ShoppingCartService.cs:1617</div></div>
<div class="ttc" id="ainterface_nop_1_1_data_1_1_i_repository_html_a8e54f00f8fa70b8ee758015f453e067e"><div class="ttname"><a href="interface_nop_1_1_data_1_1_i_repository.html#a8e54f00f8fa70b8ee758015f453e067e">Nop.Data.IRepository.DeleteAsync</a></div><div class="ttdeci">Task DeleteAsync(TEntity entity, bool publishEvent=true)</div><div class="ttdoc">Delete the entity entry</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_catalog_1_1_i_product_service_html_ab448923cc8826840ac6cd1558a0f2a9d"><div class="ttname"><a href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#ab448923cc8826840ac6cd1558a0f2a9d">Nop.Services.Catalog.IProductService.GetProductByIdAsync</a></div><div class="ttdeci">Task&lt; Product &gt; GetProductByIdAsync(int productId)</div><div class="ttdoc">Gets product</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_catalog_1_1_i_product_service_html_ae399f0fadf88c2cfcf4078c9e09eaeaa"><div class="ttname"><a href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#ae399f0fadf88c2cfcf4078c9e09eaeaa">Nop.Services.Catalog.IProductService.ParseRequiredProductIds</a></div><div class="ttdeci">int[] ParseRequiredProductIds(Product product)</div><div class="ttdoc">Parse &quot;required product Ids&quot; property</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_customers_1_1_i_customer_service_html_a9d2dc587d116a6f656792c4f4cf22e09"><div class="ttname"><a href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#a9d2dc587d116a6f656792c4f4cf22e09">Nop.Services.Customers.ICustomerService.GetCustomerByIdAsync</a></div><div class="ttdeci">Task&lt; Customer &gt; GetCustomerByIdAsync(int customerId)</div><div class="ttdoc">Gets a customer</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_orders_1_1_i_checkout_attribute_parser_html_a4aa5a705f07dceb447d8c0f8e9de3862"><div class="ttname"><a href="interface_nop_1_1_services_1_1_orders_1_1_i_checkout_attribute_parser.html#a4aa5a705f07dceb447d8c0f8e9de3862">Nop.Services.Orders.ICheckoutAttributeParser.EnsureOnlyActiveAttributesAsync</a></div><div class="ttdeci">Task&lt; string &gt; EnsureOnlyActiveAttributesAsync(string attributesXml, IList&lt; ShoppingCartItem &gt; cart)</div><div class="ttdoc">Removes checkout attributes which cannot be applied to the current cart and returns an update attribu...</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#aeb27a5fac8fae43af58fff5386f62b23">Nop.Services.Orders.ShoppingCartService._catalogSettings</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a1924da9d46f2502558968763fe8523a3">Nop.Services.Orders.ShoppingCartService._checkoutAttributeParser</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a52c79c5dd60cdc432691751a5253e707">Nop.Services.Orders.ShoppingCartService._customerService</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad4535269f67ab87a38dbb015a5e32812">Nop.Services.Orders.ShoppingCartService._genericAttributeService</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ab2d95d5144b8fb62fe60208501e45384">Nop.Services.Orders.ShoppingCartService._productService</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a25e71ccca6735556ec04ee5fbc5c3016">Nop.Services.Orders.ShoppingCartService._sciRepository</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html#a7fad329b67b90c06f515599945aa20ef">Nop.Core.Domain.Customers.NopCustomerDefaults.CheckoutAttributes</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#a5fb0677bdd5bc9433ef30dce0274e40b">Nop.Core.Domain.Orders.ShoppingCartItem.CustomerId</a>, <a class="el" href="interface_nop_1_1_data_1_1_i_repository.html#a8e54f00f8fa70b8ee758015f453e067e">Nop.Data.IRepository&lt; TEntity &gt;.DeleteAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_checkout_attribute_parser.html#a4aa5a705f07dceb447d8c0f8e9de3862">Nop.Services.Orders.ICheckoutAttributeParser.EnsureOnlyActiveAttributesAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#a9d2dc587d116a6f656792c4f4cf22e09">Nop.Services.Customers.ICustomerService.GetCustomerByIdAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#ab448923cc8826840ac6cd1558a0f2a9d">Nop.Services.Catalog.IProductService.GetProductByIdAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a6c23a27aead1a64487e3f9ccb3828944">Nop.Services.Orders.ShoppingCartService.GetShoppingCartAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#aef8769f85fef3d4981a9a33cec72d32f">Nop.Services.Orders.ShoppingCartService.IsCustomerShoppingCartEmpty()</a>, <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#ae399f0fadf88c2cfcf4078c9e09eaeaa">Nop.Services.Catalog.IProductService.ParseRequiredProductIds()</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#a41753f926ec6a9b021c3e7acc76b17e1">Nop.Core.Domain.Orders.ShoppingCartItem.ProductId</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_catalog_settings.html#a8eaf347ae114a8815313ba43b0ce40b0">Nop.Core.Domain.Catalog.CatalogSettings.RemoveRequiredProducts</a>, <a class="el" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#a045bcbe8b8e6766c811b1097f91c6606">Nop.Services.Customers.ICustomerService.ResetCheckoutDataAsync()</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#a71a8f0748f7b942b26bde472fb4b8b80">Nop.Core.Domain.Orders.ShoppingCartItem.ShoppingCartType</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#aa460169ed2f1f8780594116a532c881f">Nop.Core.Domain.Orders.ShoppingCartItem.StoreId</a>, <a class="el" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#a5e3102e7df9c920f1d3aa72f26502fd4">Nop.Services.Customers.ICustomerService.UpdateCustomerAsync()</a> e <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a7ba3d22fe0e5d6bce2c89f53dec91798">Nop.Services.Orders.ShoppingCartService.UpdateShoppingCartItemAsync()</a>.</p>

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ae89f5eb0e6b5dd4a02d0cad1ab82ccc8">Nop.Services.Orders.ShoppingCartService.DeleteExpiredShoppingCartItemsAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#aeae13ddf1499fb42bce7d3e0e9bd2aae">Nop.Services.Orders.ShoppingCartService.DeleteShoppingCartItemAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0019be3569e60b586d0884cfca66667">Nop.Services.Orders.ShoppingCartService.MigrateShoppingCartAsync()</a> e <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a7ba3d22fe0e5d6bce2c89f53dec91798">Nop.Services.Orders.ShoppingCartService.UpdateShoppingCartItemAsync()</a>.</p>

</div>
</div>
<a id="a9b6226371de5a7b6a822050f1bc9cbd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b6226371de5a7b6a822050f1bc9cbd0">&#9670;&nbsp;</a></span>FindShoppingCartItemInTheCartAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;<a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html">ShoppingCartItem</a>&gt; Nop.Services.Orders.ShoppingCartService.FindShoppingCartItemInTheCartAsync </td>
          <td>(</td>
          <td class="paramtype">IList&lt; <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html">ShoppingCartItem</a> &gt;&#160;</td>
          <td class="paramname"><em>shoppingCart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_nop_1_1_core_1_1_domain_1_1_orders.html#ae2fb88620fcd3889e6e0504e7b18e806">ShoppingCartType</a>&#160;</td>
          <td class="paramname"><em>shoppingCartType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html">Product</a>&#160;</td>
          <td class="paramname"><em>product</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>attributesXml</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">decimal&#160;</td>
          <td class="paramname"><em>customerEnteredPrice</em> = <code>decimal.Zero</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DateTime?&#160;</td>
          <td class="paramname"><em>rentalStartDate</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DateTime?&#160;</td>
          <td class="paramname"><em>rentalEndDate</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Finds a shopping cart item in the cart </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">shoppingCart</td><td>Shopping cart</td></tr>
    <tr><td class="paramname">shoppingCartType</td><td>Shopping cart type</td></tr>
    <tr><td class="paramname">product</td><td>Product</td></tr>
    <tr><td class="paramname">attributesXml</td><td>Attributes in XML format</td></tr>
    <tr><td class="paramname">customerEnteredPrice</td><td>Price entered by a customer</td></tr>
    <tr><td class="paramname">rentalStartDate</td><td>Rental start date</td></tr>
    <tr><td class="paramname">rentalEndDate</td><td>Rental end date</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the found shopping cart item </dd></dl>

<p>Implementa <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_shopping_cart_service.html#a5a47482216ecfb7a3e4c111136431dc2">Nop.Services.Orders.IShoppingCartService</a>.</p>
<div class="fragment"><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;        {</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;            <span class="keywordflow">if</span> (shoppingCart == <span class="keyword">null</span>)</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(shoppingCart));</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160; </div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;            <span class="keywordflow">if</span> (product == <span class="keyword">null</span>)</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(product));</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160; </div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;            <span class="keywordflow">return</span> await shoppingCart.Where(sci =&gt; sci.ShoppingCartType == shoppingCartType)</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;                .FirstOrDefaultAwaitAsync(async sci =&gt; await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a1550bc8798c8a37e6ecbd41d3306ee26">ShoppingCartItemIsEqualAsync</a>(sci, product, attributesXml, customerEnteredPrice, rentalStartDate, rentalEndDate));</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_orders_1_1_shopping_cart_service_html_a1550bc8798c8a37e6ecbd41d3306ee26"><div class="ttname"><a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a1550bc8798c8a37e6ecbd41d3306ee26">Nop.Services.Orders.ShoppingCartService.ShoppingCartItemIsEqualAsync</a></div><div class="ttdeci">virtual async Task&lt; bool &gt; ShoppingCartItemIsEqualAsync(ShoppingCartItem shoppingCartItem, Product product, string attributesXml, decimal customerEnteredPrice, DateTime? rentalStartDate, DateTime? rentalEndDate)</div><div class="ttdoc">Determine if the shopping cart item is the same as the one being compared</div><div class="ttdef"><b>Definition:</b> ShoppingCartService.cs:143</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a1550bc8798c8a37e6ecbd41d3306ee26">Nop.Services.Orders.ShoppingCartService.ShoppingCartItemIsEqualAsync()</a>.</p>

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad7cabaa8f4aa69f9dfd466f1b77edff0">Nop.Services.Orders.ShoppingCartService.AddToCartAsync()</a>.</p>

</div>
</div>
<a id="a6da6deec36d9416e14af3725bea1e2c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6da6deec36d9416e14af3725bea1e2c0">&#9670;&nbsp;</a></span>GetProductsRequiringProductAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;IList&lt;<a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html">Product</a>&gt; &gt; Nop.Services.Orders.ShoppingCartService.GetProductsRequiringProductAsync </td>
          <td>(</td>
          <td class="paramtype">IList&lt; <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html">ShoppingCartItem</a> &gt;&#160;</td>
          <td class="paramname"><em>cart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html">Product</a>&#160;</td>
          <td class="paramname"><em>product</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get products from shopping cart whether requiring specific product </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">cart</td><td>Shopping cart </td></tr>
    <tr><td class="paramname">product</td><td>Product</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the result </dd></dl>

<p>Implementa <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_shopping_cart_service.html#adf773c76e1cd1ab284a0026d3b83ef59">Nop.Services.Orders.IShoppingCartService</a>.</p>
<div class="fragment"><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;        {</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;            <span class="keywordflow">if</span> (cart is <span class="keyword">null</span>)</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(cart));</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160; </div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;            <span class="keywordflow">if</span> (product is <span class="keyword">null</span>)</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(product));</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160; </div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;            <span class="keywordflow">if</span> (cart.Count == 0)</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">new</span> List&lt;Product&gt;();</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160; </div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;            var productIds = cart.Select(ci =&gt; ci.ProductId).ToArray();</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160; </div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;            var cartProducts = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ab2d95d5144b8fb62fe60208501e45384">_productService</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#a95bc29e2ad313cc7d097a0765db46681">GetProductsByIdsAsync</a>(productIds);</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160; </div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;            <span class="keywordflow">return</span> cartProducts.Where(cartProduct =&gt;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;                cartProduct.RequireOtherProducts &amp;&amp;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;                <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ab2d95d5144b8fb62fe60208501e45384">_productService</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#ae399f0fadf88c2cfcf4078c9e09eaeaa">ParseRequiredProductIds</a>(cartProduct).Contains(product.<a class="code" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Id</a>)).ToList();</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        }</div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_catalog_1_1_i_product_service_html_a95bc29e2ad313cc7d097a0765db46681"><div class="ttname"><a href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#a95bc29e2ad313cc7d097a0765db46681">Nop.Services.Catalog.IProductService.GetProductsByIdsAsync</a></div><div class="ttdeci">Task&lt; IList&lt; Product &gt; &gt; GetProductsByIdsAsync(int[] productIds)</div><div class="ttdoc">Gets products by identifier</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ab2d95d5144b8fb62fe60208501e45384">Nop.Services.Orders.ShoppingCartService._productService</a>, <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#a95bc29e2ad313cc7d097a0765db46681">Nop.Services.Catalog.IProductService.GetProductsByIdsAsync()</a>, <a class="el" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Nop.Core.BaseEntity.Id</a> e <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#ae399f0fadf88c2cfcf4078c9e09eaeaa">Nop.Services.Catalog.IProductService.ParseRequiredProductIds()</a>.</p>

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#acdcdbd0deeeda2531704b1d47ccc9f84">Nop.Services.Orders.ShoppingCartService.GetRequiredProductWarningsAsync()</a>.</p>

</div>
</div>
<a id="af426455c6d5aabc026f49ccf4f3e64aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af426455c6d5aabc026f49ccf4f3e64aa">&#9670;&nbsp;</a></span>GetRecurringCycleInfoAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;(string error, int cycleLength, <a class="el" href="namespace_nop_1_1_core_1_1_domain_1_1_catalog.html#a78fc1d7cb49b0318ee4f9ef0490f3ba7">RecurringProductCyclePeriod</a> cyclePeriod, int totalCycles)&gt; Nop.Services.Orders.ShoppingCartService.GetRecurringCycleInfoAsync </td>
          <td>(</td>
          <td class="paramtype">IList&lt; <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html">ShoppingCartItem</a> &gt;&#160;</td>
          <td class="paramname"><em>shoppingCart</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a recurring cycle information </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">shoppingCart</td><td>Shopping cart</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the error (if exists); otherwise, empty string. Cycle length. Cycle period. Total cycles </dd></dl>

<p>Implementa <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_shopping_cart_service.html#a861f1b42fac7692f3873d76123e03a09">Nop.Services.Orders.IShoppingCartService</a>.</p>
<div class="fragment"><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;        {</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;            var rezCycleLength = 0;</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;            <a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_catalog.html#a78fc1d7cb49b0318ee4f9ef0490f3ba7">RecurringProductCyclePeriod</a> rezCyclePeriod = 0;</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;            var rezTotalCycles = 0;</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160; </div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;            <span class="keywordtype">int</span>? cycleLength = <span class="keyword">null</span>;</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;            <a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_catalog.html#a78fc1d7cb49b0318ee4f9ef0490f3ba7">RecurringProductCyclePeriod</a>? cyclePeriod = <span class="keyword">null</span>;</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;            <span class="keywordtype">int</span>? totalCycles = <span class="keyword">null</span>;</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160; </div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;            <span class="keywordflow">foreach</span> (var sci <span class="keywordflow">in</span> shoppingCart)</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;            {</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;                var product = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ab2d95d5144b8fb62fe60208501e45384">_productService</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#ab448923cc8826840ac6cd1558a0f2a9d">GetProductByIdAsync</a>(sci.ProductId);</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;                <span class="keywordflow">if</span> (product == <span class="keyword">null</span>)</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;                {</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;                    <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="class_nop_1_1_core_1_1_nop_exception.html">NopException</a>($<span class="stringliteral">&quot;Product (Id={sci.ProductId}) cannot be loaded&quot;</span>);</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;                }</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160; </div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;                <span class="keywordflow">if</span> (!product.IsRecurring)</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160; </div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;                var conflictError = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;ShoppingCart.ConflictingShipmentSchedules&quot;</span>);</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160; </div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;                <span class="comment">//cycle length</span></div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;                <span class="keywordflow">if</span> (cycleLength.HasValue &amp;&amp; cycleLength.Value != product.RecurringCycleLength)</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;                    <span class="keywordflow">return</span> (conflictError, rezCycleLength, rezCyclePeriod, rezTotalCycles);</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;                cycleLength = product.RecurringCycleLength;</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160; </div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;                <span class="comment">//cycle period</span></div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;                <span class="keywordflow">if</span> (cyclePeriod.HasValue &amp;&amp; cyclePeriod.Value != product.RecurringCyclePeriod)</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;                    <span class="keywordflow">return</span> (conflictError, rezCycleLength, rezCyclePeriod, rezTotalCycles);</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;                cyclePeriod = product.RecurringCyclePeriod;</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160; </div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;                <span class="comment">//total cycles</span></div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;                <span class="keywordflow">if</span> (totalCycles.HasValue &amp;&amp; totalCycles.Value != product.RecurringTotalCycles)</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;                    <span class="keywordflow">return</span> (conflictError, rezCycleLength, rezCyclePeriod, rezTotalCycles);</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;                totalCycles = product.RecurringTotalCycles;</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;            }</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160; </div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;            <span class="keywordflow">if</span> (!cycleLength.HasValue)</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;                <span class="keywordflow">return</span> (<span class="keywordtype">string</span>.Empty, rezCycleLength, rezCyclePeriod, rezTotalCycles);</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160; </div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;            rezCycleLength = cycleLength.Value;</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;            rezCyclePeriod = cyclePeriod.Value;</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;            rezTotalCycles = totalCycles.Value;</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160; </div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;            <span class="keywordflow">return</span> (<span class="keywordtype">string</span>.Empty, rezCycleLength, rezCyclePeriod, rezTotalCycles);</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_nop_exception_html"><div class="ttname"><a href="class_nop_1_1_core_1_1_nop_exception.html">Nop.Core.NopException</a></div><div class="ttdoc">Represents errors that occur during application execution</div><div class="ttdef"><b>Definition:</b> NopException.cs:11</div></div>
<div class="ttc" id="anamespace_nop_1_1_core_1_1_domain_1_1_catalog_html_a78fc1d7cb49b0318ee4f9ef0490f3ba7"><div class="ttname"><a href="namespace_nop_1_1_core_1_1_domain_1_1_catalog.html#a78fc1d7cb49b0318ee4f9ef0490f3ba7">Nop.Core.Domain.Catalog.RecurringProductCyclePeriod</a></div><div class="ttdeci">RecurringProductCyclePeriod</div><div class="ttdoc">Represents a recurring product cycle period</div><div class="ttdef"><b>Definition:</b> RecurringProductCyclePeriod.cs:7</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">Nop.Services.Orders.ShoppingCartService._localizationService</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ab2d95d5144b8fb62fe60208501e45384">Nop.Services.Orders.ShoppingCartService._productService</a>, <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#ab448923cc8826840ac6cd1558a0f2a9d">Nop.Services.Catalog.IProductService.GetProductByIdAsync()</a> e <a class="el" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">Nop.Services.Localization.ILocalizationService.GetResourceAsync()</a>.</p>

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a3ea5e98e73dbee1fc30a99a35b668673">Nop.Services.Orders.ShoppingCartService.GetShoppingCartWarningsAsync()</a>.</p>

</div>
</div>
<a id="a0735a280c9f3ff0b134ba9829bc30803"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0735a280c9f3ff0b134ba9829bc30803">&#9670;&nbsp;</a></span>GetRentalProductWarningsAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;IList&lt;string&gt; &gt; Nop.Services.Orders.ShoppingCartService.GetRentalProductWarningsAsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html">Product</a>&#160;</td>
          <td class="paramname"><em>product</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DateTime?&#160;</td>
          <td class="paramname"><em>rentalStartDate</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DateTime?&#160;</td>
          <td class="paramname"><em>rentalEndDate</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Validates shopping cart item for rental products </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">product</td><td>Product</td></tr>
    <tr><td class="paramname">rentalStartDate</td><td>Rental start date</td></tr>
    <tr><td class="paramname">rentalEndDate</td><td>Rental end date</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the warnings </dd></dl>

<p>Implementa <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_shopping_cart_service.html#a666e0ed23317b6deefe5ffc868f01fbd">Nop.Services.Orders.IShoppingCartService</a>.</p>
<div class="fragment"><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;        {</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;            <span class="keywordflow">if</span> (product == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(product));</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160; </div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;            var warnings = <span class="keyword">new</span> List&lt;string&gt;();</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160; </div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;            <span class="keywordflow">if</span> (!product.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a561891299d6853a51615c4fdb64b33f4">IsRental</a>)</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;                <span class="keywordflow">return</span> warnings;</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160; </div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;            <span class="keywordflow">if</span> (!rentalStartDate.HasValue)</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;            {</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;                warnings.Add(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;ShoppingCart.Rental.EnterStartDate&quot;</span>));</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;                <span class="keywordflow">return</span> warnings;</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;            }</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160; </div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;            <span class="keywordflow">if</span> (!rentalEndDate.HasValue)</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;            {</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;                warnings.Add(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;ShoppingCart.Rental.EnterEndDate&quot;</span>));</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;                <span class="keywordflow">return</span> warnings;</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;            }</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160; </div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;            <span class="keywordflow">if</span> (rentalStartDate.Value.CompareTo(rentalEndDate.Value) &gt; 0)</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;            {</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;                warnings.Add(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;ShoppingCart.Rental.StartDateLessEndDate&quot;</span>));</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;                <span class="keywordflow">return</span> warnings;</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;            }</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160; </div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;            <span class="comment">//allowed start date should be the future date</span></div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;            <span class="comment">//we should compare rental start date with a store local time</span></div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;            <span class="comment">//but we what if a store works in distinct timezones? how we should handle it? skip it for now</span></div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;            <span class="comment">//we also ignore hours (anyway not supported yet)</span></div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;            <span class="comment">//today</span></div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;            var nowDtInStoreTimeZone = <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad3e442a177f6f3c53bfdcea203decd3e">_dateTimeHelper</a>.<a class="code" href="interface_nop_1_1_services_1_1_helpers_1_1_i_date_time_helper.html#aad32e5b23c345810be19572eb6e7cf77">ConvertToUserTime</a>(DateTime.Now, TimeZoneInfo.Local, <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad3e442a177f6f3c53bfdcea203decd3e">_dateTimeHelper</a>.<a class="code" href="interface_nop_1_1_services_1_1_helpers_1_1_i_date_time_helper.html#a820c4114ca6fc0d580725348c38437f9">DefaultStoreTimeZone</a>);</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;            var todayDt = <span class="keyword">new</span> DateTime(nowDtInStoreTimeZone.Year, nowDtInStoreTimeZone.Month, nowDtInStoreTimeZone.Day);</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;            var todayDtUtc = <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad3e442a177f6f3c53bfdcea203decd3e">_dateTimeHelper</a>.<a class="code" href="interface_nop_1_1_services_1_1_helpers_1_1_i_date_time_helper.html#a39dea4b6533a9390b7abf02d1d48ab79">ConvertToUtcTime</a>(todayDt, <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad3e442a177f6f3c53bfdcea203decd3e">_dateTimeHelper</a>.<a class="code" href="interface_nop_1_1_services_1_1_helpers_1_1_i_date_time_helper.html#a820c4114ca6fc0d580725348c38437f9">DefaultStoreTimeZone</a>);</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;            <span class="comment">//dates are entered in store timezone (e.g. like in hotels)</span></div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;            var startDateUtc = <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad3e442a177f6f3c53bfdcea203decd3e">_dateTimeHelper</a>.<a class="code" href="interface_nop_1_1_services_1_1_helpers_1_1_i_date_time_helper.html#a39dea4b6533a9390b7abf02d1d48ab79">ConvertToUtcTime</a>(rentalStartDate.Value, <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad3e442a177f6f3c53bfdcea203decd3e">_dateTimeHelper</a>.<a class="code" href="interface_nop_1_1_services_1_1_helpers_1_1_i_date_time_helper.html#a820c4114ca6fc0d580725348c38437f9">DefaultStoreTimeZone</a>);</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;            <span class="comment">//but we what if dates should be entered in a customer timezone?</span></div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;            <span class="comment">//DateTime startDateUtc = _dateTimeHelper.ConvertToUtcTime(rentalStartDate.Value, _dateTimeHelper.CurrentTimeZone);</span></div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;            <span class="keywordflow">if</span> (todayDtUtc.CompareTo(startDateUtc) &lt;= 0)</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;                <span class="keywordflow">return</span> warnings;</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160; </div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;            warnings.Add(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;ShoppingCart.Rental.StartDateShouldBeFuture&quot;</span>));</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;            <span class="keywordflow">return</span> warnings;</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product_html_a561891299d6853a51615c4fdb64b33f4"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a561891299d6853a51615c4fdb64b33f4">Nop.Core.Domain.Catalog.Product.IsRental</a></div><div class="ttdeci">bool IsRental</div><div class="ttdoc">Gets or sets a value indicating whether the product is rental</div><div class="ttdef"><b>Definition:</b> Product.cs:236</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_helpers_1_1_i_date_time_helper_html_a39dea4b6533a9390b7abf02d1d48ab79"><div class="ttname"><a href="interface_nop_1_1_services_1_1_helpers_1_1_i_date_time_helper.html#a39dea4b6533a9390b7abf02d1d48ab79">Nop.Services.Helpers.IDateTimeHelper.ConvertToUtcTime</a></div><div class="ttdeci">DateTime ConvertToUtcTime(DateTime dt)</div><div class="ttdoc">Converts the date and time to Coordinated Universal Time (UTC)</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_helpers_1_1_i_date_time_helper_html_a820c4114ca6fc0d580725348c38437f9"><div class="ttname"><a href="interface_nop_1_1_services_1_1_helpers_1_1_i_date_time_helper.html#a820c4114ca6fc0d580725348c38437f9">Nop.Services.Helpers.IDateTimeHelper.DefaultStoreTimeZone</a></div><div class="ttdeci">TimeZoneInfo DefaultStoreTimeZone</div><div class="ttdoc">Gets or sets a default store time zone</div><div class="ttdef"><b>Definition:</b> IDateTimeHelper.cs:95</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_helpers_1_1_i_date_time_helper_html_aad32e5b23c345810be19572eb6e7cf77"><div class="ttname"><a href="interface_nop_1_1_services_1_1_helpers_1_1_i_date_time_helper.html#aad32e5b23c345810be19572eb6e7cf77">Nop.Services.Helpers.IDateTimeHelper.ConvertToUserTime</a></div><div class="ttdeci">DateTime ConvertToUserTime(DateTime dt, TimeZoneInfo sourceTimeZone, TimeZoneInfo destinationTimeZone)</div><div class="ttdoc">Converts the date and time to current user date and time</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad3e442a177f6f3c53bfdcea203decd3e">Nop.Services.Orders.ShoppingCartService._dateTimeHelper</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">Nop.Services.Orders.ShoppingCartService._localizationService</a>, <a class="el" href="interface_nop_1_1_services_1_1_helpers_1_1_i_date_time_helper.html#aad32e5b23c345810be19572eb6e7cf77">Nop.Services.Helpers.IDateTimeHelper.ConvertToUserTime()</a>, <a class="el" href="interface_nop_1_1_services_1_1_helpers_1_1_i_date_time_helper.html#a39dea4b6533a9390b7abf02d1d48ab79">Nop.Services.Helpers.IDateTimeHelper.ConvertToUtcTime()</a>, <a class="el" href="interface_nop_1_1_services_1_1_helpers_1_1_i_date_time_helper.html#a820c4114ca6fc0d580725348c38437f9">Nop.Services.Helpers.IDateTimeHelper.DefaultStoreTimeZone</a>, <a class="el" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">Nop.Services.Localization.ILocalizationService.GetResourceAsync()</a> e <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a561891299d6853a51615c4fdb64b33f4">Nop.Core.Domain.Catalog.Product.IsRental</a>.</p>

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad6caa0f42edaa9da18ff5c5868c4cd01">Nop.Services.Orders.ShoppingCartService.GetShoppingCartItemWarningsAsync()</a>.</p>

</div>
</div>
<a id="acdcdbd0deeeda2531704b1d47ccc9f84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdcdbd0deeeda2531704b1d47ccc9f84">&#9670;&nbsp;</a></span>GetRequiredProductWarningsAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;IList&lt;string&gt; &gt; Nop.Services.Orders.ShoppingCartService.GetRequiredProductWarningsAsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html">Customer</a>&#160;</td>
          <td class="paramname"><em>customer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_nop_1_1_core_1_1_domain_1_1_orders.html#ae2fb88620fcd3889e6e0504e7b18e806">ShoppingCartType</a>&#160;</td>
          <td class="paramname"><em>shoppingCartType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html">Product</a>&#160;</td>
          <td class="paramname"><em>product</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>storeId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>quantity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>addRequiredProducts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>shoppingCartItemId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Validates required products (products which require some other products to be added to the cart) </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">customer</td><td>Customer</td></tr>
    <tr><td class="paramname">shoppingCartType</td><td>Shopping cart type</td></tr>
    <tr><td class="paramname">product</td><td>Product</td></tr>
    <tr><td class="paramname">storeId</td><td>Store identifier</td></tr>
    <tr><td class="paramname">quantity</td><td>Quantity</td></tr>
    <tr><td class="paramname">addRequiredProducts</td><td>Whether to add required products</td></tr>
    <tr><td class="paramname">shoppingCartItemId</td><td>Shopping cart identifier; pass 0 if it's a new item</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the warnings </dd></dl>
<div class="fragment"><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        {</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            <span class="keywordflow">if</span> (customer == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(customer));</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160; </div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            <span class="keywordflow">if</span> (product == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(product));</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160; </div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            var warnings = <span class="keyword">new</span> List&lt;string&gt;();</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160; </div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            <span class="comment">//at now we ignore quantities of required products and use 1</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;            var requiredProductQuantity = 1;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160; </div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            <span class="comment">//get customer shopping cart</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            var cart = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a6c23a27aead1a64487e3f9ccb3828944">GetShoppingCartAsync</a>(customer, shoppingCartType, storeId);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160; </div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            var productsRequiringProduct = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a6da6deec36d9416e14af3725bea1e2c0">GetProductsRequiringProductAsync</a>(cart, product);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160; </div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;            <span class="comment">//whether other cart items require the passed product</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            var passedProductRequiredQuantity = cart.Where(ci =&gt; productsRequiringProduct.Any(p =&gt; p.Id == ci.ProductId))</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                .Sum(item =&gt; item.Quantity * requiredProductQuantity);</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160; </div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            <span class="keywordflow">if</span> (passedProductRequiredQuantity &gt; quantity)</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                warnings.Add(<span class="keywordtype">string</span>.Format(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;ShoppingCart.RequiredProductUpdateWarning&quot;</span>), passedProductRequiredQuantity));</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160; </div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            <span class="comment">//whether the passed product requires other products</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            <span class="keywordflow">if</span> (!product.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a169e45b593c6747efd64b65b2346f86f">RequireOtherProducts</a>)</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                <span class="keywordflow">return</span> warnings;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160; </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;            <span class="comment">//get these required products</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;            var requiredProducts = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ab2d95d5144b8fb62fe60208501e45384">_productService</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#a95bc29e2ad313cc7d097a0765db46681">GetProductsByIdsAsync</a>(<a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ab2d95d5144b8fb62fe60208501e45384">_productService</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#ae399f0fadf88c2cfcf4078c9e09eaeaa">ParseRequiredProductIds</a>(product));</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            <span class="keywordflow">if</span> (!requiredProducts.Any())</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                <span class="keywordflow">return</span> warnings;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160; </div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            <span class="comment">//get warnings</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;            var urlHelper = <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad64202db564caac4f4709c0459d59360">_urlHelperFactory</a>.GetUrlHelper(<a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#af3f1dbcd55c8025caf11200b51f8eed3">_actionContextAccessor</a>.ActionContext);</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            var warningLocale = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;ShoppingCart.RequiredProductWarning&quot;</span>);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            <span class="keywordflow">foreach</span> (var requiredProduct <span class="keywordflow">in</span> requiredProducts)</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            {</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                var productsRequiringRequiredProduct = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a6da6deec36d9416e14af3725bea1e2c0">GetProductsRequiringProductAsync</a>(cart, requiredProduct);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160; </div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                <span class="comment">//get the required quantity of the required product</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                var requiredProductRequiredQuantity = quantity * requiredProductQuantity +</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                    cart.Where(ci =&gt; productsRequiringRequiredProduct.Any(p =&gt; p.Id == ci.ProductId))</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                        .Where(item =&gt; item.Id != shoppingCartItemId)</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                        .Sum(item =&gt; item.Quantity * requiredProductQuantity);</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160; </div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                <span class="comment">//whether required product is already in the cart in the required quantity</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                var quantityToAdd = requiredProductRequiredQuantity - (cart.FirstOrDefault(item =&gt; item.ProductId == requiredProduct.Id)?.Quantity ?? 0);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                <span class="keywordflow">if</span> (quantityToAdd &lt;= 0)</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160; </div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                <span class="comment">//prepare warning message</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                var requiredProductName = WebUtility.HtmlEncode(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.GetLocalizedAsync(requiredProduct, x =&gt; x.Name));</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                var requiredProductWarning = <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#aeb27a5fac8fae43af58fff5386f62b23">_catalogSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_catalog_settings.html#a4f48cc8ce15f80755284ed3fdfc54b99">UseLinksInRequiredProductWarnings</a></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                    ? <span class="keywordtype">string</span>.Format(warningLocale, $<span class="stringliteral">&quot;&lt;a href=\&quot;{urlHelper.RouteUrl(nameof(Product), new { SeName = await _urlRecordService.GetSeNameAsync(requiredProduct) })}\&quot;&gt;{requiredProductName}&lt;/a&gt;&quot;</span>, requiredProductRequiredQuantity)</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                    : <span class="keywordtype">string</span>.Format(warningLocale, requiredProductName, requiredProductRequiredQuantity);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160; </div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                <span class="comment">//add to cart (if possible)</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                <span class="keywordflow">if</span> (addRequiredProducts &amp;&amp; product.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a44f9be71775e03e64c0e7a88deeb189e">AutomaticallyAddRequiredProducts</a>)</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                {</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                    <span class="comment">//do not add required products to prevent circular references</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                    var addToCartWarnings = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad7cabaa8f4aa69f9dfd466f1b77edff0">AddToCartAsync</a>(customer, requiredProduct, shoppingCartType, storeId,</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                        quantity: quantityToAdd, addRequiredProducts: <span class="keyword">false</span>);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160; </div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                    <span class="comment">//don&#39;t display all specific errors only the generic one</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                    <span class="keywordflow">if</span> (addToCartWarnings.Any())</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                        warnings.Add(requiredProductWarning);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                }</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                    warnings.Add(requiredProductWarning);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            }</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160; </div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            <span class="keywordflow">return</span> warnings;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_catalog_1_1_catalog_settings_html_a4f48cc8ce15f80755284ed3fdfc54b99"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_catalog_settings.html#a4f48cc8ce15f80755284ed3fdfc54b99">Nop.Core.Domain.Catalog.CatalogSettings.UseLinksInRequiredProductWarnings</a></div><div class="ttdeci">bool UseLinksInRequiredProductWarnings</div><div class="ttdoc">Gets or sets a value indicating whether to render link to required products in &quot;Require other product...</div><div class="ttdef"><b>Definition:</b> CatalogSettings.cs:346</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product_html_a169e45b593c6747efd64b65b2346f86f"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a169e45b593c6747efd64b65b2346f86f">Nop.Core.Domain.Catalog.Product.RequireOtherProducts</a></div><div class="ttdeci">bool RequireOtherProducts</div><div class="ttdoc">Gets or sets a value indicating whether the product requires that other products are added to the car...</div><div class="ttdef"><b>Definition:</b> Product.cs:151</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product_html_a44f9be71775e03e64c0e7a88deeb189e"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a44f9be71775e03e64c0e7a88deeb189e">Nop.Core.Domain.Catalog.Product.AutomaticallyAddRequiredProducts</a></div><div class="ttdeci">bool AutomaticallyAddRequiredProducts</div><div class="ttdoc">Gets or sets a value indicating whether required products are automatically added to the cart</div><div class="ttdef"><b>Definition:</b> Product.cs:161</div></div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_orders_1_1_shopping_cart_service_html_a6da6deec36d9416e14af3725bea1e2c0"><div class="ttname"><a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a6da6deec36d9416e14af3725bea1e2c0">Nop.Services.Orders.ShoppingCartService.GetProductsRequiringProductAsync</a></div><div class="ttdeci">virtual async Task&lt; IList&lt; Product &gt; &gt; GetProductsRequiringProductAsync(IList&lt; ShoppingCartItem &gt; cart, Product product)</div><div class="ttdoc">Get products from shopping cart whether requiring specific product</div><div class="ttdef"><b>Definition:</b> ShoppingCartService.cs:658</div></div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_orders_1_1_shopping_cart_service_html_ad7cabaa8f4aa69f9dfd466f1b77edff0"><div class="ttname"><a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad7cabaa8f4aa69f9dfd466f1b77edff0">Nop.Services.Orders.ShoppingCartService.AddToCartAsync</a></div><div class="ttdeci">virtual async Task&lt; IList&lt; string &gt; &gt; AddToCartAsync(Customer customer, Product product, ShoppingCartType shoppingCartType, int storeId, string attributesXml=null, decimal customerEnteredPrice=decimal.Zero, DateTime? rentalStartDate=null, DateTime? rentalEndDate=null, int quantity=1, bool addRequiredProducts=true)</div><div class="ttdoc">Add a product to shopping cart</div><div class="ttdef"><b>Definition:</b> ShoppingCartService.cs:1477</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#af3f1dbcd55c8025caf11200b51f8eed3">Nop.Services.Orders.ShoppingCartService._actionContextAccessor</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#aeb27a5fac8fae43af58fff5386f62b23">Nop.Services.Orders.ShoppingCartService._catalogSettings</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">Nop.Services.Orders.ShoppingCartService._localizationService</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ab2d95d5144b8fb62fe60208501e45384">Nop.Services.Orders.ShoppingCartService._productService</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad64202db564caac4f4709c0459d59360">Nop.Services.Orders.ShoppingCartService._urlHelperFactory</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad7cabaa8f4aa69f9dfd466f1b77edff0">Nop.Services.Orders.ShoppingCartService.AddToCartAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#a95bc29e2ad313cc7d097a0765db46681">Nop.Services.Catalog.IProductService.GetProductsByIdsAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a6da6deec36d9416e14af3725bea1e2c0">Nop.Services.Orders.ShoppingCartService.GetProductsRequiringProductAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">Nop.Services.Localization.ILocalizationService.GetResourceAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a6c23a27aead1a64487e3f9ccb3828944">Nop.Services.Orders.ShoppingCartService.GetShoppingCartAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#ae399f0fadf88c2cfcf4078c9e09eaeaa">Nop.Services.Catalog.IProductService.ParseRequiredProductIds()</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a169e45b593c6747efd64b65b2346f86f">Nop.Core.Domain.Catalog.Product.RequireOtherProducts</a> e <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_catalog_settings.html#a4f48cc8ce15f80755284ed3fdfc54b99">Nop.Core.Domain.Catalog.CatalogSettings.UseLinksInRequiredProductWarnings</a>.</p>

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad6caa0f42edaa9da18ff5c5868c4cd01">Nop.Services.Orders.ShoppingCartService.GetShoppingCartItemWarningsAsync()</a> e <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a7ba3d22fe0e5d6bce2c89f53dec91798">Nop.Services.Orders.ShoppingCartService.UpdateShoppingCartItemAsync()</a>.</p>

</div>
</div>
<a id="a6c23a27aead1a64487e3f9ccb3828944"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c23a27aead1a64487e3f9ccb3828944">&#9670;&nbsp;</a></span>GetShoppingCartAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;IList&lt;<a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html">ShoppingCartItem</a>&gt; &gt; Nop.Services.Orders.ShoppingCartService.GetShoppingCartAsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html">Customer</a>&#160;</td>
          <td class="paramname"><em>customer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_nop_1_1_core_1_1_domain_1_1_orders.html#ae2fb88620fcd3889e6e0504e7b18e806">ShoppingCartType</a>?&#160;</td>
          <td class="paramname"><em>shoppingCartType</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>storeId</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int?&#160;</td>
          <td class="paramname"><em>productId</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DateTime?&#160;</td>
          <td class="paramname"><em>createdFromUtc</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DateTime?&#160;</td>
          <td class="paramname"><em>createdToUtc</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets shopping cart </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">customer</td><td>Customer</td></tr>
    <tr><td class="paramname">shoppingCartType</td><td>Shopping cart type; pass null to load all records</td></tr>
    <tr><td class="paramname">storeId</td><td>Store identifier; pass 0 to load all records</td></tr>
    <tr><td class="paramname">productId</td><td>Product identifier; pass null to load all records</td></tr>
    <tr><td class="paramname">createdFromUtc</td><td>Created date from (UTC); pass null to load all records</td></tr>
    <tr><td class="paramname">createdToUtc</td><td>Created date to (UTC); pass null to load all records</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the shopping Cart </dd></dl>

<p>Implementa <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_shopping_cart_service.html#a57f855d8ca2ffb0465bc91d84ae253e1">Nop.Services.Orders.IShoppingCartService</a>.</p>
<div class="fragment"><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        {</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;            <span class="keywordflow">if</span> (customer == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(customer));</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160; </div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;            var items = <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a25e71ccca6735556ec04ee5fbc5c3016">_sciRepository</a>.<a class="code" href="interface_nop_1_1_data_1_1_i_repository.html#a60d582452490ce8497c2808acbab5f6c">Table</a>.Where(sci =&gt; sci.CustomerId == customer.<a class="code" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Id</a>);</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160; </div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;            <span class="comment">//filter by type</span></div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;            <span class="keywordflow">if</span> (shoppingCartType.HasValue)</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;                items = items.Where(item =&gt; item.ShoppingCartTypeId == (<span class="keywordtype">int</span>)shoppingCartType.Value);</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160; </div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;            <span class="comment">//filter shopping cart items by store</span></div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;            <span class="keywordflow">if</span> (storeId &gt; 0 &amp;&amp; !<a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a5b7323984429448a6e727bff3bff122e">_shoppingCartSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_settings.html#adc7346f0f83928ab963e599ed561fda0">CartsSharedBetweenStores</a>)</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;                items = items.Where(item =&gt; item.StoreId == storeId);</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160; </div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;            <span class="comment">//filter shopping cart items by product</span></div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;            <span class="keywordflow">if</span> (productId &gt; 0)</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;                items = items.Where(item =&gt; item.ProductId == productId);</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160; </div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;            <span class="comment">//filter shopping cart items by date</span></div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;            <span class="keywordflow">if</span> (createdFromUtc.HasValue)</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;                items = items.Where(item =&gt; createdFromUtc.Value &lt;= item.CreatedOnUtc);</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;            <span class="keywordflow">if</span> (createdToUtc.HasValue)</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;                items = items.Where(item =&gt; createdToUtc.Value &gt;= item.CreatedOnUtc);</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160; </div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;            var key = <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#af7c14cae2823366c47df53e3ded7dbf2">_staticCacheManager</a>.<a class="code" href="interface_nop_1_1_core_1_1_caching_1_1_i_static_cache_manager.html#ae0d7b4f85ef5eecb2a080a4126fd3f80">PrepareKeyForShortTermCache</a>(NopOrderDefaults.ShoppingCartItemsAllCacheKey, customer, shoppingCartType, storeId, productId, createdFromUtc, createdToUtc);</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160; </div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;            <span class="keywordflow">return</span> await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#af7c14cae2823366c47df53e3ded7dbf2">_staticCacheManager</a>.GetAsync(key, async () =&gt; await items.ToListAsync());</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_settings_html_adc7346f0f83928ab963e599ed561fda0"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_settings.html#adc7346f0f83928ab963e599ed561fda0">Nop.Core.Domain.Orders.ShoppingCartSettings.CartsSharedBetweenStores</a></div><div class="ttdeci">bool CartsSharedBetweenStores</div><div class="ttdoc">Gets or sets a value indicating whether shopping carts (and wishlist) are shared between stores (in m...</div><div class="ttdef"><b>Definition:</b> ShoppingCartSettings.cs:43</div></div>
<div class="ttc" id="ainterface_nop_1_1_core_1_1_caching_1_1_i_static_cache_manager_html_ae0d7b4f85ef5eecb2a080a4126fd3f80"><div class="ttname"><a href="interface_nop_1_1_core_1_1_caching_1_1_i_static_cache_manager.html#ae0d7b4f85ef5eecb2a080a4126fd3f80">Nop.Core.Caching.IStaticCacheManager.PrepareKeyForShortTermCache</a></div><div class="ttdeci">CacheKey PrepareKeyForShortTermCache(CacheKey cacheKey, params object[] cacheKeyParameters)</div><div class="ttdoc">Create a copy of cache key using the short cache time and fills it by passed parameters</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a25e71ccca6735556ec04ee5fbc5c3016">Nop.Services.Orders.ShoppingCartService._sciRepository</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a5b7323984429448a6e727bff3bff122e">Nop.Services.Orders.ShoppingCartService._shoppingCartSettings</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#af7c14cae2823366c47df53e3ded7dbf2">Nop.Services.Orders.ShoppingCartService._staticCacheManager</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_settings.html#adc7346f0f83928ab963e599ed561fda0">Nop.Core.Domain.Orders.ShoppingCartSettings.CartsSharedBetweenStores</a>, <a class="el" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Nop.Core.BaseEntity.Id</a>, <a class="el" href="interface_nop_1_1_core_1_1_caching_1_1_i_static_cache_manager.html#ae0d7b4f85ef5eecb2a080a4126fd3f80">Nop.Core.Caching.IStaticCacheManager.PrepareKeyForShortTermCache()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_nop_order_defaults.html#a381f5c3c359476050acddf41e2e5e585">Nop.Services.Orders.NopOrderDefaults.ShoppingCartItemsAllCacheKey</a> e <a class="el" href="interface_nop_1_1_data_1_1_i_repository.html#a60d582452490ce8497c2808acbab5f6c">Nop.Data.IRepository&lt; TEntity &gt;.Table</a>.</p>

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad7cabaa8f4aa69f9dfd466f1b77edff0">Nop.Services.Orders.ShoppingCartService.AddToCartAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a28f22e70f1e84ad7a35db3c7f0289397">Nop.Services.Orders.ShoppingCartService.DeleteShoppingCartItemAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#acdcdbd0deeeda2531704b1d47ccc9f84">Nop.Services.Orders.ShoppingCartService.GetRequiredProductWarningsAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a878c99e09eb05fb192ef7f94213ef50f">Nop.Services.Orders.ShoppingCartService.GetStandardWarningsAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a5fbdfe50e339a64bb0e528887ec86b14">Nop.Services.Orders.ShoppingCartService.GetUnitPriceAsync()</a> e <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0019be3569e60b586d0884cfca66667">Nop.Services.Orders.ShoppingCartService.MigrateShoppingCartAsync()</a>.</p>

</div>
</div>
<a id="a412cab95db07bd117a41c3d7741e22b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a412cab95db07bd117a41c3d7741e22b6">&#9670;&nbsp;</a></span>GetShoppingCartItemAttributeWarningsAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;IList&lt;string&gt; &gt; Nop.Services.Orders.ShoppingCartService.GetShoppingCartItemAttributeWarningsAsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html">Customer</a>&#160;</td>
          <td class="paramname"><em>customer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_nop_1_1_core_1_1_domain_1_1_orders.html#ae2fb88620fcd3889e6e0504e7b18e806">ShoppingCartType</a>&#160;</td>
          <td class="paramname"><em>shoppingCartType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html">Product</a>&#160;</td>
          <td class="paramname"><em>product</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>quantity</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>attributesXml</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>ignoreNonCombinableAttributes</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>ignoreConditionMet</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Validates shopping cart item attributes </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">customer</td><td>Customer</td></tr>
    <tr><td class="paramname">shoppingCartType</td><td>Shopping cart type</td></tr>
    <tr><td class="paramname">product</td><td>Product</td></tr>
    <tr><td class="paramname">quantity</td><td>Quantity</td></tr>
    <tr><td class="paramname">attributesXml</td><td>Attributes in XML format</td></tr>
    <tr><td class="paramname">ignoreNonCombinableAttributes</td><td>A value indicating whether we should ignore non-combinable attributes</td></tr>
    <tr><td class="paramname">ignoreConditionMet</td><td>A value indicating whether we should ignore filtering by "is condition met" property</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the warnings </dd></dl>

<p>Implementa <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_shopping_cart_service.html#a1e70d636cbed1703ae366d40e8b7f588">Nop.Services.Orders.IShoppingCartService</a>.</p>
<div class="fragment"><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;        {</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;            <span class="keywordflow">if</span> (product == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(product));</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160; </div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;            var warnings = <span class="keyword">new</span> List&lt;string&gt;();</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160; </div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;            <span class="comment">//ensure it&#39;s our attributes</span></div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;            var attributes1 = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a372f60dd105ef1a5a25b7f5e5b5dab2d">_productAttributeParser</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_parser.html#a5a95706c8c65c0b05a87966b445cd6a2">ParseProductAttributeMappingsAsync</a>(attributesXml);</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;            <span class="keywordflow">if</span> (ignoreNonCombinableAttributes)</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;            {</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;                attributes1 = attributes1.Where(x =&gt; !x.IsNonCombinable()).ToList();</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;            }</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160; </div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;            <span class="keywordflow">foreach</span> (var attribute <span class="keywordflow">in</span> attributes1)</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;            {</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;                <span class="keywordflow">if</span> (attribute.ProductId == 0)</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;                {</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;                    warnings.Add(<span class="stringliteral">&quot;Attribute error&quot;</span>);</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;                    <span class="keywordflow">return</span> warnings;</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;                }</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160; </div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;                <span class="keywordflow">if</span> (attribute.ProductId != product.<a class="code" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Id</a>)</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;                {</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;                    warnings.Add(<span class="stringliteral">&quot;Attribute error&quot;</span>);</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;                }</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;            }</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160; </div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;            <span class="comment">//validate required product attributes (whether they&#39;re chosen/selected/entered)</span></div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;            var attributes2 = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ae4a6c57285b55e10b8dcc8fcde94cbca">_productAttributeService</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_service.html#af16272e3f5c7c58336ae3eb77c2beadc">GetProductAttributeMappingsByProductIdAsync</a>(product.<a class="code" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Id</a>);</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;            <span class="keywordflow">if</span> (ignoreNonCombinableAttributes)</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;            {</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;                attributes2 = attributes2.Where(x =&gt; !x.IsNonCombinable()).ToList();</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;            }</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160; </div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;            <span class="comment">//validate conditional attributes only (if specified)</span></div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;            <span class="keywordflow">if</span> (!ignoreConditionMet)</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;            {</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;                attributes2 = await attributes2.WhereAwait(async x =&gt;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;                {</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;                    var conditionMet = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a372f60dd105ef1a5a25b7f5e5b5dab2d">_productAttributeParser</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_parser.html#a140a0e983d9afa481732cc454171cf00">IsConditionMetAsync</a>(x, attributesXml);</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;                    <span class="keywordflow">return</span> !conditionMet.HasValue || conditionMet.Value;</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;                }).ToListAsync();</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;            }</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160; </div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;            <span class="keywordflow">foreach</span> (var a2 <span class="keywordflow">in</span> attributes2)</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;            {</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;                <span class="keywordflow">if</span> (a2.IsRequired)</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;                {</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;                    var found = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;                    <span class="comment">//selected product attributes</span></div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;                    <span class="keywordflow">foreach</span> (var a1 <span class="keywordflow">in</span> attributes1)</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;                    {</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;                        <span class="keywordflow">if</span> (a1.Id != a2.Id)</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;                            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160; </div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;                        var attributeValuesStr = <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a372f60dd105ef1a5a25b7f5e5b5dab2d">_productAttributeParser</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_parser.html#a03ef0d3f7549ba6a5776f0f2946b6e1a">ParseValues</a>(attributesXml, a1.Id);</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160; </div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;                        <span class="keywordflow">foreach</span> (var str1 <span class="keywordflow">in</span> attributeValuesStr)</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;                        {</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;                            <span class="keywordflow">if</span> (<span class="keywordtype">string</span>.IsNullOrEmpty(str1.Trim()))</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;                                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160; </div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;                            found = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;                            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;                        }</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;                    }</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160; </div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;                    <span class="comment">//if not found</span></div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;                    <span class="keywordflow">if</span> (!found)</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;                    {</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;                        var productAttribute = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ae4a6c57285b55e10b8dcc8fcde94cbca">_productAttributeService</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_service.html#aca2595be388061949bf0eb0fccd3b6f4">GetProductAttributeByIdAsync</a>(a2.ProductAttributeId);</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160; </div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;                        var textPrompt = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.GetLocalizedAsync(a2, x =&gt; x.TextPrompt);</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;                        var notFoundWarning = !<span class="keywordtype">string</span>.IsNullOrEmpty(textPrompt) ?</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;                            textPrompt :</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;                            <span class="keywordtype">string</span>.Format(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;ShoppingCart.SelectAttribute&quot;</span>), await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.GetLocalizedAsync(productAttribute, a =&gt; a.Name));</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160; </div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;                        warnings.Add(notFoundWarning);</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;                    }</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;                }</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160; </div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;                <span class="keywordflow">if</span> (a2.AttributeControlType != <a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_catalog.html#a6ad29624b8115f1f879a4b439d9c0826">AttributeControlType</a>.ReadonlyCheckboxes)</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160; </div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;                <span class="comment">//customers cannot edit read-only attributes</span></div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                var allowedReadOnlyValueIds = (await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ae4a6c57285b55e10b8dcc8fcde94cbca">_productAttributeService</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_service.html#a0fcac52b503afa5a3d6e780d1dd57997">GetProductAttributeValuesAsync</a>(a2.Id))</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;                    .Where(x =&gt; x.IsPreSelected)</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;                    .Select(x =&gt; x.Id)</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;                    .ToArray();</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160; </div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;                var selectedReadOnlyValueIds = (await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a372f60dd105ef1a5a25b7f5e5b5dab2d">_productAttributeParser</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_parser.html#a3c69288e42ecea1f43b95bb5056b43a7">ParseProductAttributeValuesAsync</a>(attributesXml))</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;                    .Where(x =&gt; x.ProductAttributeMappingId == a2.Id)</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;                    .Select(x =&gt; x.Id)</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;                    .ToArray();</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160; </div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="class_nop_1_1_core_1_1_common_helper.html">CommonHelper</a>.ArraysEqual(allowedReadOnlyValueIds, selectedReadOnlyValueIds))</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;                {</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;                    warnings.Add(<span class="stringliteral">&quot;You cannot change read-only values&quot;</span>);</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;                }</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;            }</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160; </div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;            <span class="comment">//validation rules</span></div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;            <span class="keywordflow">foreach</span> (var pam <span class="keywordflow">in</span> attributes2)</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;            {</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;                <span class="keywordflow">if</span> (!pam.ValidationRulesAllowed())</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160; </div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;                <span class="keywordtype">string</span> enteredText;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;                <span class="keywordtype">int</span> enteredTextLength;</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160; </div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;                var productAttribute = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ae4a6c57285b55e10b8dcc8fcde94cbca">_productAttributeService</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_service.html#aca2595be388061949bf0eb0fccd3b6f4">GetProductAttributeByIdAsync</a>(pam.ProductAttributeId);</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160; </div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;                <span class="comment">//minimum length</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                <span class="keywordflow">if</span> (pam.ValidationMinLength.HasValue)</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;                {</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;                    <span class="keywordflow">if</span> (pam.AttributeControlType == <a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_catalog.html#a6ad29624b8115f1f879a4b439d9c0826">AttributeControlType</a>.TextBox ||</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;                        pam.AttributeControlType == <a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_catalog.html#a6ad29624b8115f1f879a4b439d9c0826">AttributeControlType</a>.MultilineTextbox)</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;                    {</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;                        enteredText = <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a372f60dd105ef1a5a25b7f5e5b5dab2d">_productAttributeParser</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_parser.html#a03ef0d3f7549ba6a5776f0f2946b6e1a">ParseValues</a>(attributesXml, pam.Id).FirstOrDefault();</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;                        enteredTextLength = <span class="keywordtype">string</span>.IsNullOrEmpty(enteredText) ? 0 : enteredText.Length;</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160; </div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;                        <span class="keywordflow">if</span> (pam.ValidationMinLength.Value &gt; enteredTextLength)</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;                        {</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;                            warnings.Add(<span class="keywordtype">string</span>.Format(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;ShoppingCart.TextboxMinimumLength&quot;</span>), await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.GetLocalizedAsync(productAttribute, a =&gt; a.Name), pam.ValidationMinLength.Value));</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;                        }</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;                    }</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;                }</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160; </div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;                <span class="comment">//maximum length</span></div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;                <span class="keywordflow">if</span> (!pam.ValidationMaxLength.HasValue)</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160; </div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;                <span class="keywordflow">if</span> (pam.AttributeControlType != <a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_catalog.html#a6ad29624b8115f1f879a4b439d9c0826">AttributeControlType</a>.TextBox &amp;&amp; pam.AttributeControlType != <a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_catalog.html#a6ad29624b8115f1f879a4b439d9c0826">AttributeControlType</a>.MultilineTextbox)</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160; </div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;                enteredText = <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a372f60dd105ef1a5a25b7f5e5b5dab2d">_productAttributeParser</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_parser.html#a03ef0d3f7549ba6a5776f0f2946b6e1a">ParseValues</a>(attributesXml, pam.Id).FirstOrDefault();</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;                enteredTextLength = <span class="keywordtype">string</span>.IsNullOrEmpty(enteredText) ? 0 : enteredText.Length;</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160; </div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;                <span class="keywordflow">if</span> (pam.ValidationMaxLength.Value &lt; enteredTextLength)</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;                {</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;                    warnings.Add(<span class="keywordtype">string</span>.Format(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;ShoppingCart.TextboxMaximumLength&quot;</span>), await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.GetLocalizedAsync(productAttribute, a =&gt; a.Name), pam.ValidationMaxLength.Value));</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;                }</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;            }</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160; </div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;            <span class="keywordflow">if</span> (warnings.Any())</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;                <span class="keywordflow">return</span> warnings;</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160; </div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;            <span class="comment">//validate bundled products</span></div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;            var attributeValues = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a372f60dd105ef1a5a25b7f5e5b5dab2d">_productAttributeParser</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_parser.html#a3c69288e42ecea1f43b95bb5056b43a7">ParseProductAttributeValuesAsync</a>(attributesXml);</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;            <span class="keywordflow">foreach</span> (var attributeValue <span class="keywordflow">in</span> attributeValues)</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;            {</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;                <span class="keywordflow">if</span> (attributeValue.AttributeValueType != <a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_catalog.html#ae2b0e1630e69ae828dc04a428c000407">AttributeValueType</a>.AssociatedToProduct)</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160; </div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;                var productAttributeMapping = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ae4a6c57285b55e10b8dcc8fcde94cbca">_productAttributeService</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_service.html#a7c77ff340c0ddd60c52414963a4afe45">GetProductAttributeMappingByIdAsync</a>(attributeValue.ProductAttributeMappingId);</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160; </div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;                <span class="keywordflow">if</span> (ignoreNonCombinableAttributes &amp;&amp; productAttributeMapping != <span class="keyword">null</span> &amp;&amp; productAttributeMapping.IsNonCombinable())</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160; </div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;                <span class="comment">//associated product (bundle)</span></div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;                var associatedProduct = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ab2d95d5144b8fb62fe60208501e45384">_productService</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#ab448923cc8826840ac6cd1558a0f2a9d">GetProductByIdAsync</a>(attributeValue.AssociatedProductId);</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;                <span class="keywordflow">if</span> (associatedProduct != <span class="keyword">null</span>)</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;                {</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;                    var totalQty = quantity * attributeValue.Quantity;</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;                    var associatedProductWarnings = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad6caa0f42edaa9da18ff5c5868c4cd01">GetShoppingCartItemWarningsAsync</a>(customer,</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;                        shoppingCartType, associatedProduct, (await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#aba42c8b71d4f0534e4656e6f01577185">_storeContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_store_context.html#ab98a28cdb13e78df5beea58801148f19">GetCurrentStoreAsync</a>()).Id,</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;                        <span class="keywordtype">string</span>.Empty, decimal.Zero, <span class="keyword">null</span>, <span class="keyword">null</span>, totalQty, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160; </div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;                    var productAttribute = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ae4a6c57285b55e10b8dcc8fcde94cbca">_productAttributeService</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_service.html#aca2595be388061949bf0eb0fccd3b6f4">GetProductAttributeByIdAsync</a>(productAttributeMapping.ProductAttributeId);</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160; </div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;                    <span class="keywordflow">foreach</span> (var associatedProductWarning <span class="keywordflow">in</span> associatedProductWarnings)</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;                    {</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;                        var attributeName = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.GetLocalizedAsync(productAttribute, a =&gt; a.Name);</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;                        var attributeValueName = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.GetLocalizedAsync(attributeValue, a =&gt; a.Name);</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;                        warnings.Add(<span class="keywordtype">string</span>.Format(</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;                            await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;ShoppingCart.AssociatedAttributeWarning&quot;</span>),</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;                            attributeName, attributeValueName, associatedProductWarning));</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;                    }</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;                }</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;                {</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;                    warnings.Add($<span class="stringliteral">&quot;Associated product cannot be loaded - {attributeValue.AssociatedProductId}&quot;</span>);</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;                }</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;            }</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160; </div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;            <span class="keywordflow">return</span> warnings;</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_common_helper_html"><div class="ttname"><a href="class_nop_1_1_core_1_1_common_helper.html">Nop.Core.CommonHelper</a></div><div class="ttdoc">Represents a common helper</div><div class="ttdef"><b>Definition:</b> CommonHelper.cs:17</div></div>
<div class="ttc" id="ainterface_nop_1_1_core_1_1_i_store_context_html_ab98a28cdb13e78df5beea58801148f19"><div class="ttname"><a href="interface_nop_1_1_core_1_1_i_store_context.html#ab98a28cdb13e78df5beea58801148f19">Nop.Core.IStoreContext.GetCurrentStoreAsync</a></div><div class="ttdeci">Task&lt; Store &gt; GetCurrentStoreAsync()</div><div class="ttdoc">Gets the current store</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_parser_html_a03ef0d3f7549ba6a5776f0f2946b6e1a"><div class="ttname"><a href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_parser.html#a03ef0d3f7549ba6a5776f0f2946b6e1a">Nop.Services.Catalog.IProductAttributeParser.ParseValues</a></div><div class="ttdeci">IList&lt; string &gt; ParseValues(string attributesXml, int productAttributeMappingId)</div><div class="ttdoc">Gets selected product attribute values</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_parser_html_a140a0e983d9afa481732cc454171cf00"><div class="ttname"><a href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_parser.html#a140a0e983d9afa481732cc454171cf00">Nop.Services.Catalog.IProductAttributeParser.IsConditionMetAsync</a></div><div class="ttdeci">Task&lt; bool?&gt; IsConditionMetAsync(ProductAttributeMapping pam, string selectedAttributesXml)</div><div class="ttdoc">Check whether condition of some attribute is met (if specified). Return &quot;null&quot; if not condition is sp...</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_parser_html_a3c69288e42ecea1f43b95bb5056b43a7"><div class="ttname"><a href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_parser.html#a3c69288e42ecea1f43b95bb5056b43a7">Nop.Services.Catalog.IProductAttributeParser.ParseProductAttributeValuesAsync</a></div><div class="ttdeci">Task&lt; IList&lt; ProductAttributeValue &gt; &gt; ParseProductAttributeValuesAsync(string attributesXml, int productAttributeMappingId=0)</div><div class="ttdoc">Get product attribute values</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_parser_html_a5a95706c8c65c0b05a87966b445cd6a2"><div class="ttname"><a href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_parser.html#a5a95706c8c65c0b05a87966b445cd6a2">Nop.Services.Catalog.IProductAttributeParser.ParseProductAttributeMappingsAsync</a></div><div class="ttdeci">Task&lt; IList&lt; ProductAttributeMapping &gt; &gt; ParseProductAttributeMappingsAsync(string attributesXml)</div><div class="ttdoc">Gets selected product attribute mappings</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_service_html_a0fcac52b503afa5a3d6e780d1dd57997"><div class="ttname"><a href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_service.html#a0fcac52b503afa5a3d6e780d1dd57997">Nop.Services.Catalog.IProductAttributeService.GetProductAttributeValuesAsync</a></div><div class="ttdeci">Task&lt; IList&lt; ProductAttributeValue &gt; &gt; GetProductAttributeValuesAsync(int productAttributeMappingId)</div><div class="ttdoc">Gets product attribute values by product attribute mapping identifier</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_service_html_a7c77ff340c0ddd60c52414963a4afe45"><div class="ttname"><a href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_service.html#a7c77ff340c0ddd60c52414963a4afe45">Nop.Services.Catalog.IProductAttributeService.GetProductAttributeMappingByIdAsync</a></div><div class="ttdeci">Task&lt; ProductAttributeMapping &gt; GetProductAttributeMappingByIdAsync(int productAttributeMappingId)</div><div class="ttdoc">Gets a product attribute mapping</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_service_html_aca2595be388061949bf0eb0fccd3b6f4"><div class="ttname"><a href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_service.html#aca2595be388061949bf0eb0fccd3b6f4">Nop.Services.Catalog.IProductAttributeService.GetProductAttributeByIdAsync</a></div><div class="ttdeci">Task&lt; ProductAttribute &gt; GetProductAttributeByIdAsync(int productAttributeId)</div><div class="ttdoc">Gets a product attribute</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_service_html_af16272e3f5c7c58336ae3eb77c2beadc"><div class="ttname"><a href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_service.html#af16272e3f5c7c58336ae3eb77c2beadc">Nop.Services.Catalog.IProductAttributeService.GetProductAttributeMappingsByProductIdAsync</a></div><div class="ttdeci">Task&lt; IList&lt; ProductAttributeMapping &gt; &gt; GetProductAttributeMappingsByProductIdAsync(int productId)</div><div class="ttdoc">Gets product attribute mappings by product identifier</div></div>
<div class="ttc" id="anamespace_nop_1_1_core_1_1_domain_1_1_catalog_html_a6ad29624b8115f1f879a4b439d9c0826"><div class="ttname"><a href="namespace_nop_1_1_core_1_1_domain_1_1_catalog.html#a6ad29624b8115f1f879a4b439d9c0826">Nop.Core.Domain.Catalog.AttributeControlType</a></div><div class="ttdeci">AttributeControlType</div><div class="ttdoc">Represents an attribute control type</div><div class="ttdef"><b>Definition:</b> AttributeControlType.cs:7</div></div>
<div class="ttc" id="anamespace_nop_1_1_core_1_1_domain_1_1_catalog_html_ae2b0e1630e69ae828dc04a428c000407"><div class="ttname"><a href="namespace_nop_1_1_core_1_1_domain_1_1_catalog.html#ae2b0e1630e69ae828dc04a428c000407">Nop.Core.Domain.Catalog.AttributeValueType</a></div><div class="ttdeci">AttributeValueType</div><div class="ttdoc">Represents an attribute value type</div><div class="ttdef"><b>Definition:</b> AttributeValueType.cs:7</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">Nop.Services.Orders.ShoppingCartService._localizationService</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a372f60dd105ef1a5a25b7f5e5b5dab2d">Nop.Services.Orders.ShoppingCartService._productAttributeParser</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ae4a6c57285b55e10b8dcc8fcde94cbca">Nop.Services.Orders.ShoppingCartService._productAttributeService</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ab2d95d5144b8fb62fe60208501e45384">Nop.Services.Orders.ShoppingCartService._productService</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#aba42c8b71d4f0534e4656e6f01577185">Nop.Services.Orders.ShoppingCartService._storeContext</a>, <a class="el" href="interface_nop_1_1_core_1_1_i_store_context.html#ab98a28cdb13e78df5beea58801148f19">Nop.Core.IStoreContext.GetCurrentStoreAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_service.html#aca2595be388061949bf0eb0fccd3b6f4">Nop.Services.Catalog.IProductAttributeService.GetProductAttributeByIdAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_service.html#a7c77ff340c0ddd60c52414963a4afe45">Nop.Services.Catalog.IProductAttributeService.GetProductAttributeMappingByIdAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_service.html#af16272e3f5c7c58336ae3eb77c2beadc">Nop.Services.Catalog.IProductAttributeService.GetProductAttributeMappingsByProductIdAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_service.html#a0fcac52b503afa5a3d6e780d1dd57997">Nop.Services.Catalog.IProductAttributeService.GetProductAttributeValuesAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#ab448923cc8826840ac6cd1558a0f2a9d">Nop.Services.Catalog.IProductService.GetProductByIdAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">Nop.Services.Localization.ILocalizationService.GetResourceAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad6caa0f42edaa9da18ff5c5868c4cd01">Nop.Services.Orders.ShoppingCartService.GetShoppingCartItemWarningsAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_parser.html#a140a0e983d9afa481732cc454171cf00">Nop.Services.Catalog.IProductAttributeParser.IsConditionMetAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_parser.html#a5a95706c8c65c0b05a87966b445cd6a2">Nop.Services.Catalog.IProductAttributeParser.ParseProductAttributeMappingsAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_parser.html#a3c69288e42ecea1f43b95bb5056b43a7">Nop.Services.Catalog.IProductAttributeParser.ParseProductAttributeValuesAsync()</a> e <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_parser.html#a03ef0d3f7549ba6a5776f0f2946b6e1a">Nop.Services.Catalog.IProductAttributeParser.ParseValues()</a>.</p>

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad6caa0f42edaa9da18ff5c5868c4cd01">Nop.Services.Orders.ShoppingCartService.GetShoppingCartItemWarningsAsync()</a>.</p>

</div>
</div>
<a id="ad514ca5e6d1eb65f5ab900f476704905"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad514ca5e6d1eb65f5ab900f476704905">&#9670;&nbsp;</a></span>GetShoppingCartItemGiftCardWarningsAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;IList&lt;string&gt; &gt; Nop.Services.Orders.ShoppingCartService.GetShoppingCartItemGiftCardWarningsAsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespace_nop_1_1_core_1_1_domain_1_1_orders.html#ae2fb88620fcd3889e6e0504e7b18e806">ShoppingCartType</a>&#160;</td>
          <td class="paramname"><em>shoppingCartType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html">Product</a>&#160;</td>
          <td class="paramname"><em>product</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>attributesXml</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Validates shopping cart item (gift card) </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">shoppingCartType</td><td>Shopping cart type</td></tr>
    <tr><td class="paramname">product</td><td>Product</td></tr>
    <tr><td class="paramname">attributesXml</td><td>Attributes in XML format</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the warnings </dd></dl>

<p>Implementa <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_shopping_cart_service.html#ae63b97660e9f3fe8760f5e4d0adc4d4b">Nop.Services.Orders.IShoppingCartService</a>.</p>
<div class="fragment"><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;        {</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;            <span class="keywordflow">if</span> (product == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(product));</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160; </div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;            var warnings = <span class="keyword">new</span> List&lt;string&gt;();</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160; </div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;            <span class="comment">//gift cards</span></div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;            <span class="keywordflow">if</span> (!product.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a8d70485c3203a16825ae825c95213251">IsGiftCard</a>)</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;                <span class="keywordflow">return</span> warnings;</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160; </div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;            <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a372f60dd105ef1a5a25b7f5e5b5dab2d">_productAttributeParser</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_parser.html#aa6709c214a351f742b21fea2a724ebc0">GetGiftCardAttribute</a>(attributesXml, out var giftCardRecipientName, out var giftCardRecipientEmail, out var giftCardSenderName, out var giftCardSenderEmail, out var _);</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160; </div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;            <span class="keywordflow">if</span> (<span class="keywordtype">string</span>.IsNullOrEmpty(giftCardRecipientName))</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;                warnings.Add(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;ShoppingCart.RecipientNameError&quot;</span>));</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160; </div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;            <span class="keywordflow">if</span> (product.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a890e434f9d4c91e70b77f48a09a4fde7">GiftCardType</a> == <a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_catalog.html#a0e151df37c0bce5b7c5b587fa8fe9abf">GiftCardType</a>.Virtual)</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;            {</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;                <span class="comment">//validate for virtual gift cards only</span></div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;                <span class="keywordflow">if</span> (<span class="keywordtype">string</span>.IsNullOrEmpty(giftCardRecipientEmail) || !<a class="code" href="class_nop_1_1_core_1_1_common_helper.html">CommonHelper</a>.<a class="code" href="class_nop_1_1_core_1_1_common_helper.html#a78b50a7979169f28157c685159b92884">IsValidEmail</a>(giftCardRecipientEmail))</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;                    warnings.Add(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;ShoppingCart.RecipientEmailError&quot;</span>));</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;            }</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160; </div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;            <span class="keywordflow">if</span> (<span class="keywordtype">string</span>.IsNullOrEmpty(giftCardSenderName))</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;                warnings.Add(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;ShoppingCart.SenderNameError&quot;</span>));</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160; </div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;            <span class="keywordflow">if</span> (product.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a890e434f9d4c91e70b77f48a09a4fde7">GiftCardType</a> != <a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_catalog.html#a0e151df37c0bce5b7c5b587fa8fe9abf">GiftCardType</a>.Virtual)</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;                <span class="keywordflow">return</span> warnings;</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160; </div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;            <span class="comment">//validate for virtual gift cards only</span></div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;            <span class="keywordflow">if</span> (<span class="keywordtype">string</span>.IsNullOrEmpty(giftCardSenderEmail) || !<a class="code" href="class_nop_1_1_core_1_1_common_helper.html">CommonHelper</a>.<a class="code" href="class_nop_1_1_core_1_1_common_helper.html#a78b50a7979169f28157c685159b92884">IsValidEmail</a>(giftCardSenderEmail))</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;                warnings.Add(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;ShoppingCart.SenderEmailError&quot;</span>));</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160; </div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;            <span class="keywordflow">return</span> warnings;</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_common_helper_html_a78b50a7979169f28157c685159b92884"><div class="ttname"><a href="class_nop_1_1_core_1_1_common_helper.html#a78b50a7979169f28157c685159b92884">Nop.Core.CommonHelper.IsValidEmail</a></div><div class="ttdeci">static bool IsValidEmail(string email)</div><div class="ttdoc">Verifies that a string is in valid e-mail format</div><div class="ttdef"><b>Definition:</b> CommonHelper.cs:62</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product_html_a890e434f9d4c91e70b77f48a09a4fde7"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a890e434f9d4c91e70b77f48a09a4fde7">Nop.Core.Domain.Catalog.Product.GiftCardType</a></div><div class="ttdeci">GiftCardType GiftCardType</div><div class="ttdoc">Gets or sets the gift card type</div><div class="ttdef"><b>Definition:</b> Product.cs:575</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product_html_a8d70485c3203a16825ae825c95213251"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a8d70485c3203a16825ae825c95213251">Nop.Core.Domain.Catalog.Product.IsGiftCard</a></div><div class="ttdeci">bool IsGiftCard</div><div class="ttdoc">Gets or sets a value indicating whether the product is gift card</div><div class="ttdef"><b>Definition:</b> Product.cs:136</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_parser_html_aa6709c214a351f742b21fea2a724ebc0"><div class="ttname"><a href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_parser.html#aa6709c214a351f742b21fea2a724ebc0">Nop.Services.Catalog.IProductAttributeParser.GetGiftCardAttribute</a></div><div class="ttdeci">void GetGiftCardAttribute(string attributesXml, out string recipientName, out string recipientEmail, out string senderName, out string senderEmail, out string giftCardMessage)</div><div class="ttdoc">Get gift card attributes</div></div>
<div class="ttc" id="anamespace_nop_1_1_core_1_1_domain_1_1_catalog_html_a0e151df37c0bce5b7c5b587fa8fe9abf"><div class="ttname"><a href="namespace_nop_1_1_core_1_1_domain_1_1_catalog.html#a0e151df37c0bce5b7c5b587fa8fe9abf">Nop.Core.Domain.Catalog.GiftCardType</a></div><div class="ttdeci">GiftCardType</div><div class="ttdoc">Represents a gift card type</div><div class="ttdef"><b>Definition:</b> GiftCardType.cs:7</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">Nop.Services.Orders.ShoppingCartService._localizationService</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a372f60dd105ef1a5a25b7f5e5b5dab2d">Nop.Services.Orders.ShoppingCartService._productAttributeParser</a>, <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_parser.html#aa6709c214a351f742b21fea2a724ebc0">Nop.Services.Catalog.IProductAttributeParser.GetGiftCardAttribute()</a>, <a class="el" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">Nop.Services.Localization.ILocalizationService.GetResourceAsync()</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a890e434f9d4c91e70b77f48a09a4fde7">Nop.Core.Domain.Catalog.Product.GiftCardType</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a8d70485c3203a16825ae825c95213251">Nop.Core.Domain.Catalog.Product.IsGiftCard</a> e <a class="el" href="class_nop_1_1_core_1_1_common_helper.html#a78b50a7979169f28157c685159b92884">Nop.Core.CommonHelper.IsValidEmail()</a>.</p>

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad6caa0f42edaa9da18ff5c5868c4cd01">Nop.Services.Orders.ShoppingCartService.GetShoppingCartItemWarningsAsync()</a>.</p>

</div>
</div>
<a id="ad6caa0f42edaa9da18ff5c5868c4cd01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6caa0f42edaa9da18ff5c5868c4cd01">&#9670;&nbsp;</a></span>GetShoppingCartItemWarningsAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;IList&lt;string&gt; &gt; Nop.Services.Orders.ShoppingCartService.GetShoppingCartItemWarningsAsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html">Customer</a>&#160;</td>
          <td class="paramname"><em>customer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_nop_1_1_core_1_1_domain_1_1_orders.html#ae2fb88620fcd3889e6e0504e7b18e806">ShoppingCartType</a>&#160;</td>
          <td class="paramname"><em>shoppingCartType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html">Product</a>&#160;</td>
          <td class="paramname"><em>product</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>storeId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>attributesXml</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">decimal&#160;</td>
          <td class="paramname"><em>customerEnteredPrice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DateTime?&#160;</td>
          <td class="paramname"><em>rentalStartDate</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DateTime?&#160;</td>
          <td class="paramname"><em>rentalEndDate</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>quantity</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>addRequiredProducts</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>shoppingCartItemId</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>getStandardWarnings</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>getAttributesWarnings</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>getGiftCardWarnings</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>getRequiredProductWarnings</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>getRentalWarnings</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Validates shopping cart item </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">customer</td><td>Customer</td></tr>
    <tr><td class="paramname">shoppingCartType</td><td>Shopping cart type</td></tr>
    <tr><td class="paramname">product</td><td>Product</td></tr>
    <tr><td class="paramname">storeId</td><td>Store identifier</td></tr>
    <tr><td class="paramname">attributesXml</td><td>Attributes in XML format</td></tr>
    <tr><td class="paramname">customerEnteredPrice</td><td>Customer entered price</td></tr>
    <tr><td class="paramname">rentalStartDate</td><td>Rental start date</td></tr>
    <tr><td class="paramname">rentalEndDate</td><td>Rental end date</td></tr>
    <tr><td class="paramname">quantity</td><td>Quantity</td></tr>
    <tr><td class="paramname">addRequiredProducts</td><td>Whether to add required products</td></tr>
    <tr><td class="paramname">shoppingCartItemId</td><td>Shopping cart identifier; pass 0 if it's a new item</td></tr>
    <tr><td class="paramname">getStandardWarnings</td><td>A value indicating whether we should validate a product for standard properties</td></tr>
    <tr><td class="paramname">getAttributesWarnings</td><td>A value indicating whether we should validate product attributes</td></tr>
    <tr><td class="paramname">getGiftCardWarnings</td><td>A value indicating whether we should validate gift card properties</td></tr>
    <tr><td class="paramname">getRequiredProductWarnings</td><td>A value indicating whether we should validate required products (products which require other products to be added to the cart)</td></tr>
    <tr><td class="paramname">getRentalWarnings</td><td>A value indicating whether we should validate rental properties</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the warnings </dd></dl>

<p>Implementa <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_shopping_cart_service.html#a372f2e1d392903a70e272a1cfc5ed0e5">Nop.Services.Orders.IShoppingCartService</a>.</p>
<div class="fragment"><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;        {</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;            <span class="keywordflow">if</span> (product == <span class="keyword">null</span>)</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(product));</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160; </div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;            var warnings = <span class="keyword">new</span> List&lt;string&gt;();</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160; </div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;            <span class="comment">//standard properties</span></div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;            <span class="keywordflow">if</span> (getStandardWarnings)</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;                warnings.AddRange(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a878c99e09eb05fb192ef7f94213ef50f">GetStandardWarningsAsync</a>(customer, shoppingCartType, product, attributesXml, customerEnteredPrice, quantity, shoppingCartItemId, storeId));</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160; </div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;            <span class="comment">//selected attributes</span></div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;            <span class="keywordflow">if</span> (getAttributesWarnings)</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;                warnings.AddRange(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a412cab95db07bd117a41c3d7741e22b6">GetShoppingCartItemAttributeWarningsAsync</a>(customer, shoppingCartType, product, quantity, attributesXml));</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160; </div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;            <span class="comment">//gift cards</span></div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;            <span class="keywordflow">if</span> (getGiftCardWarnings)</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;                warnings.AddRange(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad514ca5e6d1eb65f5ab900f476704905">GetShoppingCartItemGiftCardWarningsAsync</a>(shoppingCartType, product, attributesXml));</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160; </div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;            <span class="comment">//required products</span></div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;            <span class="keywordflow">if</span> (getRequiredProductWarnings)</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;                warnings.AddRange(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#acdcdbd0deeeda2531704b1d47ccc9f84">GetRequiredProductWarningsAsync</a>(customer, shoppingCartType, product, storeId, quantity, addRequiredProducts, shoppingCartItemId));</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160; </div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;            <span class="comment">//rental products</span></div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;            <span class="keywordflow">if</span> (getRentalWarnings)</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;                warnings.AddRange(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a0735a280c9f3ff0b134ba9829bc30803">GetRentalProductWarningsAsync</a>(product, rentalStartDate, rentalEndDate));</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160; </div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;            <span class="keywordflow">return</span> warnings;</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_orders_1_1_shopping_cart_service_html_a0735a280c9f3ff0b134ba9829bc30803"><div class="ttname"><a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a0735a280c9f3ff0b134ba9829bc30803">Nop.Services.Orders.ShoppingCartService.GetRentalProductWarningsAsync</a></div><div class="ttdeci">virtual async Task&lt; IList&lt; string &gt; &gt; GetRentalProductWarningsAsync(Product product, DateTime? rentalStartDate=null, DateTime? rentalEndDate=null)</div><div class="ttdoc">Validates shopping cart item for rental products</div><div class="ttdef"><b>Definition:</b> ShoppingCartService.cs:988</div></div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_orders_1_1_shopping_cart_service_html_a412cab95db07bd117a41c3d7741e22b6"><div class="ttname"><a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a412cab95db07bd117a41c3d7741e22b6">Nop.Services.Orders.ShoppingCartService.GetShoppingCartItemAttributeWarningsAsync</a></div><div class="ttdeci">virtual async Task&lt; IList&lt; string &gt; &gt; GetShoppingCartItemAttributeWarningsAsync(Customer customer, ShoppingCartType shoppingCartType, Product product, int quantity=1, string attributesXml=&quot;&quot;, bool ignoreNonCombinableAttributes=false, bool ignoreConditionMet=false)</div><div class="ttdoc">Validates shopping cart item attributes</div><div class="ttdef"><b>Definition:</b> ShoppingCartService.cs:736</div></div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_orders_1_1_shopping_cart_service_html_a878c99e09eb05fb192ef7f94213ef50f"><div class="ttname"><a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a878c99e09eb05fb192ef7f94213ef50f">Nop.Services.Orders.ShoppingCartService.GetStandardWarningsAsync</a></div><div class="ttdeci">virtual async Task&lt; IList&lt; string &gt; &gt; GetStandardWarningsAsync(Customer customer, ShoppingCartType shoppingCartType, Product product, string attributesXml, decimal customerEnteredPrice, int quantity, int shoppingCartItemId, int storeId)</div><div class="ttdoc">Validates a product for standard properties</div><div class="ttdef"><b>Definition:</b> ShoppingCartService.cs:305</div></div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_orders_1_1_shopping_cart_service_html_acdcdbd0deeeda2531704b1d47ccc9f84"><div class="ttname"><a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#acdcdbd0deeeda2531704b1d47ccc9f84">Nop.Services.Orders.ShoppingCartService.GetRequiredProductWarningsAsync</a></div><div class="ttdeci">virtual async Task&lt; IList&lt; string &gt; &gt; GetRequiredProductWarningsAsync(Customer customer, ShoppingCartType shoppingCartType, Product product, int storeId, int quantity, bool addRequiredProducts, int shoppingCartItemId)</div><div class="ttdoc">Validates required products (products which require some other products to be added to the cart)</div><div class="ttdef"><b>Definition:</b> ShoppingCartService.cs:213</div></div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_orders_1_1_shopping_cart_service_html_ad514ca5e6d1eb65f5ab900f476704905"><div class="ttname"><a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad514ca5e6d1eb65f5ab900f476704905">Nop.Services.Orders.ShoppingCartService.GetShoppingCartItemGiftCardWarningsAsync</a></div><div class="ttdeci">virtual async Task&lt; IList&lt; string &gt; &gt; GetShoppingCartItemGiftCardWarningsAsync(ShoppingCartType shoppingCartType, Product product, string attributesXml)</div><div class="ttdoc">Validates shopping cart item (gift card)</div><div class="ttdef"><b>Definition:</b> ShoppingCartService.cs:941</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a0735a280c9f3ff0b134ba9829bc30803">Nop.Services.Orders.ShoppingCartService.GetRentalProductWarningsAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#acdcdbd0deeeda2531704b1d47ccc9f84">Nop.Services.Orders.ShoppingCartService.GetRequiredProductWarningsAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a412cab95db07bd117a41c3d7741e22b6">Nop.Services.Orders.ShoppingCartService.GetShoppingCartItemAttributeWarningsAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad514ca5e6d1eb65f5ab900f476704905">Nop.Services.Orders.ShoppingCartService.GetShoppingCartItemGiftCardWarningsAsync()</a> e <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a878c99e09eb05fb192ef7f94213ef50f">Nop.Services.Orders.ShoppingCartService.GetStandardWarningsAsync()</a>.</p>

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad7cabaa8f4aa69f9dfd466f1b77edff0">Nop.Services.Orders.ShoppingCartService.AddToCartAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a412cab95db07bd117a41c3d7741e22b6">Nop.Services.Orders.ShoppingCartService.GetShoppingCartItemAttributeWarningsAsync()</a> e <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a7ba3d22fe0e5d6bce2c89f53dec91798">Nop.Services.Orders.ShoppingCartService.UpdateShoppingCartItemAsync()</a>.</p>

</div>
</div>
<a id="a3ea5e98e73dbee1fc30a99a35b668673"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ea5e98e73dbee1fc30a99a35b668673">&#9670;&nbsp;</a></span>GetShoppingCartWarningsAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;IList&lt;string&gt; &gt; Nop.Services.Orders.ShoppingCartService.GetShoppingCartWarningsAsync </td>
          <td>(</td>
          <td class="paramtype">IList&lt; <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html">ShoppingCartItem</a> &gt;&#160;</td>
          <td class="paramname"><em>shoppingCart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>checkoutAttributesXml</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>validateCheckoutAttributes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Validates whether this shopping cart is valid </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">shoppingCart</td><td>Shopping cart</td></tr>
    <tr><td class="paramname">checkoutAttributesXml</td><td>Checkout attributes in XML format</td></tr>
    <tr><td class="paramname">validateCheckoutAttributes</td><td>A value indicating whether to validate checkout attributes</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the warnings </dd></dl>

<p>Implementa <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_shopping_cart_service.html#a23bee3e064339be31d645cf8d8763cd4">Nop.Services.Orders.IShoppingCartService</a>.</p>
<div class="fragment"><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;        {</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;            var warnings = <span class="keyword">new</span> List&lt;string&gt;();</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160; </div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;            <span class="keywordflow">if</span> (shoppingCart.Count &gt; <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a5b7323984429448a6e727bff3bff122e">_shoppingCartSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_settings.html#ab8b4c9878c50eb6783e139b479b8cf9a">MaximumShoppingCartItems</a>)</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;                warnings.Add(<span class="keywordtype">string</span>.Format(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;ShoppingCart.MaximumShoppingCartItems&quot;</span>), <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a5b7323984429448a6e727bff3bff122e">_shoppingCartSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_settings.html#ab8b4c9878c50eb6783e139b479b8cf9a">MaximumShoppingCartItems</a>));</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160; </div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;            var hasStandartProducts = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;            var hasRecurringProducts = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160; </div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;            <span class="keywordflow">foreach</span> (var sci <span class="keywordflow">in</span> shoppingCart)</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;            {</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;                var product = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ab2d95d5144b8fb62fe60208501e45384">_productService</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#ab448923cc8826840ac6cd1558a0f2a9d">GetProductByIdAsync</a>(sci.ProductId);</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;                <span class="keywordflow">if</span> (product == <span class="keyword">null</span>)</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;                {</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;                    warnings.Add(<span class="keywordtype">string</span>.Format(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;ShoppingCart.CannotLoadProduct&quot;</span>), sci.ProductId));</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;                    <span class="keywordflow">return</span> warnings;</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;                }</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160; </div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;                <span class="keywordflow">if</span> (product.IsRecurring)</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;                    hasRecurringProducts = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;                    hasStandartProducts = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;            }</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160; </div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;            <span class="comment">//don&#39;t mix standard and recurring products</span></div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;            <span class="keywordflow">if</span> (hasStandartProducts &amp;&amp; hasRecurringProducts)</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;                warnings.Add(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;ShoppingCart.CannotMixStandardAndAutoshipProducts&quot;</span>));</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160; </div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;            <span class="comment">//recurring cart validation</span></div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;            <span class="keywordflow">if</span> (hasRecurringProducts)</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;            {</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;                var cyclesError = (await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#af426455c6d5aabc026f49ccf4f3e64aa">GetRecurringCycleInfoAsync</a>(shoppingCart)).error;</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;                <span class="keywordflow">if</span> (!<span class="keywordtype">string</span>.IsNullOrEmpty(cyclesError))</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;                {</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;                    warnings.Add(cyclesError);</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;                    <span class="keywordflow">return</span> warnings;</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;                }</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;            }</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160; </div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;            <span class="comment">//validate checkout attributes</span></div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;            <span class="keywordflow">if</span> (!validateCheckoutAttributes)</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;                <span class="keywordflow">return</span> warnings;</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160; </div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;            <span class="comment">//selected attributes</span></div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;            var attributes1 = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a1924da9d46f2502558968763fe8523a3">_checkoutAttributeParser</a>.<a class="code" href="interface_nop_1_1_services_1_1_orders_1_1_i_checkout_attribute_parser.html#af39f7a6746929761fd980c079d31c0ff">ParseCheckoutAttributesAsync</a>(checkoutAttributesXml);</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160; </div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;            <span class="comment">//existing checkout attributes</span></div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;            var excludeShippableAttributes = !await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#afd712bf30d35b7e7145252f2ca818230">ShoppingCartRequiresShippingAsync</a>(shoppingCart);</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;            var attributes2 = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a745a676062db2cc35670b91611c4d080">_checkoutAttributeService</a>.<a class="code" href="interface_nop_1_1_services_1_1_orders_1_1_i_checkout_attribute_service.html#a513124023e96c25d02fe8bab51da9058">GetAllCheckoutAttributesAsync</a>((await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#aba42c8b71d4f0534e4656e6f01577185">_storeContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_store_context.html#ab98a28cdb13e78df5beea58801148f19">GetCurrentStoreAsync</a>()).Id, excludeShippableAttributes);</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160; </div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;            <span class="comment">//validate conditional attributes only (if specified)</span></div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;            attributes2 = await attributes2.WhereAwait(async x =&gt;</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;            {</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;                var conditionMet = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a1924da9d46f2502558968763fe8523a3">_checkoutAttributeParser</a>.<a class="code" href="interface_nop_1_1_services_1_1_orders_1_1_i_checkout_attribute_parser.html#a40cce2d6fef7afa0cf4abe540d16a65c">IsConditionMetAsync</a>(x, checkoutAttributesXml);</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;                <span class="keywordflow">return</span> !conditionMet.HasValue || conditionMet.Value;</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;            }).ToListAsync();</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160; </div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;            <span class="keywordflow">foreach</span> (var a2 <span class="keywordflow">in</span> attributes2)</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;            {</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;                <span class="keywordflow">if</span> (!a2.IsRequired)</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160; </div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;                var found = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;                <span class="comment">//selected checkout attributes</span></div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;                <span class="keywordflow">foreach</span> (var a1 <span class="keywordflow">in</span> attributes1)</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;                {</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;                    <span class="keywordflow">if</span> (a1.Id != a2.Id)</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160; </div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;                    var attributeValuesStr = <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a1924da9d46f2502558968763fe8523a3">_checkoutAttributeParser</a>.<a class="code" href="interface_nop_1_1_services_1_1_orders_1_1_i_checkout_attribute_parser.html#a05ef55ec50f81545d64d408b8f14f8d2">ParseValues</a>(checkoutAttributesXml, a1.Id);</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;                    <span class="keywordflow">foreach</span> (var str1 <span class="keywordflow">in</span> attributeValuesStr)</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;                        <span class="keywordflow">if</span> (!<span class="keywordtype">string</span>.IsNullOrEmpty(str1.Trim()))</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;                        {</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;                            found = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;                            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;                        }</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;                }</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160; </div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;                <span class="keywordflow">if</span> (found)</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160; </div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;                <span class="comment">//if not found</span></div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;                warnings.Add(!<span class="keywordtype">string</span>.IsNullOrEmpty(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.GetLocalizedAsync(a2, a =&gt; a.TextPrompt))</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;                    ? await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.GetLocalizedAsync(a2, a =&gt; a.TextPrompt)</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;                    : <span class="keywordtype">string</span>.Format(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;ShoppingCart.SelectAttribute&quot;</span>),</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;                        await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.GetLocalizedAsync(a2, a =&gt; a.Name)));</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;            }</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160; </div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;            <span class="comment">//now validation rules</span></div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160; </div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;            <span class="comment">//minimum length</span></div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;            <span class="keywordflow">foreach</span> (var ca <span class="keywordflow">in</span> attributes2)</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;            {</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;                <span class="keywordtype">string</span> enteredText;</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;                <span class="keywordtype">int</span> enteredTextLength;</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160; </div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;                <span class="keywordflow">if</span> (ca.ValidationMinLength.HasValue)</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;                {</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;                    <span class="keywordflow">if</span> (ca.AttributeControlType == <a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_catalog.html#a6ad29624b8115f1f879a4b439d9c0826">AttributeControlType</a>.TextBox ||</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;                        ca.AttributeControlType == <a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_catalog.html#a6ad29624b8115f1f879a4b439d9c0826">AttributeControlType</a>.MultilineTextbox)</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;                    {</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;                        enteredText = <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a1924da9d46f2502558968763fe8523a3">_checkoutAttributeParser</a>.<a class="code" href="interface_nop_1_1_services_1_1_orders_1_1_i_checkout_attribute_parser.html#a05ef55ec50f81545d64d408b8f14f8d2">ParseValues</a>(checkoutAttributesXml, ca.Id).FirstOrDefault();</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;                        enteredTextLength = <span class="keywordtype">string</span>.IsNullOrEmpty(enteredText) ? 0 : enteredText.Length;</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160; </div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;                        <span class="keywordflow">if</span> (ca.ValidationMinLength.Value &gt; enteredTextLength)</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;                        {</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;                            warnings.Add(<span class="keywordtype">string</span>.Format(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;ShoppingCart.TextboxMinimumLength&quot;</span>), await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.GetLocalizedAsync(ca, a =&gt; a.Name), ca.ValidationMinLength.Value));</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;                        }</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;                    }</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;                }</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160; </div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;                <span class="comment">//maximum length</span></div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;                <span class="keywordflow">if</span> (!ca.ValidationMaxLength.HasValue)</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160; </div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;                <span class="keywordflow">if</span> (ca.AttributeControlType != <a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_catalog.html#a6ad29624b8115f1f879a4b439d9c0826">AttributeControlType</a>.TextBox &amp;&amp; ca.AttributeControlType != <a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_catalog.html#a6ad29624b8115f1f879a4b439d9c0826">AttributeControlType</a>.MultilineTextbox)</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160; </div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;                enteredText = <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a1924da9d46f2502558968763fe8523a3">_checkoutAttributeParser</a>.<a class="code" href="interface_nop_1_1_services_1_1_orders_1_1_i_checkout_attribute_parser.html#a05ef55ec50f81545d64d408b8f14f8d2">ParseValues</a>(checkoutAttributesXml, ca.Id).FirstOrDefault();</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;                enteredTextLength = <span class="keywordtype">string</span>.IsNullOrEmpty(enteredText) ? 0 : enteredText.Length;</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160; </div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;                <span class="keywordflow">if</span> (ca.ValidationMaxLength.Value &lt; enteredTextLength)</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;                {</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;                    warnings.Add(<span class="keywordtype">string</span>.Format(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;ShoppingCart.TextboxMaximumLength&quot;</span>), await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.GetLocalizedAsync(ca, a =&gt; a.Name), ca.ValidationMaxLength.Value));</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;                }</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;            }</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160; </div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;            <span class="keywordflow">return</span> warnings;</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_orders_1_1_shopping_cart_service_html_af426455c6d5aabc026f49ccf4f3e64aa"><div class="ttname"><a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#af426455c6d5aabc026f49ccf4f3e64aa">Nop.Services.Orders.ShoppingCartService.GetRecurringCycleInfoAsync</a></div><div class="ttdeci">virtual async Task&lt;(string error, int cycleLength, RecurringProductCyclePeriod cyclePeriod, int totalCycles)&gt; GetRecurringCycleInfoAsync(IList&lt; ShoppingCartItem &gt; shoppingCart)</div><div class="ttdoc">Get a recurring cycle information</div><div class="ttdef"><b>Definition:</b> ShoppingCartService.cs:1773</div></div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_orders_1_1_shopping_cart_service_html_afd712bf30d35b7e7145252f2ca818230"><div class="ttname"><a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#afd712bf30d35b7e7145252f2ca818230">Nop.Services.Orders.ShoppingCartService.ShoppingCartRequiresShippingAsync</a></div><div class="ttdeci">virtual async Task&lt; bool &gt; ShoppingCartRequiresShippingAsync(IList&lt; ShoppingCartItem &gt; shoppingCart)</div><div class="ttdoc">Indicates whether the shopping cart requires shipping</div><div class="ttdef"><b>Definition:</b> ShoppingCartService.cs:1741</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_orders_1_1_i_checkout_attribute_parser_html_a05ef55ec50f81545d64d408b8f14f8d2"><div class="ttname"><a href="interface_nop_1_1_services_1_1_orders_1_1_i_checkout_attribute_parser.html#a05ef55ec50f81545d64d408b8f14f8d2">Nop.Services.Orders.ICheckoutAttributeParser.ParseValues</a></div><div class="ttdeci">IList&lt; string &gt; ParseValues(string attributesXml, int checkoutAttributeId)</div><div class="ttdoc">Gets selected checkout attribute value</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_orders_1_1_i_checkout_attribute_parser_html_a40cce2d6fef7afa0cf4abe540d16a65c"><div class="ttname"><a href="interface_nop_1_1_services_1_1_orders_1_1_i_checkout_attribute_parser.html#a40cce2d6fef7afa0cf4abe540d16a65c">Nop.Services.Orders.ICheckoutAttributeParser.IsConditionMetAsync</a></div><div class="ttdeci">Task&lt; bool?&gt; IsConditionMetAsync(CheckoutAttribute attribute, string selectedAttributesXml)</div><div class="ttdoc">Check whether condition of some attribute is met (if specified). Return &quot;null&quot; if not condition is sp...</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_orders_1_1_i_checkout_attribute_parser_html_af39f7a6746929761fd980c079d31c0ff"><div class="ttname"><a href="interface_nop_1_1_services_1_1_orders_1_1_i_checkout_attribute_parser.html#af39f7a6746929761fd980c079d31c0ff">Nop.Services.Orders.ICheckoutAttributeParser.ParseCheckoutAttributesAsync</a></div><div class="ttdeci">Task&lt; IList&lt; CheckoutAttribute &gt; &gt; ParseCheckoutAttributesAsync(string attributesXml)</div><div class="ttdoc">Gets selected checkout attributes</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_orders_1_1_i_checkout_attribute_service_html_a513124023e96c25d02fe8bab51da9058"><div class="ttname"><a href="interface_nop_1_1_services_1_1_orders_1_1_i_checkout_attribute_service.html#a513124023e96c25d02fe8bab51da9058">Nop.Services.Orders.ICheckoutAttributeService.GetAllCheckoutAttributesAsync</a></div><div class="ttdeci">Task&lt; IList&lt; CheckoutAttribute &gt; &gt; GetAllCheckoutAttributesAsync(int storeId=0, bool excludeShippableAttributes=false)</div><div class="ttdoc">Gets all checkout attributes</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a1924da9d46f2502558968763fe8523a3">Nop.Services.Orders.ShoppingCartService._checkoutAttributeParser</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a745a676062db2cc35670b91611c4d080">Nop.Services.Orders.ShoppingCartService._checkoutAttributeService</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">Nop.Services.Orders.ShoppingCartService._localizationService</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ab2d95d5144b8fb62fe60208501e45384">Nop.Services.Orders.ShoppingCartService._productService</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a5b7323984429448a6e727bff3bff122e">Nop.Services.Orders.ShoppingCartService._shoppingCartSettings</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#aba42c8b71d4f0534e4656e6f01577185">Nop.Services.Orders.ShoppingCartService._storeContext</a>, <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_checkout_attribute_service.html#a513124023e96c25d02fe8bab51da9058">Nop.Services.Orders.ICheckoutAttributeService.GetAllCheckoutAttributesAsync()</a>, <a class="el" href="interface_nop_1_1_core_1_1_i_store_context.html#ab98a28cdb13e78df5beea58801148f19">Nop.Core.IStoreContext.GetCurrentStoreAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#ab448923cc8826840ac6cd1558a0f2a9d">Nop.Services.Catalog.IProductService.GetProductByIdAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#af426455c6d5aabc026f49ccf4f3e64aa">Nop.Services.Orders.ShoppingCartService.GetRecurringCycleInfoAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">Nop.Services.Localization.ILocalizationService.GetResourceAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_checkout_attribute_parser.html#a40cce2d6fef7afa0cf4abe540d16a65c">Nop.Services.Orders.ICheckoutAttributeParser.IsConditionMetAsync()</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_settings.html#ab8b4c9878c50eb6783e139b479b8cf9a">Nop.Core.Domain.Orders.ShoppingCartSettings.MaximumShoppingCartItems</a>, <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_checkout_attribute_parser.html#af39f7a6746929761fd980c079d31c0ff">Nop.Services.Orders.ICheckoutAttributeParser.ParseCheckoutAttributesAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_checkout_attribute_parser.html#a05ef55ec50f81545d64d408b8f14f8d2">Nop.Services.Orders.ICheckoutAttributeParser.ParseValues()</a> e <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#afd712bf30d35b7e7145252f2ca818230">Nop.Services.Orders.ShoppingCartService.ShoppingCartRequiresShippingAsync()</a>.</p>

</div>
</div>
<a id="a878c99e09eb05fb192ef7f94213ef50f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a878c99e09eb05fb192ef7f94213ef50f">&#9670;&nbsp;</a></span>GetStandardWarningsAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;IList&lt;string&gt; &gt; Nop.Services.Orders.ShoppingCartService.GetStandardWarningsAsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html">Customer</a>&#160;</td>
          <td class="paramname"><em>customer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_nop_1_1_core_1_1_domain_1_1_orders.html#ae2fb88620fcd3889e6e0504e7b18e806">ShoppingCartType</a>&#160;</td>
          <td class="paramname"><em>shoppingCartType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html">Product</a>&#160;</td>
          <td class="paramname"><em>product</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>attributesXml</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">decimal&#160;</td>
          <td class="paramname"><em>customerEnteredPrice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>quantity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>shoppingCartItemId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>storeId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Validates a product for standard properties </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">customer</td><td>Customer</td></tr>
    <tr><td class="paramname">shoppingCartType</td><td>Shopping cart type</td></tr>
    <tr><td class="paramname">product</td><td>Product</td></tr>
    <tr><td class="paramname">attributesXml</td><td>Attributes in XML format</td></tr>
    <tr><td class="paramname">customerEnteredPrice</td><td>Customer entered price</td></tr>
    <tr><td class="paramname">quantity</td><td>Quantity</td></tr>
    <tr><td class="paramname">shoppingCartItemId</td><td>Shopping cart identifier; pass 0 if it's a new item</td></tr>
    <tr><td class="paramname">storeId</td><td>Store identifier</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the warnings </dd></dl>
<div class="fragment"><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        {</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;            <span class="keywordflow">if</span> (customer == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(customer));</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160; </div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;            <span class="keywordflow">if</span> (product == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(product));</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160; </div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;            var warnings = <span class="keyword">new</span> List&lt;string&gt;();</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160; </div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            <span class="comment">//deleted</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;            <span class="keywordflow">if</span> (product.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#aea26f4835c9d96fd48bcd0abc3e4f137">Deleted</a>)</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            {</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                warnings.Add(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;ShoppingCart.ProductDeleted&quot;</span>));</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                <span class="keywordflow">return</span> warnings;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            }</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160; </div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            <span class="comment">//published</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;            <span class="keywordflow">if</span> (!product.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#af156fb4f043b3f8bb71d291dd8df4e87">Published</a>)</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;            {</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                warnings.Add(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;ShoppingCart.ProductUnpublished&quot;</span>));</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            }</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160; </div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            <span class="comment">//we can add only simple products</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;            <span class="keywordflow">if</span> (product.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a92d74dcaaffc25df6364d14190d19994">ProductType</a> != <a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_catalog.html#a232903837e98f35acf949857ea536d8b">ProductType</a>.SimpleProduct)</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;            {</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                warnings.Add(<span class="stringliteral">&quot;This is not simple product&quot;</span>);</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;            }</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160; </div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;            <span class="comment">//ACL</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;            <span class="keywordflow">if</span> (!await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a4647e7e35d4c4f74c84068380a3a7bfc">_aclService</a>.AuthorizeAsync(product, customer))</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;            {</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                warnings.Add(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;ShoppingCart.ProductUnpublished&quot;</span>));</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;            }</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160; </div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;            <span class="comment">//Store mapping</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;            <span class="keywordflow">if</span> (!await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a7b8c34aa90ac10f24fb1f258e9fe9b42">_storeMappingService</a>.AuthorizeAsync(product, (await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#aba42c8b71d4f0534e4656e6f01577185">_storeContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_store_context.html#ab98a28cdb13e78df5beea58801148f19">GetCurrentStoreAsync</a>()).Id))</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;            {</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                warnings.Add(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;ShoppingCart.ProductUnpublished&quot;</span>));</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;            }</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160; </div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            <span class="comment">//disabled &quot;add to cart&quot; button</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;            <span class="keywordflow">if</span> (shoppingCartType == <a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_orders.html#ae2fb88620fcd3889e6e0504e7b18e806">ShoppingCartType</a>.ShoppingCart &amp;&amp; product.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#ad990697fc30d1dd002570d80091b86ea">DisableBuyButton</a>)</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;            {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                warnings.Add(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;ShoppingCart.BuyingDisabled&quot;</span>));</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;            }</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160; </div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;            <span class="comment">//disabled &quot;add to wishlist&quot; button</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;            <span class="keywordflow">if</span> (shoppingCartType == <a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_orders.html#ae2fb88620fcd3889e6e0504e7b18e806">ShoppingCartType</a>.Wishlist &amp;&amp; product.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a6ace74a84ce50ec2b037a8c270c03c9d">DisableWishlistButton</a>)</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;            {</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                warnings.Add(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;ShoppingCart.WishlistDisabled&quot;</span>));</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;            }</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160; </div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;            <span class="comment">//call for price</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;            <span class="keywordflow">if</span> (shoppingCartType == <a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_orders.html#ae2fb88620fcd3889e6e0504e7b18e806">ShoppingCartType</a>.ShoppingCart &amp;&amp; product.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a73316c1452cc52852de28c873025120e">CallForPrice</a> &amp;&amp;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                <span class="comment">//also check whether the current user is impersonated</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                (!<a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#afdb3928e668ae9f4fde9db4224a09410">_orderSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_settings.html#a70d71582624b25b6d9de0e24f6544817">AllowAdminsToBuyCallForPriceProducts</a> || <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a0fc527f4064132eba50e5fd9ee9a1375">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a14a0153b6c715817d92ce76ca6e06075">OriginalCustomerIfImpersonated</a> == <span class="keyword">null</span>))</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;            {</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                warnings.Add(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;Products.CallForPrice&quot;</span>));</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;            }</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160; </div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            <span class="comment">//customer entered price</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;            <span class="keywordflow">if</span> (product.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a5e27a3a0319f903a8f7ff2a6ab0fdfc7">CustomerEntersPrice</a>)</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;            {</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                <span class="keywordflow">if</span> (customerEnteredPrice &lt; product.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a25ba1652f271e505e3b3c470b7e4a218">MinimumCustomerEnteredPrice</a> ||</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                    customerEnteredPrice &gt; product.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#ac6cea02dceb39fde0af03c7380fcdafa">MaximumCustomerEnteredPrice</a>)</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                {</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                    var minimumCustomerEnteredPrice = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#af1558171141cf8b791afdb7dee65cc37">_currencyService</a>.<a class="code" href="interface_nop_1_1_services_1_1_directory_1_1_i_currency_service.html#a232e7d559ba6ca61f2cb80cbcf5f0be5">ConvertFromPrimaryStoreCurrencyAsync</a>(product.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a25ba1652f271e505e3b3c470b7e4a218">MinimumCustomerEnteredPrice</a>, await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a0fc527f4064132eba50e5fd9ee9a1375">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a34d59971fa4eafe471e74c89f0d05349">GetWorkingCurrencyAsync</a>());</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                    var maximumCustomerEnteredPrice = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#af1558171141cf8b791afdb7dee65cc37">_currencyService</a>.<a class="code" href="interface_nop_1_1_services_1_1_directory_1_1_i_currency_service.html#a232e7d559ba6ca61f2cb80cbcf5f0be5">ConvertFromPrimaryStoreCurrencyAsync</a>(product.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#ac6cea02dceb39fde0af03c7380fcdafa">MaximumCustomerEnteredPrice</a>, await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a0fc527f4064132eba50e5fd9ee9a1375">_workContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_work_context.html#a34d59971fa4eafe471e74c89f0d05349">GetWorkingCurrencyAsync</a>());</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                    warnings.Add(<span class="keywordtype">string</span>.Format(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;ShoppingCart.CustomerEnteredPrice.RangeError&quot;</span>),</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                        await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#acc35e61b453b0ab5f9d706d0f3c93e15">_priceFormatter</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html#a5e131524dfbb20c6d2d175f3323de98a">FormatPriceAsync</a>(minimumCustomerEnteredPrice, <span class="keyword">false</span>, <span class="keyword">false</span>),</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                        await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#acc35e61b453b0ab5f9d706d0f3c93e15">_priceFormatter</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html#a5e131524dfbb20c6d2d175f3323de98a">FormatPriceAsync</a>(maximumCustomerEnteredPrice, <span class="keyword">false</span>, <span class="keyword">false</span>)));</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                }</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;            }</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160; </div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;            <span class="comment">//quantity validation</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;            var hasQtyWarnings = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;            <span class="keywordflow">if</span> (quantity &lt; product.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#af4f3acd2bb821eff64984dbe298b1706">OrderMinimumQuantity</a>)</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;            {</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                warnings.Add(<span class="keywordtype">string</span>.Format(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;ShoppingCart.MinimumQuantity&quot;</span>), product.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#af4f3acd2bb821eff64984dbe298b1706">OrderMinimumQuantity</a>));</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                hasQtyWarnings = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;            }</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160; </div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            <span class="keywordflow">if</span> (quantity &gt; product.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#acfcaa6b588319e9c45414ea04cf8d80b">OrderMaximumQuantity</a>)</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;            {</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                warnings.Add(<span class="keywordtype">string</span>.Format(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;ShoppingCart.MaximumQuantity&quot;</span>), product.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#acfcaa6b588319e9c45414ea04cf8d80b">OrderMaximumQuantity</a>));</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                hasQtyWarnings = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;            }</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160; </div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            var allowedQuantities = <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ab2d95d5144b8fb62fe60208501e45384">_productService</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#a0f2550cd237961c27147fbfc4dad5a55">ParseAllowedQuantities</a>(product);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            <span class="keywordflow">if</span> (allowedQuantities.Length &gt; 0 &amp;&amp; !allowedQuantities.Contains(quantity))</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;            {</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                warnings.Add(<span class="keywordtype">string</span>.Format(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;ShoppingCart.AllowedQuantities&quot;</span>), <span class="keywordtype">string</span>.Join(<span class="stringliteral">&quot;, &quot;</span>, allowedQuantities)));</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;            }</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160; </div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            var validateOutOfStock = shoppingCartType == <a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_orders.html#ae2fb88620fcd3889e6e0504e7b18e806">ShoppingCartType</a>.ShoppingCart || !<a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a5b7323984429448a6e727bff3bff122e">_shoppingCartSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_settings.html#a8d6cd3846f1a26c997d65de43f12efb7">AllowOutOfStockItemsToBeAddedToWishlist</a>;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            <span class="keywordflow">if</span> (validateOutOfStock &amp;&amp; !hasQtyWarnings)</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;            {</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                <span class="keywordflow">switch</span> (product.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a15eb7b0f9f809fac0fdbdf378e27ae48">ManageInventoryMethod</a>)</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                {</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_catalog.html#ab1fde09c00052d9bf8d761db52b57d09">ManageInventoryMethod</a>.DontManageStock:</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                        <span class="comment">//do nothing</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_catalog.html#ab1fde09c00052d9bf8d761db52b57d09">ManageInventoryMethod</a>.ManageStock:</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                        <span class="keywordflow">if</span> (product.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a3a9e15de829a58cc02065226a9bcf83e">BackorderMode</a> == <a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_catalog.html#a4519ae85af12ce4912661cdd36f31e6e">BackorderMode</a>.NoBackorders)</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                        {</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                            var maximumQuantityCanBeAdded = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ab2d95d5144b8fb62fe60208501e45384">_productService</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#aa52ea9b1bb0f2110056c24189b608acf">GetTotalStockQuantityAsync</a>(product);</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                            <span class="keywordflow">if</span> (maximumQuantityCanBeAdded &lt; quantity)</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                            {</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                                <span class="keywordflow">if</span> (maximumQuantityCanBeAdded &lt;= 0)</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                                {</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                                    var productAvailabilityRange = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ab3db06579a538c03da7d3375f8afd203">_dateRangeService</a>.<a class="code" href="interface_nop_1_1_services_1_1_shipping_1_1_date_1_1_i_date_range_service.html#aea1bc529e6762d6dec6c90fa9d09e338">GetProductAvailabilityRangeByIdAsync</a>(product.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#abcd27f70eb16755ccbd95e3ad970a5e8">ProductAvailabilityRangeId</a>);</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                                    var warning = productAvailabilityRange == <span class="keyword">null</span> ? await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;ShoppingCart.OutOfStock&quot;</span>)</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                                        : <span class="keywordtype">string</span>.Format(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;ShoppingCart.AvailabilityRange&quot;</span>),</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                                            await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.GetLocalizedAsync(productAvailabilityRange, range =&gt; range.Name));</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                                    warnings.Add(warning);</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                                }</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                                    warnings.Add(<span class="keywordtype">string</span>.Format(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;ShoppingCart.QuantityExceedsStock&quot;</span>), maximumQuantityCanBeAdded));</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                            }</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160; </div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                            <span class="keywordflow">if</span> (warnings.Any())</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                                <span class="keywordflow">return</span> warnings;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160; </div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                            <span class="comment">//validate product quantity with non combinable product attributes</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                            var productAttributeMappings = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ae4a6c57285b55e10b8dcc8fcde94cbca">_productAttributeService</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_service.html#af16272e3f5c7c58336ae3eb77c2beadc">GetProductAttributeMappingsByProductIdAsync</a>(product.<a class="code" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Id</a>);</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                            <span class="keywordflow">if</span> (productAttributeMappings?.Any() == <span class="keyword">true</span>)</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                            {</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                                var onlyCombinableAttributes = productAttributeMappings.All(mapping =&gt; !mapping.IsNonCombinable());</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                                <span class="keywordflow">if</span> (!onlyCombinableAttributes)</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                                {</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                                    var cart = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a6c23a27aead1a64487e3f9ccb3828944">GetShoppingCartAsync</a>(customer, shoppingCartType, storeId);</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                                    var totalAddedQuantity = cart</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                                        .Where(item =&gt; item.ProductId == product.<a class="code" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Id</a>)</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                                        .Sum(product =&gt; product.Quantity);</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160; </div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                                    var alreadyExistedItem = cart.FirstOrDefault(item =&gt; item.Id == shoppingCartItemId);</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                                    <span class="keywordflow">if</span> (alreadyExistedItem == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                                    {</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                                        <span class="comment">//it&#39;s new item</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                                        totalAddedQuantity += quantity;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                                    }</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                                    {</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                                        <span class="comment">//it&#39;s existing item, then add to total the added quantity only</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                                        <span class="keywordflow">if</span> (quantity &gt; alreadyExistedItem.Quantity)</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                                            totalAddedQuantity += quantity - alreadyExistedItem.Quantity;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                                    }</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160; </div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                                    <span class="keywordflow">if</span> (maximumQuantityCanBeAdded &lt; totalAddedQuantity)</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                                    {</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                                        <span class="keywordflow">if</span> (maximumQuantityCanBeAdded &lt;= 0)</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                                        {</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                                            var productAvailabilityRange = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ab3db06579a538c03da7d3375f8afd203">_dateRangeService</a>.<a class="code" href="interface_nop_1_1_services_1_1_shipping_1_1_date_1_1_i_date_range_service.html#aea1bc529e6762d6dec6c90fa9d09e338">GetProductAvailabilityRangeByIdAsync</a>(product.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#abcd27f70eb16755ccbd95e3ad970a5e8">ProductAvailabilityRangeId</a>);</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                                            var warning = productAvailabilityRange == <span class="keyword">null</span> ? await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;ShoppingCart.OutOfStock&quot;</span>)</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                                                : <span class="keywordtype">string</span>.Format(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;ShoppingCart.AvailabilityRange&quot;</span>),</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                                                    await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.GetLocalizedAsync(productAvailabilityRange, range =&gt; range.Name));</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                                            warnings.Add(warning);</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                                        }</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                                        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                                            warnings.Add(<span class="keywordtype">string</span>.Format(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;ShoppingCart.QuantityExceedsStock&quot;</span>), maximumQuantityCanBeAdded));</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                                    }</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                                }</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                            }</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                        }</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160; </div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_catalog.html#ab1fde09c00052d9bf8d761db52b57d09">ManageInventoryMethod</a>.ManageStockByAttributes:</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                        var combination = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a372f60dd105ef1a5a25b7f5e5b5dab2d">_productAttributeParser</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_parser.html#ad27e38ed5691f5b646ba450014d5f789">FindProductAttributeCombinationAsync</a>(product, attributesXml);</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                        <span class="keywordflow">if</span> (combination != <span class="keyword">null</span>)</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                        {</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                            <span class="comment">//combination exists</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                            <span class="comment">//let&#39;s check stock level</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                            <span class="keywordflow">if</span> (!combination.AllowOutOfStockOrders &amp;&amp; combination.StockQuantity &lt; quantity)</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                            {</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;                                var maximumQuantityCanBeAdded = combination.StockQuantity;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                                <span class="keywordflow">if</span> (maximumQuantityCanBeAdded &lt;= 0)</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                                {</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                                    var productAvailabilityRange = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ab3db06579a538c03da7d3375f8afd203">_dateRangeService</a>.<a class="code" href="interface_nop_1_1_services_1_1_shipping_1_1_date_1_1_i_date_range_service.html#aea1bc529e6762d6dec6c90fa9d09e338">GetProductAvailabilityRangeByIdAsync</a>(product.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#abcd27f70eb16755ccbd95e3ad970a5e8">ProductAvailabilityRangeId</a>);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;                                    var warning = productAvailabilityRange == <span class="keyword">null</span> ? await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;ShoppingCart.OutOfStock&quot;</span>)</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;                                        : <span class="keywordtype">string</span>.Format(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;ShoppingCart.AvailabilityRange&quot;</span>),</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;                                            await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.GetLocalizedAsync(productAvailabilityRange, range =&gt; range.Name));</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                                    warnings.Add(warning);</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;                                }</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;                                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                                {</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                                    warnings.Add(<span class="keywordtype">string</span>.Format(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;ShoppingCart.QuantityExceedsStock&quot;</span>), maximumQuantityCanBeAdded));</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                                }</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                            }</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                        }</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;                        {</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                            <span class="comment">//combination doesn&#39;t exist</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;                            <span class="keywordflow">if</span> (product.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#aa94329203c14243c4bdd857e1fb91698">AllowAddingOnlyExistingAttributeCombinations</a>)</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;                            {</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                                <span class="comment">//maybe, is it better  to display something like &quot;No such product/combination&quot; message?</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                                var productAvailabilityRange = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ab3db06579a538c03da7d3375f8afd203">_dateRangeService</a>.<a class="code" href="interface_nop_1_1_services_1_1_shipping_1_1_date_1_1_i_date_range_service.html#aea1bc529e6762d6dec6c90fa9d09e338">GetProductAvailabilityRangeByIdAsync</a>(product.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#abcd27f70eb16755ccbd95e3ad970a5e8">ProductAvailabilityRangeId</a>);</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                                var warning = productAvailabilityRange == <span class="keyword">null</span> ? await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;ShoppingCart.OutOfStock&quot;</span>)</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                                    : <span class="keywordtype">string</span>.Format(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;ShoppingCart.AvailabilityRange&quot;</span>),</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                                        await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.GetLocalizedAsync(productAvailabilityRange, range =&gt; range.Name));</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                                warnings.Add(warning);</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                            }</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                        }</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160; </div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                }</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;            }</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160; </div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;            <span class="comment">//availability dates</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;            var availableStartDateError = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;            <span class="keywordflow">if</span> (product.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#abd064f3cacc40f1cf9ab537ffb400b98">AvailableStartDateTimeUtc</a>.HasValue)</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;            {</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                var availableStartDateTime = DateTime.SpecifyKind(product.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#abd064f3cacc40f1cf9ab537ffb400b98">AvailableStartDateTimeUtc</a>.Value, DateTimeKind.Utc);</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                <span class="keywordflow">if</span> (availableStartDateTime.CompareTo(DateTime.UtcNow) &gt; 0)</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                {</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                    warnings.Add(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;ShoppingCart.NotAvailable&quot;</span>));</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                    availableStartDateError = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                }</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;            }</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160; </div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;            <span class="keywordflow">if</span> (!product.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#adeed61d007e3a7677bb34db5b6bb70f2">AvailableEndDateTimeUtc</a>.HasValue || availableStartDateError)</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                <span class="keywordflow">return</span> warnings;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160; </div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;            var availableEndDateTime = DateTime.SpecifyKind(product.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#adeed61d007e3a7677bb34db5b6bb70f2">AvailableEndDateTimeUtc</a>.Value, DateTimeKind.Utc);</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;            <span class="keywordflow">if</span> (availableEndDateTime.CompareTo(DateTime.UtcNow) &lt; 0)</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;            {</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                warnings.Add(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">_localizationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">GetResourceAsync</a>(<span class="stringliteral">&quot;ShoppingCart.NotAvailable&quot;</span>));</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;            }</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160; </div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;            <span class="keywordflow">return</span> warnings;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product_html_a15eb7b0f9f809fac0fdbdf378e27ae48"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a15eb7b0f9f809fac0fdbdf378e27ae48">Nop.Core.Domain.Catalog.Product.ManageInventoryMethod</a></div><div class="ttdeci">ManageInventoryMethod ManageInventoryMethod</div><div class="ttdoc">Gets or sets the value indicating how to manage inventory</div><div class="ttdef"><b>Definition:</b> Product.cs:593</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product_html_a25ba1652f271e505e3b3c470b7e4a218"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a25ba1652f271e505e3b3c470b7e4a218">Nop.Core.Domain.Catalog.Product.MinimumCustomerEnteredPrice</a></div><div class="ttdeci">decimal MinimumCustomerEnteredPrice</div><div class="ttdoc">Gets or sets the minimum price entered by a customer</div><div class="ttdef"><b>Definition:</b> Product.cs:422</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product_html_a3a9e15de829a58cc02065226a9bcf83e"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a3a9e15de829a58cc02065226a9bcf83e">Nop.Core.Domain.Catalog.Product.BackorderMode</a></div><div class="ttdeci">BackorderMode BackorderMode</div><div class="ttdoc">Gets or sets the backorder mode</div><div class="ttdef"><b>Definition:</b> Product.cs:557</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product_html_a5e27a3a0319f903a8f7ff2a6ab0fdfc7"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a5e27a3a0319f903a8f7ff2a6ab0fdfc7">Nop.Core.Domain.Catalog.Product.CustomerEntersPrice</a></div><div class="ttdeci">bool CustomerEntersPrice</div><div class="ttdoc">Gets or sets a value indicating whether a customer enters price</div><div class="ttdef"><b>Definition:</b> Product.cs:417</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product_html_a6ace74a84ce50ec2b037a8c270c03c9d"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a6ace74a84ce50ec2b037a8c270c03c9d">Nop.Core.Domain.Catalog.Product.DisableWishlistButton</a></div><div class="ttdeci">bool DisableWishlistButton</div><div class="ttdoc">Gets or sets a value indicating whether to disable &quot;Add to wishlist&quot; button</div><div class="ttdef"><b>Definition:</b> Product.cs:382</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product_html_a73316c1452cc52852de28c873025120e"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a73316c1452cc52852de28c873025120e">Nop.Core.Domain.Catalog.Product.CallForPrice</a></div><div class="ttdeci">bool CallForPrice</div><div class="ttdoc">Gets or sets a value indicating whether to show &quot;Call for Pricing&quot; or &quot;Call for quote&quot; instead of pri...</div><div class="ttdef"><b>Definition:</b> Product.cs:397</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product_html_a92d74dcaaffc25df6364d14190d19994"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a92d74dcaaffc25df6364d14190d19994">Nop.Core.Domain.Catalog.Product.ProductType</a></div><div class="ttdeci">ProductType ProductType</div><div class="ttdoc">Gets or sets the product type</div><div class="ttdef"><b>Definition:</b> Product.cs:548</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product_html_aa94329203c14243c4bdd857e1fb91698"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#aa94329203c14243c4bdd857e1fb91698">Nop.Core.Domain.Catalog.Product.AllowAddingOnlyExistingAttributeCombinations</a></div><div class="ttdeci">bool AllowAddingOnlyExistingAttributeCombinations</div><div class="ttdoc">Gets or sets a value indicating whether we allow adding to the cart/wishlist only attribute combinati...</div><div class="ttdef"><b>Definition:</b> Product.cs:367</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product_html_abcd27f70eb16755ccbd95e3ad970a5e8"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#abcd27f70eb16755ccbd95e3ad970a5e8">Nop.Core.Domain.Catalog.Product.ProductAvailabilityRangeId</a></div><div class="ttdeci">int ProductAvailabilityRangeId</div><div class="ttdoc">Gets or sets a product availability range identifier</div><div class="ttdef"><b>Definition:</b> Product.cs:296</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product_html_abd064f3cacc40f1cf9ab537ffb400b98"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#abd064f3cacc40f1cf9ab537ffb400b98">Nop.Core.Domain.Catalog.Product.AvailableStartDateTimeUtc</a></div><div class="ttdeci">DateTime? AvailableStartDateTimeUtc</div><div class="ttdoc">Gets or sets the available start date and time</div><div class="ttdef"><b>Definition:</b> Product.cs:510</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product_html_ac6cea02dceb39fde0af03c7380fcdafa"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#ac6cea02dceb39fde0af03c7380fcdafa">Nop.Core.Domain.Catalog.Product.MaximumCustomerEnteredPrice</a></div><div class="ttdeci">decimal MaximumCustomerEnteredPrice</div><div class="ttdoc">Gets or sets the maximum price entered by a customer</div><div class="ttdef"><b>Definition:</b> Product.cs:427</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product_html_acfcaa6b588319e9c45414ea04cf8d80b"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#acfcaa6b588319e9c45414ea04cf8d80b">Nop.Core.Domain.Catalog.Product.OrderMaximumQuantity</a></div><div class="ttdeci">int OrderMaximumQuantity</div><div class="ttdoc">Gets or sets the order maximum quantity</div><div class="ttdef"><b>Definition:</b> Product.cs:356</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product_html_ad990697fc30d1dd002570d80091b86ea"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#ad990697fc30d1dd002570d80091b86ea">Nop.Core.Domain.Catalog.Product.DisableBuyButton</a></div><div class="ttdeci">bool DisableBuyButton</div><div class="ttdoc">Gets or sets a value indicating whether to disable buy (Add to cart) button</div><div class="ttdef"><b>Definition:</b> Product.cs:377</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product_html_adeed61d007e3a7677bb34db5b6bb70f2"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#adeed61d007e3a7677bb34db5b6bb70f2">Nop.Core.Domain.Catalog.Product.AvailableEndDateTimeUtc</a></div><div class="ttdeci">DateTime? AvailableEndDateTimeUtc</div><div class="ttdoc">Gets or sets the available end date and time</div><div class="ttdef"><b>Definition:</b> Product.cs:515</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product_html_aea26f4835c9d96fd48bcd0abc3e4f137"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#aea26f4835c9d96fd48bcd0abc3e4f137">Nop.Core.Domain.Catalog.Product.Deleted</a></div><div class="ttdeci">bool Deleted</div><div class="ttdoc">Gets or sets a value indicating whether the entity has been deleted</div><div class="ttdef"><b>Definition:</b> Product.cs:532</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product_html_af156fb4f043b3f8bb71d291dd8df4e87"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#af156fb4f043b3f8bb71d291dd8df4e87">Nop.Core.Domain.Catalog.Product.Published</a></div><div class="ttdeci">bool Published</div><div class="ttdoc">Gets or sets a value indicating whether the entity is published</div><div class="ttdef"><b>Definition:</b> Product.cs:527</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product_html_af4f3acd2bb821eff64984dbe298b1706"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#af4f3acd2bb821eff64984dbe298b1706">Nop.Core.Domain.Catalog.Product.OrderMinimumQuantity</a></div><div class="ttdeci">int OrderMinimumQuantity</div><div class="ttdoc">Gets or sets the order minimum quantity</div><div class="ttdef"><b>Definition:</b> Product.cs:351</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_settings_html_a70d71582624b25b6d9de0e24f6544817"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_settings.html#a70d71582624b25b6d9de0e24f6544817">Nop.Core.Domain.Orders.OrderSettings.AllowAdminsToBuyCallForPriceProducts</a></div><div class="ttdeci">bool AllowAdminsToBuyCallForPriceProducts</div><div class="ttdoc">Gets or sets a value indicating whether administrators (in impersonation mode) are allowed to buy pro...</div><div class="ttdef"><b>Definition:</b> OrderSettings.cs:164</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_settings_html_a8d6cd3846f1a26c997d65de43f12efb7"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_settings.html#a8d6cd3846f1a26c997d65de43f12efb7">Nop.Core.Domain.Orders.ShoppingCartSettings.AllowOutOfStockItemsToBeAddedToWishlist</a></div><div class="ttdeci">bool AllowOutOfStockItemsToBeAddedToWishlist</div><div class="ttdoc">Gets or sets a value indicating whether to show product images in the mini-shopping cart block</div><div class="ttdef"><b>Definition:</b> ShoppingCartSettings.cs:33</div></div>
<div class="ttc" id="ainterface_nop_1_1_core_1_1_i_work_context_html_a14a0153b6c715817d92ce76ca6e06075"><div class="ttname"><a href="interface_nop_1_1_core_1_1_i_work_context.html#a14a0153b6c715817d92ce76ca6e06075">Nop.Core.IWorkContext.OriginalCustomerIfImpersonated</a></div><div class="ttdeci">Customer OriginalCustomerIfImpersonated</div><div class="ttdoc">Gets the original customer (in case the current one is impersonated)</div><div class="ttdef"><b>Definition:</b> IWorkContext.cs:31</div></div>
<div class="ttc" id="ainterface_nop_1_1_core_1_1_i_work_context_html_a34d59971fa4eafe471e74c89f0d05349"><div class="ttname"><a href="interface_nop_1_1_core_1_1_i_work_context.html#a34d59971fa4eafe471e74c89f0d05349">Nop.Core.IWorkContext.GetWorkingCurrencyAsync</a></div><div class="ttdeci">Task&lt; Currency &gt; GetWorkingCurrencyAsync()</div><div class="ttdoc">Gets or sets current user working currency</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter_html_a5e131524dfbb20c6d2d175f3323de98a"><div class="ttname"><a href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html#a5e131524dfbb20c6d2d175f3323de98a">Nop.Services.Catalog.IPriceFormatter.FormatPriceAsync</a></div><div class="ttdeci">Task&lt; string &gt; FormatPriceAsync(decimal price)</div><div class="ttdoc">Formats the price</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_parser_html_ad27e38ed5691f5b646ba450014d5f789"><div class="ttname"><a href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_parser.html#ad27e38ed5691f5b646ba450014d5f789">Nop.Services.Catalog.IProductAttributeParser.FindProductAttributeCombinationAsync</a></div><div class="ttdeci">Task&lt; ProductAttributeCombination &gt; FindProductAttributeCombinationAsync(Product product, string attributesXml, bool ignoreNonCombinableAttributes=true)</div><div class="ttdoc">Finds a product attribute combination by attributes stored in XML</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_catalog_1_1_i_product_service_html_a0f2550cd237961c27147fbfc4dad5a55"><div class="ttname"><a href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#a0f2550cd237961c27147fbfc4dad5a55">Nop.Services.Catalog.IProductService.ParseAllowedQuantities</a></div><div class="ttdeci">int[] ParseAllowedQuantities(Product product)</div><div class="ttdoc">Get a list of allowed quantities (parse 'AllowedQuantities' property)</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_catalog_1_1_i_product_service_html_aa52ea9b1bb0f2110056c24189b608acf"><div class="ttname"><a href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#aa52ea9b1bb0f2110056c24189b608acf">Nop.Services.Catalog.IProductService.GetTotalStockQuantityAsync</a></div><div class="ttdeci">Task&lt; int &gt; GetTotalStockQuantityAsync(Product product, bool useReservedQuantity=true, int warehouseId=0)</div><div class="ttdoc">Get total quantity</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_directory_1_1_i_currency_service_html_a232e7d559ba6ca61f2cb80cbcf5f0be5"><div class="ttname"><a href="interface_nop_1_1_services_1_1_directory_1_1_i_currency_service.html#a232e7d559ba6ca61f2cb80cbcf5f0be5">Nop.Services.Directory.ICurrencyService.ConvertFromPrimaryStoreCurrencyAsync</a></div><div class="ttdeci">Task&lt; decimal &gt; ConvertFromPrimaryStoreCurrencyAsync(decimal amount, Currency targetCurrencyCode)</div><div class="ttdoc">Converts from primary store currency</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_shipping_1_1_date_1_1_i_date_range_service_html_aea1bc529e6762d6dec6c90fa9d09e338"><div class="ttname"><a href="interface_nop_1_1_services_1_1_shipping_1_1_date_1_1_i_date_range_service.html#aea1bc529e6762d6dec6c90fa9d09e338">Nop.Services.Shipping.Date.IDateRangeService.GetProductAvailabilityRangeByIdAsync</a></div><div class="ttdeci">Task&lt; ProductAvailabilityRange &gt; GetProductAvailabilityRangeByIdAsync(int productAvailabilityRangeId)</div><div class="ttdoc">Get a product availability range</div></div>
<div class="ttc" id="anamespace_nop_1_1_core_1_1_domain_1_1_catalog_html_a232903837e98f35acf949857ea536d8b"><div class="ttname"><a href="namespace_nop_1_1_core_1_1_domain_1_1_catalog.html#a232903837e98f35acf949857ea536d8b">Nop.Core.Domain.Catalog.ProductType</a></div><div class="ttdeci">ProductType</div><div class="ttdoc">Represents a product type</div><div class="ttdef"><b>Definition:</b> ProductType.cs:7</div></div>
<div class="ttc" id="anamespace_nop_1_1_core_1_1_domain_1_1_catalog_html_a4519ae85af12ce4912661cdd36f31e6e"><div class="ttname"><a href="namespace_nop_1_1_core_1_1_domain_1_1_catalog.html#a4519ae85af12ce4912661cdd36f31e6e">Nop.Core.Domain.Catalog.BackorderMode</a></div><div class="ttdeci">BackorderMode</div><div class="ttdoc">Represents a backorder mode</div><div class="ttdef"><b>Definition:</b> BackorderMode.cs:7</div></div>
<div class="ttc" id="anamespace_nop_1_1_core_1_1_domain_1_1_catalog_html_ab1fde09c00052d9bf8d761db52b57d09"><div class="ttname"><a href="namespace_nop_1_1_core_1_1_domain_1_1_catalog.html#ab1fde09c00052d9bf8d761db52b57d09">Nop.Core.Domain.Catalog.ManageInventoryMethod</a></div><div class="ttdeci">ManageInventoryMethod</div><div class="ttdoc">Represents a method of inventory management</div><div class="ttdef"><b>Definition:</b> ManageInventoryMethod.cs:7</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a4647e7e35d4c4f74c84068380a3a7bfc">Nop.Services.Orders.ShoppingCartService._aclService</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#af1558171141cf8b791afdb7dee65cc37">Nop.Services.Orders.ShoppingCartService._currencyService</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ab3db06579a538c03da7d3375f8afd203">Nop.Services.Orders.ShoppingCartService._dateRangeService</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0f5b4a70203e1fca9ff83f47fe4ee93">Nop.Services.Orders.ShoppingCartService._localizationService</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#afdb3928e668ae9f4fde9db4224a09410">Nop.Services.Orders.ShoppingCartService._orderSettings</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#acc35e61b453b0ab5f9d706d0f3c93e15">Nop.Services.Orders.ShoppingCartService._priceFormatter</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a372f60dd105ef1a5a25b7f5e5b5dab2d">Nop.Services.Orders.ShoppingCartService._productAttributeParser</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ae4a6c57285b55e10b8dcc8fcde94cbca">Nop.Services.Orders.ShoppingCartService._productAttributeService</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ab2d95d5144b8fb62fe60208501e45384">Nop.Services.Orders.ShoppingCartService._productService</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a5b7323984429448a6e727bff3bff122e">Nop.Services.Orders.ShoppingCartService._shoppingCartSettings</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#aba42c8b71d4f0534e4656e6f01577185">Nop.Services.Orders.ShoppingCartService._storeContext</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a7b8c34aa90ac10f24fb1f258e9fe9b42">Nop.Services.Orders.ShoppingCartService._storeMappingService</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a0fc527f4064132eba50e5fd9ee9a1375">Nop.Services.Orders.ShoppingCartService._workContext</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#aa94329203c14243c4bdd857e1fb91698">Nop.Core.Domain.Catalog.Product.AllowAddingOnlyExistingAttributeCombinations</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_settings.html#a70d71582624b25b6d9de0e24f6544817">Nop.Core.Domain.Orders.OrderSettings.AllowAdminsToBuyCallForPriceProducts</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_settings.html#a8d6cd3846f1a26c997d65de43f12efb7">Nop.Core.Domain.Orders.ShoppingCartSettings.AllowOutOfStockItemsToBeAddedToWishlist</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#adeed61d007e3a7677bb34db5b6bb70f2">Nop.Core.Domain.Catalog.Product.AvailableEndDateTimeUtc</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#abd064f3cacc40f1cf9ab537ffb400b98">Nop.Core.Domain.Catalog.Product.AvailableStartDateTimeUtc</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a3a9e15de829a58cc02065226a9bcf83e">Nop.Core.Domain.Catalog.Product.BackorderMode</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a73316c1452cc52852de28c873025120e">Nop.Core.Domain.Catalog.Product.CallForPrice</a>, <a class="el" href="interface_nop_1_1_services_1_1_directory_1_1_i_currency_service.html#a232e7d559ba6ca61f2cb80cbcf5f0be5">Nop.Services.Directory.ICurrencyService.ConvertFromPrimaryStoreCurrencyAsync()</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a5e27a3a0319f903a8f7ff2a6ab0fdfc7">Nop.Core.Domain.Catalog.Product.CustomerEntersPrice</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#aea26f4835c9d96fd48bcd0abc3e4f137">Nop.Core.Domain.Catalog.Product.Deleted</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#ad990697fc30d1dd002570d80091b86ea">Nop.Core.Domain.Catalog.Product.DisableBuyButton</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a6ace74a84ce50ec2b037a8c270c03c9d">Nop.Core.Domain.Catalog.Product.DisableWishlistButton</a>, <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_parser.html#ad27e38ed5691f5b646ba450014d5f789">Nop.Services.Catalog.IProductAttributeParser.FindProductAttributeCombinationAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html#a5e131524dfbb20c6d2d175f3323de98a">Nop.Services.Catalog.IPriceFormatter.FormatPriceAsync()</a>, <a class="el" href="interface_nop_1_1_core_1_1_i_store_context.html#ab98a28cdb13e78df5beea58801148f19">Nop.Core.IStoreContext.GetCurrentStoreAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_service.html#af16272e3f5c7c58336ae3eb77c2beadc">Nop.Services.Catalog.IProductAttributeService.GetProductAttributeMappingsByProductIdAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_shipping_1_1_date_1_1_i_date_range_service.html#aea1bc529e6762d6dec6c90fa9d09e338">Nop.Services.Shipping.Date.IDateRangeService.GetProductAvailabilityRangeByIdAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html#ac1ae5d2f3ddfea87ce1f780c9294656a">Nop.Services.Localization.ILocalizationService.GetResourceAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a6c23a27aead1a64487e3f9ccb3828944">Nop.Services.Orders.ShoppingCartService.GetShoppingCartAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#aa52ea9b1bb0f2110056c24189b608acf">Nop.Services.Catalog.IProductService.GetTotalStockQuantityAsync()</a>, <a class="el" href="interface_nop_1_1_core_1_1_i_work_context.html#a34d59971fa4eafe471e74c89f0d05349">Nop.Core.IWorkContext.GetWorkingCurrencyAsync()</a>, <a class="el" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Nop.Core.BaseEntity.Id</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a15eb7b0f9f809fac0fdbdf378e27ae48">Nop.Core.Domain.Catalog.Product.ManageInventoryMethod</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#ac6cea02dceb39fde0af03c7380fcdafa">Nop.Core.Domain.Catalog.Product.MaximumCustomerEnteredPrice</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a25ba1652f271e505e3b3c470b7e4a218">Nop.Core.Domain.Catalog.Product.MinimumCustomerEnteredPrice</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#acfcaa6b588319e9c45414ea04cf8d80b">Nop.Core.Domain.Catalog.Product.OrderMaximumQuantity</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#af4f3acd2bb821eff64984dbe298b1706">Nop.Core.Domain.Catalog.Product.OrderMinimumQuantity</a>, <a class="el" href="interface_nop_1_1_core_1_1_i_work_context.html#a14a0153b6c715817d92ce76ca6e06075">Nop.Core.IWorkContext.OriginalCustomerIfImpersonated</a>, <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#a0f2550cd237961c27147fbfc4dad5a55">Nop.Services.Catalog.IProductService.ParseAllowedQuantities()</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#abcd27f70eb16755ccbd95e3ad970a5e8">Nop.Core.Domain.Catalog.Product.ProductAvailabilityRangeId</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a92d74dcaaffc25df6364d14190d19994">Nop.Core.Domain.Catalog.Product.ProductType</a> e <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#af156fb4f043b3f8bb71d291dd8df4e87">Nop.Core.Domain.Catalog.Product.Published</a>.</p>

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad6caa0f42edaa9da18ff5c5868c4cd01">Nop.Services.Orders.ShoppingCartService.GetShoppingCartItemWarningsAsync()</a>.</p>

</div>
</div>
<a id="accf2c3e3996897037c5cda44250997a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accf2c3e3996897037c5cda44250997a2">&#9670;&nbsp;</a></span>GetSubTotalAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;(decimal subTotal, decimal discountAmount, List&lt;<a class="el" href="class_nop_1_1_core_1_1_domain_1_1_discounts_1_1_discount.html">Discount</a>&gt; appliedDiscounts, int? maximumDiscountQty)&gt; Nop.Services.Orders.ShoppingCartService.GetSubTotalAsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html">ShoppingCartItem</a>&#160;</td>
          <td class="paramname"><em>shoppingCartItem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>includeDiscounts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the shopping cart item sub total </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">shoppingCartItem</td><td>The shopping cart item</td></tr>
    <tr><td class="paramname">includeDiscounts</td><td>A value indicating whether include discounts or not for price computation</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>Shopping cart item sub total. Applied discount amount. Applied discounts. Maximum discounted qty. Return not nullable value if discount cannot be applied to ALL items</dd></dl>

<p>Implementa <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_shopping_cart_service.html#ace6ba6d15c59339c0ffdd2dac06371af">Nop.Services.Orders.IShoppingCartService</a>.</p>
<div class="fragment"><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;        {</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;            <span class="keywordflow">if</span> (shoppingCartItem == <span class="keyword">null</span>)</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(shoppingCartItem));</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160; </div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;            decimal subTotal;</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;            <span class="keywordtype">int</span>? maximumDiscountQty = <span class="keyword">null</span>;</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160; </div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;            <span class="comment">//unit price</span></div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;            var (unitPrice, discountAmount, appliedDiscounts) = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a33f1fb373af8557f048eb8b962b8bedc">GetUnitPriceAsync</a>(shoppingCartItem, includeDiscounts);</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160; </div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;            <span class="comment">//discount</span></div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;            <span class="keywordflow">if</span> (appliedDiscounts.Any())</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;            {</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;                <span class="comment">//we can properly use &quot;MaximumDiscountedQuantity&quot; property only for one discount (not cumulative ones)</span></div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;                <a class="code" href="class_nop_1_1_core_1_1_domain_1_1_discounts_1_1_discount.html">Discount</a> oneAndOnlyDiscount = <span class="keyword">null</span>;</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;                <span class="keywordflow">if</span> (appliedDiscounts.Count == 1)</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;                    oneAndOnlyDiscount = appliedDiscounts.First();</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160; </div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;                <span class="keywordflow">if</span> ((oneAndOnlyDiscount?.<a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_discounts.html#a0f30ddb43d5d938114e506faa9c5f260">MaximumDiscountedQuantity</a>.HasValue ?? <span class="keyword">false</span>) &amp;&amp;</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;                    shoppingCartItem.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#a328394923ada78196459bdf390f04c93">Quantity</a> &gt; oneAndOnlyDiscount.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_discounts_1_1_discount.html#acc86b0f30b8e2889af9e3bd6b4370552">MaximumDiscountedQuantity</a>.Value)</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;                {</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;                    maximumDiscountQty = oneAndOnlyDiscount.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_discounts_1_1_discount.html#acc86b0f30b8e2889af9e3bd6b4370552">MaximumDiscountedQuantity</a>.Value;</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;                    <span class="comment">//we cannot apply discount for all shopping cart items</span></div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;                    var discountedQuantity = oneAndOnlyDiscount.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_discounts_1_1_discount.html#acc86b0f30b8e2889af9e3bd6b4370552">MaximumDiscountedQuantity</a>.Value;</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;                    var discountedSubTotal = unitPrice * discountedQuantity;</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;                    discountAmount *= discountedQuantity;</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160; </div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;                    var notDiscountedQuantity = shoppingCartItem.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#a328394923ada78196459bdf390f04c93">Quantity</a> - discountedQuantity;</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;                    var notDiscountedUnitPrice = (await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a33f1fb373af8557f048eb8b962b8bedc">GetUnitPriceAsync</a>(shoppingCartItem, <span class="keyword">false</span>)).unitPrice;</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;                    var notDiscountedSubTotal = notDiscountedUnitPrice * notDiscountedQuantity;</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160; </div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;                    subTotal = discountedSubTotal + notDiscountedSubTotal;</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;                }</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;                {</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;                    <span class="comment">//discount is applied to all items (quantity)</span></div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;                    <span class="comment">//calculate discount amount for all items</span></div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;                    discountAmount *= shoppingCartItem.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#a328394923ada78196459bdf390f04c93">Quantity</a>;</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160; </div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;                    subTotal = unitPrice * shoppingCartItem.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#a328394923ada78196459bdf390f04c93">Quantity</a>;</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;                }</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;            }</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;            {</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;                subTotal = unitPrice * shoppingCartItem.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#a328394923ada78196459bdf390f04c93">Quantity</a>;</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;            }</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160; </div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;            <span class="keywordflow">return</span> (subTotal, discountAmount, appliedDiscounts, maximumDiscountQty);</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_discounts_1_1_discount_html"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_discounts_1_1_discount.html">Nop.Core.Domain.Discounts.Discount</a></div><div class="ttdoc">Represents a discount</div><div class="ttdef"><b>Definition:</b> Discount.cs:9</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_discounts_1_1_discount_html_acc86b0f30b8e2889af9e3bd6b4370552"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_discounts_1_1_discount.html#acc86b0f30b8e2889af9e3bd6b4370552">Nop.Core.Domain.Discounts.Discount.MaximumDiscountedQuantity</a></div><div class="ttdeci">int? MaximumDiscountedQuantity</div><div class="ttdoc">Gets or sets the maximum product quantity which could be discounted Used with &quot;Assigned to products&quot; ...</div><div class="ttdef"><b>Definition:</b> Discount.cs:84</div></div>
<div class="ttc" id="aclass_nop_1_1_services_1_1_orders_1_1_shopping_cart_service_html_a33f1fb373af8557f048eb8b962b8bedc"><div class="ttname"><a href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a33f1fb373af8557f048eb8b962b8bedc">Nop.Services.Orders.ShoppingCartService.GetUnitPriceAsync</a></div><div class="ttdeci">virtual async Task&lt;(decimal unitPrice, decimal discountAmount, List&lt; Discount &gt; appliedDiscounts)&gt; GetUnitPriceAsync(ShoppingCartItem shoppingCartItem, bool includeDiscounts)</div><div class="ttdoc">Gets the shopping cart unit price (one item)</div><div class="ttdef"><b>Definition:</b> ShoppingCartService.cs:1305</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_discounts_html_a0f30ddb43d5d938114e506faa9c5f260"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_discounts.html#a0f30ddb43d5d938114e506faa9c5f260">Nop.Web.Areas.Admin.Models.Discounts.MaximumDiscountedQuantity</a></div><div class="ttdeci">int? MaximumDiscountedQuantity</div><div class="ttdef"><b>Definition:</b> DiscountModel.cs:90</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a33f1fb373af8557f048eb8b962b8bedc">Nop.Services.Orders.ShoppingCartService.GetUnitPriceAsync()</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_discounts_1_1_discount.html#acc86b0f30b8e2889af9e3bd6b4370552">Nop.Core.Domain.Discounts.Discount.MaximumDiscountedQuantity</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_discounts.html#a0f30ddb43d5d938114e506faa9c5f260">Nop.Web.Areas.Admin.Models.Discounts.MaximumDiscountedQuantity</a> e <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#a328394923ada78196459bdf390f04c93">Nop.Core.Domain.Orders.ShoppingCartItem.Quantity</a>.</p>

</div>
</div>
<a id="a5fbdfe50e339a64bb0e528887ec86b14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fbdfe50e339a64bb0e528887ec86b14">&#9670;&nbsp;</a></span>GetUnitPriceAsync() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;(decimal unitPrice, decimal discountAmount, List&lt;<a class="el" href="class_nop_1_1_core_1_1_domain_1_1_discounts_1_1_discount.html">Discount</a>&gt; appliedDiscounts)&gt; Nop.Services.Orders.ShoppingCartService.GetUnitPriceAsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html">Product</a>&#160;</td>
          <td class="paramname"><em>product</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html">Customer</a>&#160;</td>
          <td class="paramname"><em>customer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_nop_1_1_core_1_1_domain_1_1_orders.html#ae2fb88620fcd3889e6e0504e7b18e806">ShoppingCartType</a>&#160;</td>
          <td class="paramname"><em>shoppingCartType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>quantity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>attributesXml</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">decimal&#160;</td>
          <td class="paramname"><em>customerEnteredPrice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DateTime?&#160;</td>
          <td class="paramname"><em>rentalStartDate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DateTime?&#160;</td>
          <td class="paramname"><em>rentalEndDate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>includeDiscounts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the shopping cart unit price (one item) </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">product</td><td>Product</td></tr>
    <tr><td class="paramname">customer</td><td>Customer</td></tr>
    <tr><td class="paramname">shoppingCartType</td><td>Shopping cart type</td></tr>
    <tr><td class="paramname">quantity</td><td>Quantity</td></tr>
    <tr><td class="paramname">attributesXml</td><td>Product attributes (XML format)</td></tr>
    <tr><td class="paramname">customerEnteredPrice</td><td>Customer entered price (if specified)</td></tr>
    <tr><td class="paramname">rentalStartDate</td><td>Rental start date (null for not rental products)</td></tr>
    <tr><td class="paramname">rentalEndDate</td><td>Rental end date (null for not rental products)</td></tr>
    <tr><td class="paramname">includeDiscounts</td><td>A value indicating whether include discounts or not for price computation</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the shopping cart unit price (one item). Applied discount amount. Applied discounts </dd></dl>

<p>Implementa <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_shopping_cart_service.html#a1233c44069fe402c71e61dd46297cf18">Nop.Services.Orders.IShoppingCartService</a>.</p>
<div class="fragment"><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;        {</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;            <span class="keywordflow">if</span> (product == <span class="keyword">null</span>)</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(product));</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160; </div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;            <span class="keywordflow">if</span> (customer == <span class="keyword">null</span>)</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(customer));</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160; </div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;            var discountAmount = decimal.Zero;</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;            var appliedDiscounts = <span class="keyword">new</span> List&lt;Discount&gt;();</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160; </div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;            decimal finalPrice;</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160; </div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;            var combination = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a372f60dd105ef1a5a25b7f5e5b5dab2d">_productAttributeParser</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_parser.html#ad27e38ed5691f5b646ba450014d5f789">FindProductAttributeCombinationAsync</a>(product, attributesXml);</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;            <span class="keywordflow">if</span> (combination?.<a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#ae31147ccfcee65953b80e4f3966185c3">OverriddenPrice</a>.HasValue ?? <span class="keyword">false</span>)</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;            {</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;                (_, finalPrice, discountAmount, appliedDiscounts) =  await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a3e531df3c7195773e37be59a9cdcf8b8">_priceCalculationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_calculation_service.html#a02e38b71db87fd8e5861c0b961986f54">GetFinalPriceAsync</a>(product,</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;                        customer,</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;                        combination.OverriddenPrice.Value,</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;                        decimal.Zero,</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;                        includeDiscounts,</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;                        quantity,</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;                        product.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a561891299d6853a51615c4fdb64b33f4">IsRental</a> ? rentalStartDate : <span class="keyword">null</span>,</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;                        product.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a561891299d6853a51615c4fdb64b33f4">IsRental</a> ? rentalEndDate : <span class="keyword">null</span>);</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;            }</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;            {</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;                <span class="comment">//summarize price of all attributes</span></div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;                var attributesTotalPrice = decimal.Zero;</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;                var attributeValues = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a372f60dd105ef1a5a25b7f5e5b5dab2d">_productAttributeParser</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_parser.html#a3c69288e42ecea1f43b95bb5056b43a7">ParseProductAttributeValuesAsync</a>(attributesXml);</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;                <span class="keywordflow">if</span> (attributeValues != <span class="keyword">null</span>)</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;                {</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;                    <span class="keywordflow">foreach</span> (var attributeValue <span class="keywordflow">in</span> attributeValues)</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;                    {</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;                        attributesTotalPrice += await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a3e531df3c7195773e37be59a9cdcf8b8">_priceCalculationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_calculation_service.html#a86e0d71dc4eb1dd561f5fc2f22b619a2">GetProductAttributeValuePriceAdjustmentAsync</a>(product, attributeValue, customer, product.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a5e27a3a0319f903a8f7ff2a6ab0fdfc7">CustomerEntersPrice</a> ? (decimal?)customerEnteredPrice : <span class="keyword">null</span>);</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;                    }</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;                }</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160; </div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;                <span class="comment">//get price of a product (with previously calculated price of all attributes)</span></div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;                <span class="keywordflow">if</span> (product.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a5e27a3a0319f903a8f7ff2a6ab0fdfc7">CustomerEntersPrice</a>)</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;                {</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;                    finalPrice = customerEnteredPrice;</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;                }</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;                {</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;                    <span class="keywordtype">int</span> qty;</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a5b7323984429448a6e727bff3bff122e">_shoppingCartSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_settings.html#a5feac87ccfe0b6ed971c40e6e252859a">GroupTierPricesForDistinctShoppingCartItems</a>)</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;                    {</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;                        <span class="comment">//the same products with distinct product attributes could be stored as distinct &quot;ShoppingCartItem&quot; records</span></div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;                        <span class="comment">//so let&#39;s find how many of the current products are in the cart                        </span></div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;                        qty = (await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a6c23a27aead1a64487e3f9ccb3828944">GetShoppingCartAsync</a>(customer, shoppingCartType: shoppingCartType, productId: product.<a class="code" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Id</a>))</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;                            .Sum(x =&gt; x.Quantity);</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160; </div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;                        <span class="keywordflow">if</span> (qty == 0)</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;                        {</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;                            qty = quantity;</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;                        }</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;                    }</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;                    {</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;                        qty = quantity;</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;                    }</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160; </div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;                    (_, finalPrice, discountAmount, appliedDiscounts) = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a3e531df3c7195773e37be59a9cdcf8b8">_priceCalculationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_calculation_service.html#a02e38b71db87fd8e5861c0b961986f54">GetFinalPriceAsync</a>(product,</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;                        customer,</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;                        attributesTotalPrice,</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;                        includeDiscounts,</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;                        qty,</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;                        product.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a561891299d6853a51615c4fdb64b33f4">IsRental</a> ? rentalStartDate : <span class="keyword">null</span>,</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;                        product.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a561891299d6853a51615c4fdb64b33f4">IsRental</a> ? rentalEndDate : <span class="keyword">null</span>);</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;                }</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;            }</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160; </div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;            <span class="comment">//rounding</span></div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a5b7323984429448a6e727bff3bff122e">_shoppingCartSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_settings.html#ad835871dd73a4ef185aa18222d78cfa3">RoundPricesDuringCalculation</a>)</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;                finalPrice = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a3e531df3c7195773e37be59a9cdcf8b8">_priceCalculationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_calculation_service.html#a29b13f3b5062451949d6872e7142f4d3">RoundPriceAsync</a>(finalPrice);</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160; </div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;            <span class="keywordflow">return</span> (finalPrice, discountAmount, appliedDiscounts);</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_settings_html_a5feac87ccfe0b6ed971c40e6e252859a"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_settings.html#a5feac87ccfe0b6ed971c40e6e252859a">Nop.Core.Domain.Orders.ShoppingCartSettings.GroupTierPricesForDistinctShoppingCartItems</a></div><div class="ttdeci">bool GroupTierPricesForDistinctShoppingCartItems</div><div class="ttdoc">Gets or sets a value indicating whether a store owner will be able to offer special prices when custo...</div><div class="ttdef"><b>Definition:</b> ShoppingCartSettings.cs:106</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_settings_html_ad835871dd73a4ef185aa18222d78cfa3"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_settings.html#ad835871dd73a4ef185aa18222d78cfa3">Nop.Core.Domain.Orders.ShoppingCartSettings.RoundPricesDuringCalculation</a></div><div class="ttdeci">bool RoundPricesDuringCalculation</div><div class="ttdoc">Gets or sets a value indicating whether to round calculated prices and total during calculation</div><div class="ttdef"><b>Definition:</b> ShoppingCartSettings.cs:100</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_catalog_1_1_i_price_calculation_service_html_a02e38b71db87fd8e5861c0b961986f54"><div class="ttname"><a href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_calculation_service.html#a02e38b71db87fd8e5861c0b961986f54">Nop.Services.Catalog.IPriceCalculationService.GetFinalPriceAsync</a></div><div class="ttdeci">Task&lt;(decimal priceWithoutDiscounts, decimal finalPrice, decimal appliedDiscountAmount, List&lt; Discount &gt; appliedDiscounts)&gt; GetFinalPriceAsync(Product product, Customer customer, decimal additionalCharge=0, bool includeDiscounts=true, int quantity=1)</div><div class="ttdoc">Gets the final price</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_catalog_1_1_i_price_calculation_service_html_a29b13f3b5062451949d6872e7142f4d3"><div class="ttname"><a href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_calculation_service.html#a29b13f3b5062451949d6872e7142f4d3">Nop.Services.Catalog.IPriceCalculationService.RoundPriceAsync</a></div><div class="ttdeci">Task&lt; decimal &gt; RoundPriceAsync(decimal value, Currency currency=null)</div><div class="ttdoc">Round a product or order total for the currency</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_catalog_1_1_i_price_calculation_service_html_a86e0d71dc4eb1dd561f5fc2f22b619a2"><div class="ttname"><a href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_calculation_service.html#a86e0d71dc4eb1dd561f5fc2f22b619a2">Nop.Services.Catalog.IPriceCalculationService.GetProductAttributeValuePriceAdjustmentAsync</a></div><div class="ttdeci">Task&lt; decimal &gt; GetProductAttributeValuePriceAdjustmentAsync(Product product, ProductAttributeValue value, Customer customer, decimal? productPrice=null)</div><div class="ttdoc">Get a price adjustment of a product attribute value</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog_html_ae31147ccfcee65953b80e4f3966185c3"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#ae31147ccfcee65953b80e4f3966185c3">Nop.Web.Areas.Admin.Models.Catalog.OverriddenPrice</a></div><div class="ttdeci">decimal? OverriddenPrice</div><div class="ttdef"><b>Definition:</b> ProductAttributeCombinationModel.cs:49</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a3e531df3c7195773e37be59a9cdcf8b8">Nop.Services.Orders.ShoppingCartService._priceCalculationService</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a372f60dd105ef1a5a25b7f5e5b5dab2d">Nop.Services.Orders.ShoppingCartService._productAttributeParser</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a5b7323984429448a6e727bff3bff122e">Nop.Services.Orders.ShoppingCartService._shoppingCartSettings</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a5e27a3a0319f903a8f7ff2a6ab0fdfc7">Nop.Core.Domain.Catalog.Product.CustomerEntersPrice</a>, <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_parser.html#ad27e38ed5691f5b646ba450014d5f789">Nop.Services.Catalog.IProductAttributeParser.FindProductAttributeCombinationAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_calculation_service.html#a02e38b71db87fd8e5861c0b961986f54">Nop.Services.Catalog.IPriceCalculationService.GetFinalPriceAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_calculation_service.html#a86e0d71dc4eb1dd561f5fc2f22b619a2">Nop.Services.Catalog.IPriceCalculationService.GetProductAttributeValuePriceAdjustmentAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a6c23a27aead1a64487e3f9ccb3828944">Nop.Services.Orders.ShoppingCartService.GetShoppingCartAsync()</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_settings.html#a5feac87ccfe0b6ed971c40e6e252859a">Nop.Core.Domain.Orders.ShoppingCartSettings.GroupTierPricesForDistinctShoppingCartItems</a>, <a class="el" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Nop.Core.BaseEntity.Id</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a561891299d6853a51615c4fdb64b33f4">Nop.Core.Domain.Catalog.Product.IsRental</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_catalog.html#ae31147ccfcee65953b80e4f3966185c3">Nop.Web.Areas.Admin.Models.Catalog.OverriddenPrice</a>, <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_parser.html#a3c69288e42ecea1f43b95bb5056b43a7">Nop.Services.Catalog.IProductAttributeParser.ParseProductAttributeValuesAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_calculation_service.html#a29b13f3b5062451949d6872e7142f4d3">Nop.Services.Catalog.IPriceCalculationService.RoundPriceAsync()</a> e <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_settings.html#ad835871dd73a4ef185aa18222d78cfa3">Nop.Core.Domain.Orders.ShoppingCartSettings.RoundPricesDuringCalculation</a>.</p>

</div>
</div>
<a id="a33f1fb373af8557f048eb8b962b8bedc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33f1fb373af8557f048eb8b962b8bedc">&#9670;&nbsp;</a></span>GetUnitPriceAsync() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;(decimal unitPrice, decimal discountAmount, List&lt;<a class="el" href="class_nop_1_1_core_1_1_domain_1_1_discounts_1_1_discount.html">Discount</a>&gt; appliedDiscounts)&gt; Nop.Services.Orders.ShoppingCartService.GetUnitPriceAsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html">ShoppingCartItem</a>&#160;</td>
          <td class="paramname"><em>shoppingCartItem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>includeDiscounts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the shopping cart unit price (one item) </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">shoppingCartItem</td><td>The shopping cart item</td></tr>
    <tr><td class="paramname">includeDiscounts</td><td>A value indicating whether include discounts or not for price computation</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the shopping cart unit price (one item). Applied discount amount. Applied discounts </dd></dl>

<p>Implementa <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_shopping_cart_service.html#af024c8e7d05c5971d0aaf11c72ab6f8a">Nop.Services.Orders.IShoppingCartService</a>.</p>
<div class="fragment"><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;        {</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;            <span class="keywordflow">if</span> (shoppingCartItem == <span class="keyword">null</span>)</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(shoppingCartItem));</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160; </div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;            var customer = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a52c79c5dd60cdc432691751a5253e707">_customerService</a>.<a class="code" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#a9d2dc587d116a6f656792c4f4cf22e09">GetCustomerByIdAsync</a>(shoppingCartItem.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#a5fb0677bdd5bc9433ef30dce0274e40b">CustomerId</a>);</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;            var product = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ab2d95d5144b8fb62fe60208501e45384">_productService</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#ab448923cc8826840ac6cd1558a0f2a9d">GetProductByIdAsync</a>(shoppingCartItem.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#a41753f926ec6a9b021c3e7acc76b17e1">ProductId</a>);</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160; </div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;            <span class="keywordflow">return</span> await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a33f1fb373af8557f048eb8b962b8bedc">GetUnitPriceAsync</a>(product,</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;                customer,</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;                shoppingCartItem.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#a71a8f0748f7b942b26bde472fb4b8b80">ShoppingCartType</a>,</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;                shoppingCartItem.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#a328394923ada78196459bdf390f04c93">Quantity</a>,</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;                shoppingCartItem.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#a0634ab891cba98ac1949a864c1d18c3b">AttributesXml</a>,</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;                shoppingCartItem.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#a9cd42d56fdbeb32d00ecc4b4caeec32f">CustomerEnteredPrice</a>,</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;                shoppingCartItem.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#a158f312f76fc7a006130e9392a6b2439">RentalStartDateUtc</a>,</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;                shoppingCartItem.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#aa6b958b00094351097e69bf9a0d910f1">RentalEndDateUtc</a>,</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;                includeDiscounts);</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item_html_a0634ab891cba98ac1949a864c1d18c3b"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#a0634ab891cba98ac1949a864c1d18c3b">Nop.Core.Domain.Orders.ShoppingCartItem.AttributesXml</a></div><div class="ttdeci">string AttributesXml</div><div class="ttdoc">Gets or sets the product attributes in XML format</div><div class="ttdef"><b>Definition:</b> ShoppingCartItem.cs:33</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item_html_a158f312f76fc7a006130e9392a6b2439"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#a158f312f76fc7a006130e9392a6b2439">Nop.Core.Domain.Orders.ShoppingCartItem.RentalStartDateUtc</a></div><div class="ttdeci">DateTime? RentalStartDateUtc</div><div class="ttdoc">Gets or sets the rental product start date (null if it's not a rental product)</div><div class="ttdef"><b>Definition:</b> ShoppingCartItem.cs:48</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item_html_a9cd42d56fdbeb32d00ecc4b4caeec32f"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#a9cd42d56fdbeb32d00ecc4b4caeec32f">Nop.Core.Domain.Orders.ShoppingCartItem.CustomerEnteredPrice</a></div><div class="ttdeci">decimal CustomerEnteredPrice</div><div class="ttdoc">Gets or sets the price enter by a customer</div><div class="ttdef"><b>Definition:</b> ShoppingCartItem.cs:38</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item_html_aa6b958b00094351097e69bf9a0d910f1"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#aa6b958b00094351097e69bf9a0d910f1">Nop.Core.Domain.Orders.ShoppingCartItem.RentalEndDateUtc</a></div><div class="ttdeci">DateTime? RentalEndDateUtc</div><div class="ttdoc">Gets or sets the rental product end date (null if it's not a rental product)</div><div class="ttdef"><b>Definition:</b> ShoppingCartItem.cs:53</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a52c79c5dd60cdc432691751a5253e707">Nop.Services.Orders.ShoppingCartService._customerService</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ab2d95d5144b8fb62fe60208501e45384">Nop.Services.Orders.ShoppingCartService._productService</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#a0634ab891cba98ac1949a864c1d18c3b">Nop.Core.Domain.Orders.ShoppingCartItem.AttributesXml</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#a9cd42d56fdbeb32d00ecc4b4caeec32f">Nop.Core.Domain.Orders.ShoppingCartItem.CustomerEnteredPrice</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#a5fb0677bdd5bc9433ef30dce0274e40b">Nop.Core.Domain.Orders.ShoppingCartItem.CustomerId</a>, <a class="el" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#a9d2dc587d116a6f656792c4f4cf22e09">Nop.Services.Customers.ICustomerService.GetCustomerByIdAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#ab448923cc8826840ac6cd1558a0f2a9d">Nop.Services.Catalog.IProductService.GetProductByIdAsync()</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#a41753f926ec6a9b021c3e7acc76b17e1">Nop.Core.Domain.Orders.ShoppingCartItem.ProductId</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#a328394923ada78196459bdf390f04c93">Nop.Core.Domain.Orders.ShoppingCartItem.Quantity</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#aa6b958b00094351097e69bf9a0d910f1">Nop.Core.Domain.Orders.ShoppingCartItem.RentalEndDateUtc</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#a158f312f76fc7a006130e9392a6b2439">Nop.Core.Domain.Orders.ShoppingCartItem.RentalStartDateUtc</a> e <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#a71a8f0748f7b942b26bde472fb4b8b80">Nop.Core.Domain.Orders.ShoppingCartItem.ShoppingCartType</a>.</p>

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#accf2c3e3996897037c5cda44250997a2">Nop.Services.Orders.ShoppingCartService.GetSubTotalAsync()</a>.</p>

</div>
</div>
<a id="aef8769f85fef3d4981a9a33cec72d32f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef8769f85fef3d4981a9a33cec72d32f">&#9670;&nbsp;</a></span>IsCustomerShoppingCartEmpty()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool Nop.Services.Orders.ShoppingCartService.IsCustomerShoppingCartEmpty </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html">Customer</a>&#160;</td>
          <td class="paramname"><em>customer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets a value indicating whether customer shopping cart is empty </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">customer</td><td>Customer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>Result</dd></dl>
<div class="fragment"><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        {</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            <span class="keywordflow">return</span> !<a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a25e71ccca6735556ec04ee5fbc5c3016">_sciRepository</a>.<a class="code" href="interface_nop_1_1_data_1_1_i_repository.html#a60d582452490ce8497c2808acbab5f6c">Table</a>.Any(sci =&gt; sci.CustomerId == customer.<a class="code" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Id</a>);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a25e71ccca6735556ec04ee5fbc5c3016">Nop.Services.Orders.ShoppingCartService._sciRepository</a>, <a class="el" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Nop.Core.BaseEntity.Id</a> e <a class="el" href="interface_nop_1_1_data_1_1_i_repository.html#a60d582452490ce8497c2808acbab5f6c">Nop.Data.IRepository&lt; TEntity &gt;.Table</a>.</p>

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad7cabaa8f4aa69f9dfd466f1b77edff0">Nop.Services.Orders.ShoppingCartService.AddToCartAsync()</a> e <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a28f22e70f1e84ad7a35db3c7f0289397">Nop.Services.Orders.ShoppingCartService.DeleteShoppingCartItemAsync()</a>.</p>

</div>
</div>
<a id="ac0019be3569e60b586d0884cfca66667"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0019be3569e60b586d0884cfca66667">&#9670;&nbsp;</a></span>MigrateShoppingCartAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a> Nop.Services.Orders.ShoppingCartService.MigrateShoppingCartAsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html">Customer</a>&#160;</td>
          <td class="paramname"><em>fromCustomer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html">Customer</a>&#160;</td>
          <td class="paramname"><em>toCustomer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>includeCouponCodes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Migrate shopping cart </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">fromCustomer</td><td>From customer</td></tr>
    <tr><td class="paramname">toCustomer</td><td>To customer</td></tr>
    <tr><td class="paramname">includeCouponCodes</td><td>A value indicating whether to coupon codes (discount and gift card) should be also re-applied</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation</dd></dl>

<p>Implementa <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_shopping_cart_service.html#a96330a6e387111fab64aa28d8a35cae5">Nop.Services.Orders.IShoppingCartService</a>.</p>
<div class="fragment"><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;        {</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;            <span class="keywordflow">if</span> (fromCustomer == <span class="keyword">null</span>)</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(fromCustomer));</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;            <span class="keywordflow">if</span> (toCustomer == <span class="keyword">null</span>)</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(toCustomer));</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160; </div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;            <span class="keywordflow">if</span> (fromCustomer.<a class="code" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Id</a> == toCustomer.<a class="code" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Id</a>)</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;                <span class="keywordflow">return</span>; <span class="comment">//the same customer</span></div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160; </div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;            <span class="comment">//shopping cart items</span></div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;            var fromCart = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a6c23a27aead1a64487e3f9ccb3828944">GetShoppingCartAsync</a>(fromCustomer);</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160; </div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;            <span class="keywordflow">for</span> (var i = 0; i &lt; fromCart.Count; i++)</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;            {</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;                var sci = fromCart[i];</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;                var product = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ab2d95d5144b8fb62fe60208501e45384">_productService</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#ab448923cc8826840ac6cd1558a0f2a9d">GetProductByIdAsync</a>(sci.ProductId);</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160; </div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;                await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad7cabaa8f4aa69f9dfd466f1b77edff0">AddToCartAsync</a>(toCustomer, product, sci.ShoppingCartType, sci.StoreId,</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;                    sci.AttributesXml, sci.CustomerEnteredPrice,</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;                    sci.RentalStartDateUtc, sci.RentalEndDateUtc, sci.Quantity, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;            }</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160; </div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;            <span class="keywordflow">for</span> (var i = 0; i &lt; fromCart.Count; i++)</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;            {</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;                var sci = fromCart[i];</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;                await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a28f22e70f1e84ad7a35db3c7f0289397">DeleteShoppingCartItemAsync</a>(sci);</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;            }</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160; </div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;            <span class="comment">//copy discount and gift card coupon codes</span></div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;            <span class="keywordflow">if</span> (includeCouponCodes)</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;            {</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;                <span class="comment">//discount</span></div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;                <span class="keywordflow">foreach</span> (var code <span class="keywordflow">in</span> await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a52c79c5dd60cdc432691751a5253e707">_customerService</a>.<a class="code" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#abb64c4c0e3d32b94a97081e354b9ab6e">ParseAppliedDiscountCouponCodesAsync</a>(fromCustomer))</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;                    await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a52c79c5dd60cdc432691751a5253e707">_customerService</a>.<a class="code" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#a3f2d8955c52a419fde21927c5663f898">ApplyDiscountCouponCodeAsync</a>(toCustomer, code);</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160; </div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;                <span class="comment">//gift card</span></div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;                <span class="keywordflow">foreach</span> (var code <span class="keywordflow">in</span> await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a52c79c5dd60cdc432691751a5253e707">_customerService</a>.<a class="code" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#a81be156b2d319f153dc9ff9173c163df">ParseAppliedGiftCardCouponCodesAsync</a>(fromCustomer))</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;                   await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a52c79c5dd60cdc432691751a5253e707">_customerService</a>.<a class="code" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#a68e980c8a27b794d1ec822f268277b9c">ApplyGiftCardCouponCodeAsync</a>(toCustomer, code);</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160; </div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;                <span class="comment">//save customer</span></div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;                await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a52c79c5dd60cdc432691751a5253e707">_customerService</a>.<a class="code" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#a5e3102e7df9c920f1d3aa72f26502fd4">UpdateCustomerAsync</a>(toCustomer);</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;            }</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160; </div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;            <span class="comment">//move selected checkout attributes</span></div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;            var checkoutAttributesXml = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad4535269f67ab87a38dbb015a5e32812">_genericAttributeService</a>.GetAttributeAsync&lt;<span class="keywordtype">string</span>&gt;(fromCustomer, <a class="code" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html">NopCustomerDefaults</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html#a7fad329b67b90c06f515599945aa20ef">CheckoutAttributes</a>, (await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#aba42c8b71d4f0534e4656e6f01577185">_storeContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_store_context.html#ab98a28cdb13e78df5beea58801148f19">GetCurrentStoreAsync</a>()).<a class="code" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a968ff99d09af9aec2bb20d13d463c147">Id</a>);</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;            await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad4535269f67ab87a38dbb015a5e32812">_genericAttributeService</a>.SaveAttributeAsync(toCustomer, <a class="code" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html">NopCustomerDefaults</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html#a7fad329b67b90c06f515599945aa20ef">CheckoutAttributes</a>, checkoutAttributesXml, (await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#aba42c8b71d4f0534e4656e6f01577185">_storeContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_store_context.html#ab98a28cdb13e78df5beea58801148f19">GetCurrentStoreAsync</a>()).Id);</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;        }</div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_customers_1_1_i_customer_service_html_a3f2d8955c52a419fde21927c5663f898"><div class="ttname"><a href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#a3f2d8955c52a419fde21927c5663f898">Nop.Services.Customers.ICustomerService.ApplyDiscountCouponCodeAsync</a></div><div class="ttdeci">Task ApplyDiscountCouponCodeAsync(Customer customer, string couponCode)</div><div class="ttdoc">Adds a coupon code</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_customers_1_1_i_customer_service_html_a68e980c8a27b794d1ec822f268277b9c"><div class="ttname"><a href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#a68e980c8a27b794d1ec822f268277b9c">Nop.Services.Customers.ICustomerService.ApplyGiftCardCouponCodeAsync</a></div><div class="ttdeci">Task ApplyGiftCardCouponCodeAsync(Customer customer, string couponCode)</div><div class="ttdoc">Adds a coupon code</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_customers_1_1_i_customer_service_html_a81be156b2d319f153dc9ff9173c163df"><div class="ttname"><a href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#a81be156b2d319f153dc9ff9173c163df">Nop.Services.Customers.ICustomerService.ParseAppliedGiftCardCouponCodesAsync</a></div><div class="ttdeci">Task&lt; string[]&gt; ParseAppliedGiftCardCouponCodesAsync(Customer customer)</div><div class="ttdoc">Gets coupon codes</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_customers_1_1_i_customer_service_html_abb64c4c0e3d32b94a97081e354b9ab6e"><div class="ttname"><a href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#abb64c4c0e3d32b94a97081e354b9ab6e">Nop.Services.Customers.ICustomerService.ParseAppliedDiscountCouponCodesAsync</a></div><div class="ttdeci">Task&lt; string[]&gt; ParseAppliedDiscountCouponCodesAsync(Customer customer)</div><div class="ttdoc">Gets coupon codes</div></div>
<div class="ttc" id="anamespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders_html_a968ff99d09af9aec2bb20d13d463c147"><div class="ttname"><a href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a968ff99d09af9aec2bb20d13d463c147">Nop.Web.Areas.Admin.Models.Orders.Id</a></div><div class="ttdeci">override int Id</div><div class="ttdef"><b>Definition:</b> OrderModel.cs:39</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a52c79c5dd60cdc432691751a5253e707">Nop.Services.Orders.ShoppingCartService._customerService</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad4535269f67ab87a38dbb015a5e32812">Nop.Services.Orders.ShoppingCartService._genericAttributeService</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ab2d95d5144b8fb62fe60208501e45384">Nop.Services.Orders.ShoppingCartService._productService</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#aba42c8b71d4f0534e4656e6f01577185">Nop.Services.Orders.ShoppingCartService._storeContext</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad7cabaa8f4aa69f9dfd466f1b77edff0">Nop.Services.Orders.ShoppingCartService.AddToCartAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#a3f2d8955c52a419fde21927c5663f898">Nop.Services.Customers.ICustomerService.ApplyDiscountCouponCodeAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#a68e980c8a27b794d1ec822f268277b9c">Nop.Services.Customers.ICustomerService.ApplyGiftCardCouponCodeAsync()</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html#a7fad329b67b90c06f515599945aa20ef">Nop.Core.Domain.Customers.NopCustomerDefaults.CheckoutAttributes</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a28f22e70f1e84ad7a35db3c7f0289397">Nop.Services.Orders.ShoppingCartService.DeleteShoppingCartItemAsync()</a>, <a class="el" href="interface_nop_1_1_core_1_1_i_store_context.html#ab98a28cdb13e78df5beea58801148f19">Nop.Core.IStoreContext.GetCurrentStoreAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#ab448923cc8826840ac6cd1558a0f2a9d">Nop.Services.Catalog.IProductService.GetProductByIdAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a6c23a27aead1a64487e3f9ccb3828944">Nop.Services.Orders.ShoppingCartService.GetShoppingCartAsync()</a>, <a class="el" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Nop.Core.BaseEntity.Id</a>, <a class="el" href="namespace_nop_1_1_web_1_1_areas_1_1_admin_1_1_models_1_1_orders.html#a968ff99d09af9aec2bb20d13d463c147">Nop.Web.Areas.Admin.Models.Orders.Id</a>, <a class="el" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#abb64c4c0e3d32b94a97081e354b9ab6e">Nop.Services.Customers.ICustomerService.ParseAppliedDiscountCouponCodesAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#a81be156b2d319f153dc9ff9173c163df">Nop.Services.Customers.ICustomerService.ParseAppliedGiftCardCouponCodesAsync()</a> e <a class="el" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#a5e3102e7df9c920f1d3aa72f26502fd4">Nop.Services.Customers.ICustomerService.UpdateCustomerAsync()</a>.</p>

</div>
</div>
<a id="af73c4cca35bf41700f7cc97ba0324cd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af73c4cca35bf41700f7cc97ba0324cd2">&#9670;&nbsp;</a></span>ShoppingCartIsRecurringAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;bool&gt; Nop.Services.Orders.ShoppingCartService.ShoppingCartIsRecurringAsync </td>
          <td>(</td>
          <td class="paramtype">IList&lt; <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html">ShoppingCartItem</a> &gt;&#160;</td>
          <td class="paramname"><em>shoppingCart</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets a value indicating whether shopping cart is recurring </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">shoppingCart</td><td>Shopping cart</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the result </dd></dl>

<p>Implementa <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_shopping_cart_service.html#a3b580677af40869cbfe3f61aff6faa20">Nop.Services.Orders.IShoppingCartService</a>.</p>
<div class="fragment"><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;        {</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;            <span class="keywordflow">if</span> (shoppingCart is <span class="keyword">null</span>)</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(shoppingCart));</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160; </div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;            <span class="keywordflow">if</span> (!shoppingCart.Any())</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160; </div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;            <span class="keywordflow">return</span> await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ab2d95d5144b8fb62fe60208501e45384">_productService</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#afad3e68d864726a6b9178bd795909b60">HasAnyRecurringProductAsync</a>(shoppingCart.Select(sci =&gt; sci.ProductId).ToArray());</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;        }</div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_catalog_1_1_i_product_service_html_afad3e68d864726a6b9178bd795909b60"><div class="ttname"><a href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#afad3e68d864726a6b9178bd795909b60">Nop.Services.Catalog.IProductService.HasAnyRecurringProductAsync</a></div><div class="ttdeci">Task&lt; bool &gt; HasAnyRecurringProductAsync(int[] productIds)</div><div class="ttdoc">Gets the value whether the sequence contains recurring products</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ab2d95d5144b8fb62fe60208501e45384">Nop.Services.Orders.ShoppingCartService._productService</a> e <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#afad3e68d864726a6b9178bd795909b60">Nop.Services.Catalog.IProductService.HasAnyRecurringProductAsync()</a>.</p>

</div>
</div>
<a id="a1550bc8798c8a37e6ecbd41d3306ee26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1550bc8798c8a37e6ecbd41d3306ee26">&#9670;&nbsp;</a></span>ShoppingCartItemIsEqualAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;bool&gt; Nop.Services.Orders.ShoppingCartService.ShoppingCartItemIsEqualAsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html">ShoppingCartItem</a>&#160;</td>
          <td class="paramname"><em>shoppingCartItem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html">Product</a>&#160;</td>
          <td class="paramname"><em>product</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>attributesXml</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">decimal&#160;</td>
          <td class="paramname"><em>customerEnteredPrice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DateTime?&#160;</td>
          <td class="paramname"><em>rentalStartDate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DateTime?&#160;</td>
          <td class="paramname"><em>rentalEndDate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Determine if the shopping cart item is the same as the one being compared </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">shoppingCartItem</td><td>Shopping cart item</td></tr>
    <tr><td class="paramname">product</td><td>Product</td></tr>
    <tr><td class="paramname">attributesXml</td><td>Attributes in XML format</td></tr>
    <tr><td class="paramname">customerEnteredPrice</td><td>Price entered by a customer</td></tr>
    <tr><td class="paramname">rentalStartDate</td><td>Rental start date</td></tr>
    <tr><td class="paramname">rentalEndDate</td><td>Rental end date</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the shopping cart item is equal </dd></dl>
<div class="fragment"><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            <span class="keywordflow">if</span> (shoppingCartItem.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#a41753f926ec6a9b021c3e7acc76b17e1">ProductId</a> != product.<a class="code" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Id</a>)</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160; </div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            <span class="comment">//attributes</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            var attributesEqual = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a372f60dd105ef1a5a25b7f5e5b5dab2d">_productAttributeParser</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_parser.html#ad614c89bfb237a0b6725d3824deda9a1">AreProductAttributesEqualAsync</a>(shoppingCartItem.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#a0634ab891cba98ac1949a864c1d18c3b">AttributesXml</a>, attributesXml, <span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            <span class="keywordflow">if</span> (!attributesEqual)</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160; </div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            <span class="comment">//gift cards</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            <span class="keywordflow">if</span> (product.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a8d70485c3203a16825ae825c95213251">IsGiftCard</a>)</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            {</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a372f60dd105ef1a5a25b7f5e5b5dab2d">_productAttributeParser</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_parser.html#aa6709c214a351f742b21fea2a724ebc0">GetGiftCardAttribute</a>(attributesXml, out var giftCardRecipientName1, out var _, out var giftCardSenderName1, out var _, out var _);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160; </div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a372f60dd105ef1a5a25b7f5e5b5dab2d">_productAttributeParser</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_parser.html#aa6709c214a351f742b21fea2a724ebc0">GetGiftCardAttribute</a>(shoppingCartItem.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#a0634ab891cba98ac1949a864c1d18c3b">AttributesXml</a>, out var giftCardRecipientName2, out var _, out var giftCardSenderName2, out var _, out var _);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; </div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                var giftCardsAreEqual = giftCardRecipientName1.Equals(giftCardRecipientName2, StringComparison.InvariantCultureIgnoreCase)</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                    &amp;&amp; giftCardSenderName1.Equals(giftCardSenderName2, StringComparison.InvariantCultureIgnoreCase);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                <span class="keywordflow">if</span> (!giftCardsAreEqual)</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;            }</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160; </div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;            <span class="comment">//price is the same (for products which require customers to enter a price)</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;            <span class="keywordflow">if</span> (product.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a5e27a3a0319f903a8f7ff2a6ab0fdfc7">CustomerEntersPrice</a>)</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;            {</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                <span class="comment">//we use rounding to eliminate errors associated with storing real numbers in memory when comparing</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                var customerEnteredPricesEqual = Math.Round(shoppingCartItem.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#a9cd42d56fdbeb32d00ecc4b4caeec32f">CustomerEnteredPrice</a>, 2) == Math.Round(customerEnteredPrice, 2);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                <span class="keywordflow">if</span> (!customerEnteredPricesEqual)</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;            }</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            </div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            <span class="keywordflow">if</span> (!product.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a561891299d6853a51615c4fdb64b33f4">IsRental</a>) </div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160; </div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;            <span class="comment">//rental products</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;            var rentalInfoEqual = shoppingCartItem.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#a158f312f76fc7a006130e9392a6b2439">RentalStartDateUtc</a> == rentalStartDate &amp;&amp; shoppingCartItem.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#aa6b958b00094351097e69bf9a0d910f1">RentalEndDateUtc</a> == rentalEndDate;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;            </div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;            <span class="keywordflow">return</span> rentalInfoEqual;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        }</div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_parser_html_ad614c89bfb237a0b6725d3824deda9a1"><div class="ttname"><a href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_parser.html#ad614c89bfb237a0b6725d3824deda9a1">Nop.Services.Catalog.IProductAttributeParser.AreProductAttributesEqualAsync</a></div><div class="ttdeci">Task&lt; bool &gt; AreProductAttributesEqualAsync(string attributesXml1, string attributesXml2, bool ignoreNonCombinableAttributes, bool ignoreQuantity=true)</div><div class="ttdoc">Are attributes equal</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a372f60dd105ef1a5a25b7f5e5b5dab2d">Nop.Services.Orders.ShoppingCartService._productAttributeParser</a>, <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_parser.html#ad614c89bfb237a0b6725d3824deda9a1">Nop.Services.Catalog.IProductAttributeParser.AreProductAttributesEqualAsync()</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#a0634ab891cba98ac1949a864c1d18c3b">Nop.Core.Domain.Orders.ShoppingCartItem.AttributesXml</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#a9cd42d56fdbeb32d00ecc4b4caeec32f">Nop.Core.Domain.Orders.ShoppingCartItem.CustomerEnteredPrice</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a5e27a3a0319f903a8f7ff2a6ab0fdfc7">Nop.Core.Domain.Catalog.Product.CustomerEntersPrice</a>, <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_parser.html#aa6709c214a351f742b21fea2a724ebc0">Nop.Services.Catalog.IProductAttributeParser.GetGiftCardAttribute()</a>, <a class="el" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Nop.Core.BaseEntity.Id</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a8d70485c3203a16825ae825c95213251">Nop.Core.Domain.Catalog.Product.IsGiftCard</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_product.html#a561891299d6853a51615c4fdb64b33f4">Nop.Core.Domain.Catalog.Product.IsRental</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#a41753f926ec6a9b021c3e7acc76b17e1">Nop.Core.Domain.Orders.ShoppingCartItem.ProductId</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#aa6b958b00094351097e69bf9a0d910f1">Nop.Core.Domain.Orders.ShoppingCartItem.RentalEndDateUtc</a> e <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html#a158f312f76fc7a006130e9392a6b2439">Nop.Core.Domain.Orders.ShoppingCartItem.RentalStartDateUtc</a>.</p>

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a9b6226371de5a7b6a822050f1bc9cbd0">Nop.Services.Orders.ShoppingCartService.FindShoppingCartItemInTheCartAsync()</a>.</p>

</div>
</div>
<a id="afd712bf30d35b7e7145252f2ca818230"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd712bf30d35b7e7145252f2ca818230">&#9670;&nbsp;</a></span>ShoppingCartRequiresShippingAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;bool&gt; Nop.Services.Orders.ShoppingCartService.ShoppingCartRequiresShippingAsync </td>
          <td>(</td>
          <td class="paramtype">IList&lt; <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html">ShoppingCartItem</a> &gt;&#160;</td>
          <td class="paramname"><em>shoppingCart</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Indicates whether the shopping cart requires shipping </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">shoppingCart</td><td>Shopping cart</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the rue if the shopping cart requires shipping; otherwise, false. </dd></dl>

<p>Implementa <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_shopping_cart_service.html#a7be2776062568ed611d05f199573ee70">Nop.Services.Orders.IShoppingCartService</a>.</p>
<div class="fragment"><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;        {</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;            <span class="keywordflow">return</span> await shoppingCart.AnyAwaitAsync(async shoppingCartItem =&gt; await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a76a90cdde2ce1a125cafb9c5386b2a5d">_shippingService</a>.<a class="code" href="interface_nop_1_1_services_1_1_shipping_1_1_i_shipping_service.html#a2c248d49f9ec539349d5c99cc8008b0d">IsShipEnabledAsync</a>(shoppingCartItem));</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;        }</div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_shipping_1_1_i_shipping_service_html_a2c248d49f9ec539349d5c99cc8008b0d"><div class="ttname"><a href="interface_nop_1_1_services_1_1_shipping_1_1_i_shipping_service.html#a2c248d49f9ec539349d5c99cc8008b0d">Nop.Services.Shipping.IShippingService.IsShipEnabledAsync</a></div><div class="ttdeci">Task&lt; bool &gt; IsShipEnabledAsync(ShoppingCartItem shoppingCartItem)</div><div class="ttdoc">Whether the shopping cart item is ship enabled</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a76a90cdde2ce1a125cafb9c5386b2a5d">Nop.Services.Orders.ShoppingCartService._shippingService</a> e <a class="el" href="interface_nop_1_1_services_1_1_shipping_1_1_i_shipping_service.html#a2c248d49f9ec539349d5c99cc8008b0d">Nop.Services.Shipping.IShippingService.IsShipEnabledAsync()</a>.</p>

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a3ea5e98e73dbee1fc30a99a35b668673">Nop.Services.Orders.ShoppingCartService.GetShoppingCartWarningsAsync()</a>.</p>

</div>
</div>
<a id="a7ba3d22fe0e5d6bce2c89f53dec91798"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ba3d22fe0e5d6bce2c89f53dec91798">&#9670;&nbsp;</a></span>UpdateShoppingCartItemAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;IList&lt;string&gt; &gt; Nop.Services.Orders.ShoppingCartService.UpdateShoppingCartItemAsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html">Customer</a>&#160;</td>
          <td class="paramname"><em>customer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>shoppingCartItemId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>attributesXml</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">decimal&#160;</td>
          <td class="paramname"><em>customerEnteredPrice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DateTime?&#160;</td>
          <td class="paramname"><em>rentalStartDate</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DateTime?&#160;</td>
          <td class="paramname"><em>rentalEndDate</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>quantity</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>resetCheckoutData</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updates the shopping cart item </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">customer</td><td>Customer</td></tr>
    <tr><td class="paramname">shoppingCartItemId</td><td>Shopping cart item identifier</td></tr>
    <tr><td class="paramname">attributesXml</td><td>Attributes in XML format</td></tr>
    <tr><td class="paramname">customerEnteredPrice</td><td>New customer entered price</td></tr>
    <tr><td class="paramname">rentalStartDate</td><td>Rental start date</td></tr>
    <tr><td class="paramname">rentalEndDate</td><td>Rental end date</td></tr>
    <tr><td class="paramname">quantity</td><td>New shopping cart item quantity</td></tr>
    <tr><td class="paramname">resetCheckoutData</td><td>A value indicating whether to reset checkout data</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the warnings </dd></dl>

<p>Implementa <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_shopping_cart_service.html#a9195b543ae0e10db42e11486b0b41d5a">Nop.Services.Orders.IShoppingCartService</a>.</p>
<div class="fragment"><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;        {</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;            <span class="keywordflow">if</span> (customer == <span class="keyword">null</span>)</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(customer));</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160; </div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;            var warnings = <span class="keyword">new</span> List&lt;string&gt;();</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160; </div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;            var shoppingCartItem = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a25e71ccca6735556ec04ee5fbc5c3016">_sciRepository</a>.<a class="code" href="interface_nop_1_1_data_1_1_i_repository.html#a83ceffb612cb7d97b1b0518a5fea707c">GetByIdAsync</a>(shoppingCartItemId, cache =&gt; <span class="keywordflow">default</span>);</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160; </div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;            <span class="keywordflow">if</span> (shoppingCartItem == <span class="keyword">null</span> || shoppingCartItem.CustomerId != customer.<a class="code" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Id</a>)</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;                <span class="keywordflow">return</span> warnings;</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160; </div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;            <span class="keywordflow">if</span> (resetCheckoutData)</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;            {</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;                <span class="comment">//reset checkout data</span></div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;                await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a52c79c5dd60cdc432691751a5253e707">_customerService</a>.<a class="code" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#a045bcbe8b8e6766c811b1097f91c6606">ResetCheckoutDataAsync</a>(customer, shoppingCartItem.StoreId);</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;            }</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160; </div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;            var product = await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ab2d95d5144b8fb62fe60208501e45384">_productService</a>.<a class="code" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#ab448923cc8826840ac6cd1558a0f2a9d">GetProductByIdAsync</a>(shoppingCartItem.ProductId);</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160; </div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;            <span class="keywordflow">if</span> (quantity &gt; 0)</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;            {</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;                <span class="comment">//check warnings</span></div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;                warnings.AddRange(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad6caa0f42edaa9da18ff5c5868c4cd01">GetShoppingCartItemWarningsAsync</a>(customer, shoppingCartItem.ShoppingCartType,</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;                    product, shoppingCartItem.StoreId,</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;                    attributesXml, customerEnteredPrice,</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;                    rentalStartDate, rentalEndDate, quantity, <span class="keyword">false</span>, shoppingCartItemId));</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;                <span class="keywordflow">if</span> (warnings.Any())</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;                    <span class="keywordflow">return</span> warnings;</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160; </div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;                <span class="comment">//if everything is OK, then update a shopping cart item</span></div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;                shoppingCartItem.Quantity = quantity;</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;                shoppingCartItem.AttributesXml = attributesXml;</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;                shoppingCartItem.CustomerEnteredPrice = customerEnteredPrice;</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;                shoppingCartItem.RentalStartDateUtc = rentalStartDate;</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;                shoppingCartItem.RentalEndDateUtc = rentalEndDate;</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;                shoppingCartItem.UpdatedOnUtc = DateTime.UtcNow;</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160; </div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;                await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a25e71ccca6735556ec04ee5fbc5c3016">_sciRepository</a>.<a class="code" href="interface_nop_1_1_data_1_1_i_repository.html#a622cf52fafe306533584a002af92ebc0">UpdateAsync</a>(shoppingCartItem);</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;                await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a52c79c5dd60cdc432691751a5253e707">_customerService</a>.<a class="code" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#a5e3102e7df9c920f1d3aa72f26502fd4">UpdateCustomerAsync</a>(customer);</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;            }</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;            {</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;                <span class="comment">//check warnings for required products</span></div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;                warnings.AddRange(await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#acdcdbd0deeeda2531704b1d47ccc9f84">GetRequiredProductWarningsAsync</a>(customer, shoppingCartItem.ShoppingCartType,</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;                    product, shoppingCartItem.StoreId, quantity, <span class="keyword">false</span>, shoppingCartItemId));</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;                <span class="keywordflow">if</span> (warnings.Any())</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;                    <span class="keywordflow">return</span> warnings;</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160; </div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;                <span class="comment">//delete a shopping cart item</span></div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;                await <a class="code" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a28f22e70f1e84ad7a35db3c7f0289397">DeleteShoppingCartItemAsync</a>(shoppingCartItem, resetCheckoutData, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;            }</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160; </div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;            <span class="keywordflow">return</span> warnings;</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;        }</div>
<div class="ttc" id="ainterface_nop_1_1_data_1_1_i_repository_html_a83ceffb612cb7d97b1b0518a5fea707c"><div class="ttname"><a href="interface_nop_1_1_data_1_1_i_repository.html#a83ceffb612cb7d97b1b0518a5fea707c">Nop.Data.IRepository.GetByIdAsync</a></div><div class="ttdeci">Task&lt; TEntity &gt; GetByIdAsync(int? id, Func&lt; IStaticCacheManager, CacheKey &gt; getCacheKey=null, bool includeDeleted=true)</div><div class="ttdoc">Get the entity entry</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a52c79c5dd60cdc432691751a5253e707">Nop.Services.Orders.ShoppingCartService._customerService</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ab2d95d5144b8fb62fe60208501e45384">Nop.Services.Orders.ShoppingCartService._productService</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a25e71ccca6735556ec04ee5fbc5c3016">Nop.Services.Orders.ShoppingCartService._sciRepository</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a28f22e70f1e84ad7a35db3c7f0289397">Nop.Services.Orders.ShoppingCartService.DeleteShoppingCartItemAsync()</a>, <a class="el" href="interface_nop_1_1_data_1_1_i_repository.html#a83ceffb612cb7d97b1b0518a5fea707c">Nop.Data.IRepository&lt; TEntity &gt;.GetByIdAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html#ab448923cc8826840ac6cd1558a0f2a9d">Nop.Services.Catalog.IProductService.GetProductByIdAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#acdcdbd0deeeda2531704b1d47ccc9f84">Nop.Services.Orders.ShoppingCartService.GetRequiredProductWarningsAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad6caa0f42edaa9da18ff5c5868c4cd01">Nop.Services.Orders.ShoppingCartService.GetShoppingCartItemWarningsAsync()</a>, <a class="el" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Nop.Core.BaseEntity.Id</a>, <a class="el" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#a045bcbe8b8e6766c811b1097f91c6606">Nop.Services.Customers.ICustomerService.ResetCheckoutDataAsync()</a>, <a class="el" href="interface_nop_1_1_data_1_1_i_repository.html#a622cf52fafe306533584a002af92ebc0">Nop.Data.IRepository&lt; TEntity &gt;.UpdateAsync()</a> e <a class="el" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#a5e3102e7df9c920f1d3aa72f26502fd4">Nop.Services.Customers.ICustomerService.UpdateCustomerAsync()</a>.</p>

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a28f22e70f1e84ad7a35db3c7f0289397">Nop.Services.Orders.ShoppingCartService.DeleteShoppingCartItemAsync()</a>.</p>

</div>
</div>
<h2 class="groupheader">Documentação dos dados membro</h2>
<a id="a4647e7e35d4c4f74c84068380a3a7bfc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4647e7e35d4c4f74c84068380a3a7bfc">&#9670;&nbsp;</a></span>_aclService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_security_1_1_i_acl_service.html">IAclService</a> Nop.Services.Orders.ShoppingCartService._aclService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a878c99e09eb05fb192ef7f94213ef50f">Nop.Services.Orders.ShoppingCartService.GetStandardWarningsAsync()</a> e <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a87ff4946e0d250eccc54d61cc1cc7e1b">Nop.Services.Orders.ShoppingCartService.ShoppingCartService()</a>.</p>

</div>
</div>
<a id="af3f1dbcd55c8025caf11200b51f8eed3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3f1dbcd55c8025caf11200b51f8eed3">&#9670;&nbsp;</a></span>_actionContextAccessor</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly IActionContextAccessor Nop.Services.Orders.ShoppingCartService._actionContextAccessor</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#acdcdbd0deeeda2531704b1d47ccc9f84">Nop.Services.Orders.ShoppingCartService.GetRequiredProductWarningsAsync()</a> e <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a87ff4946e0d250eccc54d61cc1cc7e1b">Nop.Services.Orders.ShoppingCartService.ShoppingCartService()</a>.</p>

</div>
</div>
<a id="aeb27a5fac8fae43af58fff5386f62b23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb27a5fac8fae43af58fff5386f62b23">&#9670;&nbsp;</a></span>_catalogSettings</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_catalog_1_1_catalog_settings.html">CatalogSettings</a> Nop.Services.Orders.ShoppingCartService._catalogSettings</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a28f22e70f1e84ad7a35db3c7f0289397">Nop.Services.Orders.ShoppingCartService.DeleteShoppingCartItemAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#acdcdbd0deeeda2531704b1d47ccc9f84">Nop.Services.Orders.ShoppingCartService.GetRequiredProductWarningsAsync()</a> e <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a87ff4946e0d250eccc54d61cc1cc7e1b">Nop.Services.Orders.ShoppingCartService.ShoppingCartService()</a>.</p>

</div>
</div>
<a id="a1924da9d46f2502558968763fe8523a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1924da9d46f2502558968763fe8523a3">&#9670;&nbsp;</a></span>_checkoutAttributeParser</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_checkout_attribute_parser.html">ICheckoutAttributeParser</a> Nop.Services.Orders.ShoppingCartService._checkoutAttributeParser</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a28f22e70f1e84ad7a35db3c7f0289397">Nop.Services.Orders.ShoppingCartService.DeleteShoppingCartItemAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a3ea5e98e73dbee1fc30a99a35b668673">Nop.Services.Orders.ShoppingCartService.GetShoppingCartWarningsAsync()</a> e <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a87ff4946e0d250eccc54d61cc1cc7e1b">Nop.Services.Orders.ShoppingCartService.ShoppingCartService()</a>.</p>

</div>
</div>
<a id="a745a676062db2cc35670b91611c4d080"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a745a676062db2cc35670b91611c4d080">&#9670;&nbsp;</a></span>_checkoutAttributeService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_orders_1_1_i_checkout_attribute_service.html">ICheckoutAttributeService</a> Nop.Services.Orders.ShoppingCartService._checkoutAttributeService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a3ea5e98e73dbee1fc30a99a35b668673">Nop.Services.Orders.ShoppingCartService.GetShoppingCartWarningsAsync()</a> e <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a87ff4946e0d250eccc54d61cc1cc7e1b">Nop.Services.Orders.ShoppingCartService.ShoppingCartService()</a>.</p>

</div>
</div>
<a id="af1558171141cf8b791afdb7dee65cc37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1558171141cf8b791afdb7dee65cc37">&#9670;&nbsp;</a></span>_currencyService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_directory_1_1_i_currency_service.html">ICurrencyService</a> Nop.Services.Orders.ShoppingCartService._currencyService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a878c99e09eb05fb192ef7f94213ef50f">Nop.Services.Orders.ShoppingCartService.GetStandardWarningsAsync()</a> e <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a87ff4946e0d250eccc54d61cc1cc7e1b">Nop.Services.Orders.ShoppingCartService.ShoppingCartService()</a>.</p>

</div>
</div>
<a id="a52c79c5dd60cdc432691751a5253e707"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52c79c5dd60cdc432691751a5253e707">&#9670;&nbsp;</a></span>_customerService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html">ICustomerService</a> Nop.Services.Orders.ShoppingCartService._customerService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad7cabaa8f4aa69f9dfd466f1b77edff0">Nop.Services.Orders.ShoppingCartService.AddToCartAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a28f22e70f1e84ad7a35db3c7f0289397">Nop.Services.Orders.ShoppingCartService.DeleteShoppingCartItemAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a33f1fb373af8557f048eb8b962b8bedc">Nop.Services.Orders.ShoppingCartService.GetUnitPriceAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0019be3569e60b586d0884cfca66667">Nop.Services.Orders.ShoppingCartService.MigrateShoppingCartAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a87ff4946e0d250eccc54d61cc1cc7e1b">Nop.Services.Orders.ShoppingCartService.ShoppingCartService()</a> e <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a7ba3d22fe0e5d6bce2c89f53dec91798">Nop.Services.Orders.ShoppingCartService.UpdateShoppingCartItemAsync()</a>.</p>

</div>
</div>
<a id="ab3db06579a538c03da7d3375f8afd203"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3db06579a538c03da7d3375f8afd203">&#9670;&nbsp;</a></span>_dateRangeService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_shipping_1_1_date_1_1_i_date_range_service.html">IDateRangeService</a> Nop.Services.Orders.ShoppingCartService._dateRangeService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a878c99e09eb05fb192ef7f94213ef50f">Nop.Services.Orders.ShoppingCartService.GetStandardWarningsAsync()</a> e <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a87ff4946e0d250eccc54d61cc1cc7e1b">Nop.Services.Orders.ShoppingCartService.ShoppingCartService()</a>.</p>

</div>
</div>
<a id="ad3e442a177f6f3c53bfdcea203decd3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3e442a177f6f3c53bfdcea203decd3e">&#9670;&nbsp;</a></span>_dateTimeHelper</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_helpers_1_1_i_date_time_helper.html">IDateTimeHelper</a> Nop.Services.Orders.ShoppingCartService._dateTimeHelper</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a0735a280c9f3ff0b134ba9829bc30803">Nop.Services.Orders.ShoppingCartService.GetRentalProductWarningsAsync()</a> e <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a87ff4946e0d250eccc54d61cc1cc7e1b">Nop.Services.Orders.ShoppingCartService.ShoppingCartService()</a>.</p>

</div>
</div>
<a id="ad4535269f67ab87a38dbb015a5e32812"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4535269f67ab87a38dbb015a5e32812">&#9670;&nbsp;</a></span>_genericAttributeService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_common_1_1_i_generic_attribute_service.html">IGenericAttributeService</a> Nop.Services.Orders.ShoppingCartService._genericAttributeService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a28f22e70f1e84ad7a35db3c7f0289397">Nop.Services.Orders.ShoppingCartService.DeleteShoppingCartItemAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0019be3569e60b586d0884cfca66667">Nop.Services.Orders.ShoppingCartService.MigrateShoppingCartAsync()</a> e <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a87ff4946e0d250eccc54d61cc1cc7e1b">Nop.Services.Orders.ShoppingCartService.ShoppingCartService()</a>.</p>

</div>
</div>
<a id="ac0f5b4a70203e1fca9ff83f47fe4ee93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0f5b4a70203e1fca9ff83f47fe4ee93">&#9670;&nbsp;</a></span>_localizationService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_localization_1_1_i_localization_service.html">ILocalizationService</a> Nop.Services.Orders.ShoppingCartService._localizationService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad7cabaa8f4aa69f9dfd466f1b77edff0">Nop.Services.Orders.ShoppingCartService.AddToCartAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#af426455c6d5aabc026f49ccf4f3e64aa">Nop.Services.Orders.ShoppingCartService.GetRecurringCycleInfoAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a0735a280c9f3ff0b134ba9829bc30803">Nop.Services.Orders.ShoppingCartService.GetRentalProductWarningsAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#acdcdbd0deeeda2531704b1d47ccc9f84">Nop.Services.Orders.ShoppingCartService.GetRequiredProductWarningsAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a412cab95db07bd117a41c3d7741e22b6">Nop.Services.Orders.ShoppingCartService.GetShoppingCartItemAttributeWarningsAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad514ca5e6d1eb65f5ab900f476704905">Nop.Services.Orders.ShoppingCartService.GetShoppingCartItemGiftCardWarningsAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a3ea5e98e73dbee1fc30a99a35b668673">Nop.Services.Orders.ShoppingCartService.GetShoppingCartWarningsAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a878c99e09eb05fb192ef7f94213ef50f">Nop.Services.Orders.ShoppingCartService.GetStandardWarningsAsync()</a> e <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a87ff4946e0d250eccc54d61cc1cc7e1b">Nop.Services.Orders.ShoppingCartService.ShoppingCartService()</a>.</p>

</div>
</div>
<a id="afdb3928e668ae9f4fde9db4224a09410"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdb3928e668ae9f4fde9db4224a09410">&#9670;&nbsp;</a></span>_orderSettings</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_order_settings.html">OrderSettings</a> Nop.Services.Orders.ShoppingCartService._orderSettings</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a878c99e09eb05fb192ef7f94213ef50f">Nop.Services.Orders.ShoppingCartService.GetStandardWarningsAsync()</a> e <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a87ff4946e0d250eccc54d61cc1cc7e1b">Nop.Services.Orders.ShoppingCartService.ShoppingCartService()</a>.</p>

</div>
</div>
<a id="a0231282832fb9d777c1d3da2eed79584"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0231282832fb9d777c1d3da2eed79584">&#9670;&nbsp;</a></span>_permissionService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_security_1_1_i_permission_service.html">IPermissionService</a> Nop.Services.Orders.ShoppingCartService._permissionService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad7cabaa8f4aa69f9dfd466f1b77edff0">Nop.Services.Orders.ShoppingCartService.AddToCartAsync()</a> e <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a87ff4946e0d250eccc54d61cc1cc7e1b">Nop.Services.Orders.ShoppingCartService.ShoppingCartService()</a>.</p>

</div>
</div>
<a id="a3e531df3c7195773e37be59a9cdcf8b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e531df3c7195773e37be59a9cdcf8b8">&#9670;&nbsp;</a></span>_priceCalculationService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_calculation_service.html">IPriceCalculationService</a> Nop.Services.Orders.ShoppingCartService._priceCalculationService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a5fbdfe50e339a64bb0e528887ec86b14">Nop.Services.Orders.ShoppingCartService.GetUnitPriceAsync()</a> e <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a87ff4946e0d250eccc54d61cc1cc7e1b">Nop.Services.Orders.ShoppingCartService.ShoppingCartService()</a>.</p>

</div>
</div>
<a id="acc35e61b453b0ab5f9d706d0f3c93e15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc35e61b453b0ab5f9d706d0f3c93e15">&#9670;&nbsp;</a></span>_priceFormatter</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_price_formatter.html">IPriceFormatter</a> Nop.Services.Orders.ShoppingCartService._priceFormatter</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a878c99e09eb05fb192ef7f94213ef50f">Nop.Services.Orders.ShoppingCartService.GetStandardWarningsAsync()</a> e <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a87ff4946e0d250eccc54d61cc1cc7e1b">Nop.Services.Orders.ShoppingCartService.ShoppingCartService()</a>.</p>

</div>
</div>
<a id="a372f60dd105ef1a5a25b7f5e5b5dab2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a372f60dd105ef1a5a25b7f5e5b5dab2d">&#9670;&nbsp;</a></span>_productAttributeParser</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_parser.html">IProductAttributeParser</a> Nop.Services.Orders.ShoppingCartService._productAttributeParser</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a412cab95db07bd117a41c3d7741e22b6">Nop.Services.Orders.ShoppingCartService.GetShoppingCartItemAttributeWarningsAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad514ca5e6d1eb65f5ab900f476704905">Nop.Services.Orders.ShoppingCartService.GetShoppingCartItemGiftCardWarningsAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a878c99e09eb05fb192ef7f94213ef50f">Nop.Services.Orders.ShoppingCartService.GetStandardWarningsAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a5fbdfe50e339a64bb0e528887ec86b14">Nop.Services.Orders.ShoppingCartService.GetUnitPriceAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a1550bc8798c8a37e6ecbd41d3306ee26">Nop.Services.Orders.ShoppingCartService.ShoppingCartItemIsEqualAsync()</a> e <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a87ff4946e0d250eccc54d61cc1cc7e1b">Nop.Services.Orders.ShoppingCartService.ShoppingCartService()</a>.</p>

</div>
</div>
<a id="ae4a6c57285b55e10b8dcc8fcde94cbca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4a6c57285b55e10b8dcc8fcde94cbca">&#9670;&nbsp;</a></span>_productAttributeService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_attribute_service.html">IProductAttributeService</a> Nop.Services.Orders.ShoppingCartService._productAttributeService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a412cab95db07bd117a41c3d7741e22b6">Nop.Services.Orders.ShoppingCartService.GetShoppingCartItemAttributeWarningsAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a878c99e09eb05fb192ef7f94213ef50f">Nop.Services.Orders.ShoppingCartService.GetStandardWarningsAsync()</a> e <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a87ff4946e0d250eccc54d61cc1cc7e1b">Nop.Services.Orders.ShoppingCartService.ShoppingCartService()</a>.</p>

</div>
</div>
<a id="ab2d95d5144b8fb62fe60208501e45384"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2d95d5144b8fb62fe60208501e45384">&#9670;&nbsp;</a></span>_productService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_catalog_1_1_i_product_service.html">IProductService</a> Nop.Services.Orders.ShoppingCartService._productService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a28f22e70f1e84ad7a35db3c7f0289397">Nop.Services.Orders.ShoppingCartService.DeleteShoppingCartItemAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a6da6deec36d9416e14af3725bea1e2c0">Nop.Services.Orders.ShoppingCartService.GetProductsRequiringProductAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#af426455c6d5aabc026f49ccf4f3e64aa">Nop.Services.Orders.ShoppingCartService.GetRecurringCycleInfoAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#acdcdbd0deeeda2531704b1d47ccc9f84">Nop.Services.Orders.ShoppingCartService.GetRequiredProductWarningsAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a412cab95db07bd117a41c3d7741e22b6">Nop.Services.Orders.ShoppingCartService.GetShoppingCartItemAttributeWarningsAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a3ea5e98e73dbee1fc30a99a35b668673">Nop.Services.Orders.ShoppingCartService.GetShoppingCartWarningsAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a878c99e09eb05fb192ef7f94213ef50f">Nop.Services.Orders.ShoppingCartService.GetStandardWarningsAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a33f1fb373af8557f048eb8b962b8bedc">Nop.Services.Orders.ShoppingCartService.GetUnitPriceAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0019be3569e60b586d0884cfca66667">Nop.Services.Orders.ShoppingCartService.MigrateShoppingCartAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#af73c4cca35bf41700f7cc97ba0324cd2">Nop.Services.Orders.ShoppingCartService.ShoppingCartIsRecurringAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a87ff4946e0d250eccc54d61cc1cc7e1b">Nop.Services.Orders.ShoppingCartService.ShoppingCartService()</a> e <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a7ba3d22fe0e5d6bce2c89f53dec91798">Nop.Services.Orders.ShoppingCartService.UpdateShoppingCartItemAsync()</a>.</p>

</div>
</div>
<a id="a25e71ccca6735556ec04ee5fbc5c3016"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25e71ccca6735556ec04ee5fbc5c3016">&#9670;&nbsp;</a></span>_sciRepository</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_data_1_1_i_repository.html">IRepository</a>&lt;<a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_item.html">ShoppingCartItem</a>&gt; Nop.Services.Orders.ShoppingCartService._sciRepository</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad7cabaa8f4aa69f9dfd466f1b77edff0">Nop.Services.Orders.ShoppingCartService.AddToCartAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ae89f5eb0e6b5dd4a02d0cad1ab82ccc8">Nop.Services.Orders.ShoppingCartService.DeleteExpiredShoppingCartItemsAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a28f22e70f1e84ad7a35db3c7f0289397">Nop.Services.Orders.ShoppingCartService.DeleteShoppingCartItemAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a6c23a27aead1a64487e3f9ccb3828944">Nop.Services.Orders.ShoppingCartService.GetShoppingCartAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#aef8769f85fef3d4981a9a33cec72d32f">Nop.Services.Orders.ShoppingCartService.IsCustomerShoppingCartEmpty()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a87ff4946e0d250eccc54d61cc1cc7e1b">Nop.Services.Orders.ShoppingCartService.ShoppingCartService()</a> e <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a7ba3d22fe0e5d6bce2c89f53dec91798">Nop.Services.Orders.ShoppingCartService.UpdateShoppingCartItemAsync()</a>.</p>

</div>
</div>
<a id="a76a90cdde2ce1a125cafb9c5386b2a5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76a90cdde2ce1a125cafb9c5386b2a5d">&#9670;&nbsp;</a></span>_shippingService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_shipping_1_1_i_shipping_service.html">IShippingService</a> Nop.Services.Orders.ShoppingCartService._shippingService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#afd712bf30d35b7e7145252f2ca818230">Nop.Services.Orders.ShoppingCartService.ShoppingCartRequiresShippingAsync()</a> e <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a87ff4946e0d250eccc54d61cc1cc7e1b">Nop.Services.Orders.ShoppingCartService.ShoppingCartService()</a>.</p>

</div>
</div>
<a id="a5b7323984429448a6e727bff3bff122e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b7323984429448a6e727bff3bff122e">&#9670;&nbsp;</a></span>_shoppingCartSettings</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_orders_1_1_shopping_cart_settings.html">ShoppingCartSettings</a> Nop.Services.Orders.ShoppingCartService._shoppingCartSettings</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ad7cabaa8f4aa69f9dfd466f1b77edff0">Nop.Services.Orders.ShoppingCartService.AddToCartAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a6c23a27aead1a64487e3f9ccb3828944">Nop.Services.Orders.ShoppingCartService.GetShoppingCartAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a3ea5e98e73dbee1fc30a99a35b668673">Nop.Services.Orders.ShoppingCartService.GetShoppingCartWarningsAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a878c99e09eb05fb192ef7f94213ef50f">Nop.Services.Orders.ShoppingCartService.GetStandardWarningsAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a5fbdfe50e339a64bb0e528887ec86b14">Nop.Services.Orders.ShoppingCartService.GetUnitPriceAsync()</a> e <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a87ff4946e0d250eccc54d61cc1cc7e1b">Nop.Services.Orders.ShoppingCartService.ShoppingCartService()</a>.</p>

</div>
</div>
<a id="af7c14cae2823366c47df53e3ded7dbf2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7c14cae2823366c47df53e3ded7dbf2">&#9670;&nbsp;</a></span>_staticCacheManager</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_core_1_1_caching_1_1_i_static_cache_manager.html">IStaticCacheManager</a> Nop.Services.Orders.ShoppingCartService._staticCacheManager</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a6c23a27aead1a64487e3f9ccb3828944">Nop.Services.Orders.ShoppingCartService.GetShoppingCartAsync()</a> e <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a87ff4946e0d250eccc54d61cc1cc7e1b">Nop.Services.Orders.ShoppingCartService.ShoppingCartService()</a>.</p>

</div>
</div>
<a id="aba42c8b71d4f0534e4656e6f01577185"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba42c8b71d4f0534e4656e6f01577185">&#9670;&nbsp;</a></span>_storeContext</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_core_1_1_i_store_context.html">IStoreContext</a> Nop.Services.Orders.ShoppingCartService._storeContext</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a412cab95db07bd117a41c3d7741e22b6">Nop.Services.Orders.ShoppingCartService.GetShoppingCartItemAttributeWarningsAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a3ea5e98e73dbee1fc30a99a35b668673">Nop.Services.Orders.ShoppingCartService.GetShoppingCartWarningsAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a878c99e09eb05fb192ef7f94213ef50f">Nop.Services.Orders.ShoppingCartService.GetStandardWarningsAsync()</a>, <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#ac0019be3569e60b586d0884cfca66667">Nop.Services.Orders.ShoppingCartService.MigrateShoppingCartAsync()</a> e <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a87ff4946e0d250eccc54d61cc1cc7e1b">Nop.Services.Orders.ShoppingCartService.ShoppingCartService()</a>.</p>

</div>
</div>
<a id="a7b8c34aa90ac10f24fb1f258e9fe9b42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b8c34aa90ac10f24fb1f258e9fe9b42">&#9670;&nbsp;</a></span>_storeMappingService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_stores_1_1_i_store_mapping_service.html">IStoreMappingService</a> Nop.Services.Orders.ShoppingCartService._storeMappingService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a878c99e09eb05fb192ef7f94213ef50f">Nop.Services.Orders.ShoppingCartService.GetStandardWarningsAsync()</a> e <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a87ff4946e0d250eccc54d61cc1cc7e1b">Nop.Services.Orders.ShoppingCartService.ShoppingCartService()</a>.</p>

</div>
</div>
<a id="ad64202db564caac4f4709c0459d59360"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad64202db564caac4f4709c0459d59360">&#9670;&nbsp;</a></span>_urlHelperFactory</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly IUrlHelperFactory Nop.Services.Orders.ShoppingCartService._urlHelperFactory</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#acdcdbd0deeeda2531704b1d47ccc9f84">Nop.Services.Orders.ShoppingCartService.GetRequiredProductWarningsAsync()</a> e <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a87ff4946e0d250eccc54d61cc1cc7e1b">Nop.Services.Orders.ShoppingCartService.ShoppingCartService()</a>.</p>

</div>
</div>
<a id="aa58eac4dc2712bbbd6e3dcf074c98276"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa58eac4dc2712bbbd6e3dcf074c98276">&#9670;&nbsp;</a></span>_urlRecordService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_seo_1_1_i_url_record_service.html">IUrlRecordService</a> Nop.Services.Orders.ShoppingCartService._urlRecordService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a87ff4946e0d250eccc54d61cc1cc7e1b">Nop.Services.Orders.ShoppingCartService.ShoppingCartService()</a>.</p>

</div>
</div>
<a id="a0fc527f4064132eba50e5fd9ee9a1375"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fc527f4064132eba50e5fd9ee9a1375">&#9670;&nbsp;</a></span>_workContext</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_core_1_1_i_work_context.html">IWorkContext</a> Nop.Services.Orders.ShoppingCartService._workContext</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a878c99e09eb05fb192ef7f94213ef50f">Nop.Services.Orders.ShoppingCartService.GetStandardWarningsAsync()</a> e <a class="el" href="class_nop_1_1_services_1_1_orders_1_1_shopping_cart_service.html#a87ff4946e0d250eccc54d61cc1cc7e1b">Nop.Services.Orders.ShoppingCartService.ShoppingCartService()</a>.</p>

</div>
</div>
<hr/>A documentação para esta classe foi gerada a partir do seguinte ficheiro:<ul>
<li>C:/Users/gabri/Documents/Projetos/GitHub/Estudos/Nopcommercer plugin/nopCommerce_4.40.3_Source - Copia/src/Libraries/Nop.Services/Orders/<a class="el" href="_shopping_cart_service_8cs.html">ShoppingCartService.cs</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Gerado por&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
