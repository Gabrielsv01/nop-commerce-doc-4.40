<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NopCommerce 4.40: Referência à classe Nop.Web.Framework.WebWorkContext</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="download.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NopCommerce 4.40
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Gerado por Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Localizar','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Localizar');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_nop.html">Nop</a></li><li class="navelem"><a class="el" href="namespace_nop_1_1_web.html">Web</a></li><li class="navelem"><a class="el" href="namespace_nop_1_1_web_1_1_framework.html">Framework</a></li><li class="navelem"><a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html">WebWorkContext</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Membros públicos</a> &#124;
<a href="#pro-methods">Membros protegidos</a> &#124;
<a href="#properties">Propriedades</a> &#124;
<a href="#pri-attribs">Atributos Privados</a> &#124;
<a href="class_nop_1_1_web_1_1_framework_1_1_web_work_context-members.html">Mostrar lista completa dos membros</a>  </div>
  <div class="headertitle">
<div class="title">Referência à classe Nop.Web.Framework.WebWorkContext</div>  </div>
</div><!--header-->
<div class="contents">

<p>Represents work context for web application  
 <a href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#details">Mais...</a></p>
<div class="dynheader">
Diagrama de heranças da classe Nop.Web.Framework.WebWorkContext</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_nop_1_1_web_1_1_framework_1_1_web_work_context.png" usemap="#Nop.Web.Framework.WebWorkContext_map" alt=""/>
  <map id="Nop.Web.Framework.WebWorkContext_map" name="Nop.Web.Framework.WebWorkContext_map">
<area href="interface_nop_1_1_core_1_1_i_work_context.html" title="Represents work context" alt="Nop.Core.IWorkContext" shape="rect" coords="0,0,231,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Membros públicos</h2></td></tr>
<tr class="memitem:a58d3dc86e3b139f79b80839a7e91ce23"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a58d3dc86e3b139f79b80839a7e91ce23">WebWorkContext</a> (<a class="el" href="class_nop_1_1_core_1_1_security_1_1_cookie_settings.html">CookieSettings</a> cookieSettings, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_directory_1_1_currency_settings.html">CurrencySettings</a> currencySettings, <a class="el" href="interface_nop_1_1_services_1_1_authentication_1_1_i_authentication_service.html">IAuthenticationService</a> authenticationService, <a class="el" href="interface_nop_1_1_services_1_1_directory_1_1_i_currency_service.html">ICurrencyService</a> currencyService, <a class="el" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html">ICustomerService</a> customerService, <a class="el" href="interface_nop_1_1_services_1_1_common_1_1_i_generic_attribute_service.html">IGenericAttributeService</a> genericAttributeService, IHttpContextAccessor httpContextAccessor, <a class="el" href="interface_nop_1_1_services_1_1_localization_1_1_i_language_service.html">ILanguageService</a> languageService, <a class="el" href="interface_nop_1_1_core_1_1_i_store_context.html">IStoreContext</a> storeContext, <a class="el" href="interface_nop_1_1_services_1_1_stores_1_1_i_store_mapping_service.html">IStoreMappingService</a> storeMappingService, <a class="el" href="interface_nop_1_1_services_1_1_helpers_1_1_i_user_agent_helper.html">IUserAgentHelper</a> userAgentHelper, <a class="el" href="interface_nop_1_1_services_1_1_vendors_1_1_i_vendor_service.html">IVendorService</a> vendorService, <a class="el" href="interface_nop_1_1_core_1_1_i_web_helper.html">IWebHelper</a> webHelper, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_localization_1_1_localization_settings.html">LocalizationSettings</a> localizationSettings, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html">TaxSettings</a> taxSettings)</td></tr>
<tr class="separator:a58d3dc86e3b139f79b80839a7e91ce23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed3152ad572686f2f2ffa182e008eb47"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html">Customer</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#aed3152ad572686f2f2ffa182e008eb47">GetCurrentCustomerAsync</a> ()</td></tr>
<tr class="memdesc:aed3152ad572686f2f2ffa182e008eb47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the current customer  <a href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#aed3152ad572686f2f2ffa182e008eb47">Mais...</a><br /></td></tr>
<tr class="separator:aed3152ad572686f2f2ffa182e008eb47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b32b52d002c90d23c69980df78c23da"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a3b32b52d002c90d23c69980df78c23da">SetCurrentCustomerAsync</a> (<a class="el" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html">Customer</a> customer=null)</td></tr>
<tr class="memdesc:a3b32b52d002c90d23c69980df78c23da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the current customer  <a href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a3b32b52d002c90d23c69980df78c23da">Mais...</a><br /></td></tr>
<tr class="separator:a3b32b52d002c90d23c69980df78c23da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c640a9b5986640a77e40fbe6e79d9b2"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_vendors_1_1_vendor.html">Vendor</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a6c640a9b5986640a77e40fbe6e79d9b2">GetCurrentVendorAsync</a> ()</td></tr>
<tr class="memdesc:a6c640a9b5986640a77e40fbe6e79d9b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the current vendor (logged-in manager)  <a href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a6c640a9b5986640a77e40fbe6e79d9b2">Mais...</a><br /></td></tr>
<tr class="separator:a6c640a9b5986640a77e40fbe6e79d9b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac164c3485d2c028ac1a3db2c231b29a1"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ac164c3485d2c028ac1a3db2c231b29a1">SetWorkingLanguageAsync</a> (<a class="el" href="class_nop_1_1_core_1_1_domain_1_1_localization_1_1_language.html">Language</a> language)</td></tr>
<tr class="memdesc:ac164c3485d2c028ac1a3db2c231b29a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets current user working language  <a href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ac164c3485d2c028ac1a3db2c231b29a1">Mais...</a><br /></td></tr>
<tr class="separator:ac164c3485d2c028ac1a3db2c231b29a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04cb44952e3fc61d6d867bc749b21516"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_localization_1_1_language.html">Language</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a04cb44952e3fc61d6d867bc749b21516">GetWorkingLanguageAsync</a> ()</td></tr>
<tr class="memdesc:a04cb44952e3fc61d6d867bc749b21516"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets current user working language  <a href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a04cb44952e3fc61d6d867bc749b21516">Mais...</a><br /></td></tr>
<tr class="separator:a04cb44952e3fc61d6d867bc749b21516"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7a7cd9a5acdf9a0e15533f716c953ff"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_directory_1_1_currency.html">Currency</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ad7a7cd9a5acdf9a0e15533f716c953ff">GetWorkingCurrencyAsync</a> ()</td></tr>
<tr class="memdesc:ad7a7cd9a5acdf9a0e15533f716c953ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets current user working currency  <a href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ad7a7cd9a5acdf9a0e15533f716c953ff">Mais...</a><br /></td></tr>
<tr class="separator:ad7a7cd9a5acdf9a0e15533f716c953ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a35cbbd0a986b10f76cdd6bfa49758f"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a0a35cbbd0a986b10f76cdd6bfa49758f">SetWorkingCurrencyAsync</a> (<a class="el" href="class_nop_1_1_core_1_1_domain_1_1_directory_1_1_currency.html">Currency</a> currency)</td></tr>
<tr class="memdesc:a0a35cbbd0a986b10f76cdd6bfa49758f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets current user working currency  <a href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a0a35cbbd0a986b10f76cdd6bfa49758f">Mais...</a><br /></td></tr>
<tr class="separator:a0a35cbbd0a986b10f76cdd6bfa49758f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7ed60e4fce35c3f524bb5bf0cda8540"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; <a class="el" href="namespace_nop_1_1_core_1_1_domain_1_1_tax.html#ad59b7fb4d9c43ceac91df05de550018c">TaxDisplayType</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ae7ed60e4fce35c3f524bb5bf0cda8540">GetTaxDisplayTypeAsync</a> ()</td></tr>
<tr class="memdesc:ae7ed60e4fce35c3f524bb5bf0cda8540"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets or sets current tax display type  <a href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ae7ed60e4fce35c3f524bb5bf0cda8540">Mais...</a><br /></td></tr>
<tr class="separator:ae7ed60e4fce35c3f524bb5bf0cda8540"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abff4bdfd9b55398cfbee82b58f93b344"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#abff4bdfd9b55398cfbee82b58f93b344">SetTaxDisplayTypeAsync</a> (<a class="el" href="namespace_nop_1_1_core_1_1_domain_1_1_tax.html#ad59b7fb4d9c43ceac91df05de550018c">TaxDisplayType</a> taxDisplayType)</td></tr>
<tr class="memdesc:abff4bdfd9b55398cfbee82b58f93b344"><td class="mdescLeft">&#160;</td><td class="mdescRight"><dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation</dd></dl>
 <a href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#abff4bdfd9b55398cfbee82b58f93b344">Mais...</a><br /></td></tr>
<tr class="separator:abff4bdfd9b55398cfbee82b58f93b344"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Membros protegidos</h2></td></tr>
<tr class="memitem:a5efa26d2ba927436c07aaad33a627683"><td class="memItemLeft" align="right" valign="top">virtual string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a5efa26d2ba927436c07aaad33a627683">GetCustomerCookie</a> ()</td></tr>
<tr class="memdesc:a5efa26d2ba927436c07aaad33a627683"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get nop customer cookie  <a href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a5efa26d2ba927436c07aaad33a627683">Mais...</a><br /></td></tr>
<tr class="separator:a5efa26d2ba927436c07aaad33a627683"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36c884154f609c3b6e4eaf01da26f21a"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a36c884154f609c3b6e4eaf01da26f21a">SetCustomerCookie</a> (Guid customerGuid)</td></tr>
<tr class="memdesc:a36c884154f609c3b6e4eaf01da26f21a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set nop customer cookie  <a href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a36c884154f609c3b6e4eaf01da26f21a">Mais...</a><br /></td></tr>
<tr class="separator:a36c884154f609c3b6e4eaf01da26f21a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e54ab0362e9180f30e2208ae4a21b74"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_localization_1_1_language.html">Language</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a0e54ab0362e9180f30e2208ae4a21b74">GetLanguageFromUrlAsync</a> ()</td></tr>
<tr class="memdesc:a0e54ab0362e9180f30e2208ae4a21b74"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get language from the requested page URL  <a href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a0e54ab0362e9180f30e2208ae4a21b74">Mais...</a><br /></td></tr>
<tr class="separator:a0e54ab0362e9180f30e2208ae4a21b74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af14a7b69cce6ede8bfb6fac0e27c7081"><td class="memItemLeft" align="right" valign="top">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt; <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_localization_1_1_language.html">Language</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#af14a7b69cce6ede8bfb6fac0e27c7081">GetLanguageFromRequestAsync</a> ()</td></tr>
<tr class="memdesc:af14a7b69cce6ede8bfb6fac0e27c7081"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get language from the request  <a href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#af14a7b69cce6ede8bfb6fac0e27c7081">Mais...</a><br /></td></tr>
<tr class="separator:af14a7b69cce6ede8bfb6fac0e27c7081"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="properties"></a>
Propriedades</h2></td></tr>
<tr class="memitem:a36378b868bed441c387fdf0a8c26853b"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html">Customer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a36378b868bed441c387fdf0a8c26853b">OriginalCustomerIfImpersonated</a><code> [get]</code></td></tr>
<tr class="memdesc:a36378b868bed441c387fdf0a8c26853b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the original customer (in case the current one is impersonated)  <a href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a36378b868bed441c387fdf0a8c26853b">Mais...</a><br /></td></tr>
<tr class="separator:a36378b868bed441c387fdf0a8c26853b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f075f9ef7b8e8e93389ab96bda19607"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a0f075f9ef7b8e8e93389ab96bda19607">IsAdmin</a><code> [get, set]</code></td></tr>
<tr class="memdesc:a0f075f9ef7b8e8e93389ab96bda19607"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets or sets value indicating whether we're in admin area  <a href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a0f075f9ef7b8e8e93389ab96bda19607">Mais...</a><br /></td></tr>
<tr class="separator:a0f075f9ef7b8e8e93389ab96bda19607"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header properties_interface_nop_1_1_core_1_1_i_work_context"><td colspan="2" onclick="javascript:toggleInherit('properties_interface_nop_1_1_core_1_1_i_work_context')"><img src="closed.png" alt="-"/>&#160;Propriedades herdados de <a class="el" href="interface_nop_1_1_core_1_1_i_work_context.html">Nop.Core.IWorkContext</a></td></tr>
<tr class="memitem:a14a0153b6c715817d92ce76ca6e06075 inherit properties_interface_nop_1_1_core_1_1_i_work_context"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html">Customer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_nop_1_1_core_1_1_i_work_context.html#a14a0153b6c715817d92ce76ca6e06075">OriginalCustomerIfImpersonated</a><code> [get]</code></td></tr>
<tr class="memdesc:a14a0153b6c715817d92ce76ca6e06075 inherit properties_interface_nop_1_1_core_1_1_i_work_context"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the original customer (in case the current one is impersonated)  <a href="interface_nop_1_1_core_1_1_i_work_context.html#a14a0153b6c715817d92ce76ca6e06075">Mais...</a><br /></td></tr>
<tr class="separator:a14a0153b6c715817d92ce76ca6e06075 inherit properties_interface_nop_1_1_core_1_1_i_work_context"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Atributos Privados</h2></td></tr>
<tr class="memitem:ad036af6af09cbaeae4f1336ea0195c10"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="class_nop_1_1_core_1_1_security_1_1_cookie_settings.html">CookieSettings</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ad036af6af09cbaeae4f1336ea0195c10">_cookieSettings</a></td></tr>
<tr class="separator:ad036af6af09cbaeae4f1336ea0195c10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7878588a1bff6b7477ddadf770d00bf6"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_directory_1_1_currency_settings.html">CurrencySettings</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a7878588a1bff6b7477ddadf770d00bf6">_currencySettings</a></td></tr>
<tr class="separator:a7878588a1bff6b7477ddadf770d00bf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18dd93a5c2428ab6a7b1c7786aaa1b9b"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_authentication_1_1_i_authentication_service.html">IAuthenticationService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a18dd93a5c2428ab6a7b1c7786aaa1b9b">_authenticationService</a></td></tr>
<tr class="separator:a18dd93a5c2428ab6a7b1c7786aaa1b9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59b84660687f50b93b5938d43afb533b"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_directory_1_1_i_currency_service.html">ICurrencyService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a59b84660687f50b93b5938d43afb533b">_currencyService</a></td></tr>
<tr class="separator:a59b84660687f50b93b5938d43afb533b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f5b8fb3170effd56dff3207981e2eb2"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html">ICustomerService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a9f5b8fb3170effd56dff3207981e2eb2">_customerService</a></td></tr>
<tr class="separator:a9f5b8fb3170effd56dff3207981e2eb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0814835f67afa1318bd1a32f128a6ee"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_common_1_1_i_generic_attribute_service.html">IGenericAttributeService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ab0814835f67afa1318bd1a32f128a6ee">_genericAttributeService</a></td></tr>
<tr class="separator:ab0814835f67afa1318bd1a32f128a6ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4df0823eb4b7c2b34fe42c9c1e164866"><td class="memItemLeft" align="right" valign="top">readonly IHttpContextAccessor&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a4df0823eb4b7c2b34fe42c9c1e164866">_httpContextAccessor</a></td></tr>
<tr class="separator:a4df0823eb4b7c2b34fe42c9c1e164866"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fe16f611fdf3e3dd401e2999d2acbb9"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_localization_1_1_i_language_service.html">ILanguageService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a9fe16f611fdf3e3dd401e2999d2acbb9">_languageService</a></td></tr>
<tr class="separator:a9fe16f611fdf3e3dd401e2999d2acbb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cca40dca3403f0c067f53a30d5315f3"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_core_1_1_i_store_context.html">IStoreContext</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a7cca40dca3403f0c067f53a30d5315f3">_storeContext</a></td></tr>
<tr class="separator:a7cca40dca3403f0c067f53a30d5315f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03626aa2aa888572bd34b244b5d2e9de"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_stores_1_1_i_store_mapping_service.html">IStoreMappingService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a03626aa2aa888572bd34b244b5d2e9de">_storeMappingService</a></td></tr>
<tr class="separator:a03626aa2aa888572bd34b244b5d2e9de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cfa4124240591d4c471fef7af939c1a"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_helpers_1_1_i_user_agent_helper.html">IUserAgentHelper</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a5cfa4124240591d4c471fef7af939c1a">_userAgentHelper</a></td></tr>
<tr class="separator:a5cfa4124240591d4c471fef7af939c1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac698708a8a044cc1c49cf82673727582"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_services_1_1_vendors_1_1_i_vendor_service.html">IVendorService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ac698708a8a044cc1c49cf82673727582">_vendorService</a></td></tr>
<tr class="separator:ac698708a8a044cc1c49cf82673727582"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f06525b8334e5ee43819d9ab3110a82"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_nop_1_1_core_1_1_i_web_helper.html">IWebHelper</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a3f06525b8334e5ee43819d9ab3110a82">_webHelper</a></td></tr>
<tr class="separator:a3f06525b8334e5ee43819d9ab3110a82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf25c07cdab841a6e7f5db9f1c0b7f43"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_localization_1_1_localization_settings.html">LocalizationSettings</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#adf25c07cdab841a6e7f5db9f1c0b7f43">_localizationSettings</a></td></tr>
<tr class="separator:adf25c07cdab841a6e7f5db9f1c0b7f43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a118a5a2d0ac5b2f8231e6941a9afda42"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html">TaxSettings</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a118a5a2d0ac5b2f8231e6941a9afda42">_taxSettings</a></td></tr>
<tr class="separator:a118a5a2d0ac5b2f8231e6941a9afda42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a231a4b6aada5d54eff1073f05bd3914d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html">Customer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a231a4b6aada5d54eff1073f05bd3914d">_cachedCustomer</a></td></tr>
<tr class="separator:a231a4b6aada5d54eff1073f05bd3914d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a126a0a929a139f4a0aeb8bd3548891b1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html">Customer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a126a0a929a139f4a0aeb8bd3548891b1">_originalCustomerIfImpersonated</a></td></tr>
<tr class="separator:a126a0a929a139f4a0aeb8bd3548891b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e93d7aed2b44f3d09e862a58d4ad87f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_vendors_1_1_vendor.html">Vendor</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a5e93d7aed2b44f3d09e862a58d4ad87f">_cachedVendor</a></td></tr>
<tr class="separator:a5e93d7aed2b44f3d09e862a58d4ad87f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20e7ce8dfc02f9ff6e8a1761b7276d31"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_localization_1_1_language.html">Language</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a20e7ce8dfc02f9ff6e8a1761b7276d31">_cachedLanguage</a></td></tr>
<tr class="separator:a20e7ce8dfc02f9ff6e8a1761b7276d31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a896618be54ccbeb02e9dfe0021bb4a01"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_directory_1_1_currency.html">Currency</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a896618be54ccbeb02e9dfe0021bb4a01">_cachedCurrency</a></td></tr>
<tr class="separator:a896618be54ccbeb02e9dfe0021bb4a01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30b32460eb08730ce9897319c6179dae"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_nop_1_1_core_1_1_domain_1_1_tax.html#ad59b7fb4d9c43ceac91df05de550018c">TaxDisplayType</a>?&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a30b32460eb08730ce9897319c6179dae">_cachedTaxDisplayType</a></td></tr>
<tr class="separator:a30b32460eb08730ce9897319c6179dae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Descrição detalhada</h2>
<div class="textblock"><p>Represents work context for web application </p>
</div><h2 class="groupheader">Documentação dos Construtores &amp; Destrutor</h2>
<a id="a58d3dc86e3b139f79b80839a7e91ce23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58d3dc86e3b139f79b80839a7e91ce23">&#9670;&nbsp;</a></span>WebWorkContext()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Nop.Web.Framework.WebWorkContext.WebWorkContext </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_security_1_1_cookie_settings.html">CookieSettings</a>&#160;</td>
          <td class="paramname"><em>cookieSettings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_directory_1_1_currency_settings.html">CurrencySettings</a>&#160;</td>
          <td class="paramname"><em>currencySettings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_authentication_1_1_i_authentication_service.html">IAuthenticationService</a>&#160;</td>
          <td class="paramname"><em>authenticationService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_directory_1_1_i_currency_service.html">ICurrencyService</a>&#160;</td>
          <td class="paramname"><em>currencyService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html">ICustomerService</a>&#160;</td>
          <td class="paramname"><em>customerService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_common_1_1_i_generic_attribute_service.html">IGenericAttributeService</a>&#160;</td>
          <td class="paramname"><em>genericAttributeService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IHttpContextAccessor&#160;</td>
          <td class="paramname"><em>httpContextAccessor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_localization_1_1_i_language_service.html">ILanguageService</a>&#160;</td>
          <td class="paramname"><em>languageService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_core_1_1_i_store_context.html">IStoreContext</a>&#160;</td>
          <td class="paramname"><em>storeContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_stores_1_1_i_store_mapping_service.html">IStoreMappingService</a>&#160;</td>
          <td class="paramname"><em>storeMappingService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_helpers_1_1_i_user_agent_helper.html">IUserAgentHelper</a>&#160;</td>
          <td class="paramname"><em>userAgentHelper</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_services_1_1_vendors_1_1_i_vendor_service.html">IVendorService</a>&#160;</td>
          <td class="paramname"><em>vendorService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_nop_1_1_core_1_1_i_web_helper.html">IWebHelper</a>&#160;</td>
          <td class="paramname"><em>webHelper</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_localization_1_1_localization_settings.html">LocalizationSettings</a>&#160;</td>
          <td class="paramname"><em>localizationSettings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html">TaxSettings</a>&#160;</td>
          <td class="paramname"><em>taxSettings</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        {</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ad036af6af09cbaeae4f1336ea0195c10">_cookieSettings</a> = cookieSettings;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a7878588a1bff6b7477ddadf770d00bf6">_currencySettings</a> = currencySettings;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a18dd93a5c2428ab6a7b1c7786aaa1b9b">_authenticationService</a> = authenticationService;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a59b84660687f50b93b5938d43afb533b">_currencyService</a> = currencyService;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a9f5b8fb3170effd56dff3207981e2eb2">_customerService</a> = customerService;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ab0814835f67afa1318bd1a32f128a6ee">_genericAttributeService</a> = genericAttributeService;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a4df0823eb4b7c2b34fe42c9c1e164866">_httpContextAccessor</a> = httpContextAccessor;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a9fe16f611fdf3e3dd401e2999d2acbb9">_languageService</a> = languageService;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a7cca40dca3403f0c067f53a30d5315f3">_storeContext</a> = storeContext;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a03626aa2aa888572bd34b244b5d2e9de">_storeMappingService</a> = storeMappingService;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a5cfa4124240591d4c471fef7af939c1a">_userAgentHelper</a> = userAgentHelper;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ac698708a8a044cc1c49cf82673727582">_vendorService</a> = vendorService;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a3f06525b8334e5ee43819d9ab3110a82">_webHelper</a> = webHelper;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#adf25c07cdab841a6e7f5db9f1c0b7f43">_localizationSettings</a> = localizationSettings;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a118a5a2d0ac5b2f8231e6941a9afda42">_taxSettings</a> = taxSettings;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_framework_1_1_web_work_context_html_a03626aa2aa888572bd34b244b5d2e9de"><div class="ttname"><a href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a03626aa2aa888572bd34b244b5d2e9de">Nop.Web.Framework.WebWorkContext._storeMappingService</a></div><div class="ttdeci">readonly IStoreMappingService _storeMappingService</div><div class="ttdef"><b>Definition:</b> WebWorkContext.cs:41</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_framework_1_1_web_work_context_html_a118a5a2d0ac5b2f8231e6941a9afda42"><div class="ttname"><a href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a118a5a2d0ac5b2f8231e6941a9afda42">Nop.Web.Framework.WebWorkContext._taxSettings</a></div><div class="ttdeci">readonly TaxSettings _taxSettings</div><div class="ttdef"><b>Definition:</b> WebWorkContext.cs:46</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_framework_1_1_web_work_context_html_a18dd93a5c2428ab6a7b1c7786aaa1b9b"><div class="ttname"><a href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a18dd93a5c2428ab6a7b1c7786aaa1b9b">Nop.Web.Framework.WebWorkContext._authenticationService</a></div><div class="ttdeci">readonly IAuthenticationService _authenticationService</div><div class="ttdef"><b>Definition:</b> WebWorkContext.cs:34</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_framework_1_1_web_work_context_html_a3f06525b8334e5ee43819d9ab3110a82"><div class="ttname"><a href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a3f06525b8334e5ee43819d9ab3110a82">Nop.Web.Framework.WebWorkContext._webHelper</a></div><div class="ttdeci">readonly IWebHelper _webHelper</div><div class="ttdef"><b>Definition:</b> WebWorkContext.cs:44</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_framework_1_1_web_work_context_html_a4df0823eb4b7c2b34fe42c9c1e164866"><div class="ttname"><a href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a4df0823eb4b7c2b34fe42c9c1e164866">Nop.Web.Framework.WebWorkContext._httpContextAccessor</a></div><div class="ttdeci">readonly IHttpContextAccessor _httpContextAccessor</div><div class="ttdef"><b>Definition:</b> WebWorkContext.cs:38</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_framework_1_1_web_work_context_html_a59b84660687f50b93b5938d43afb533b"><div class="ttname"><a href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a59b84660687f50b93b5938d43afb533b">Nop.Web.Framework.WebWorkContext._currencyService</a></div><div class="ttdeci">readonly ICurrencyService _currencyService</div><div class="ttdef"><b>Definition:</b> WebWorkContext.cs:35</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_framework_1_1_web_work_context_html_a5cfa4124240591d4c471fef7af939c1a"><div class="ttname"><a href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a5cfa4124240591d4c471fef7af939c1a">Nop.Web.Framework.WebWorkContext._userAgentHelper</a></div><div class="ttdeci">readonly IUserAgentHelper _userAgentHelper</div><div class="ttdef"><b>Definition:</b> WebWorkContext.cs:42</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_framework_1_1_web_work_context_html_a7878588a1bff6b7477ddadf770d00bf6"><div class="ttname"><a href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a7878588a1bff6b7477ddadf770d00bf6">Nop.Web.Framework.WebWorkContext._currencySettings</a></div><div class="ttdeci">readonly CurrencySettings _currencySettings</div><div class="ttdef"><b>Definition:</b> WebWorkContext.cs:33</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_framework_1_1_web_work_context_html_a7cca40dca3403f0c067f53a30d5315f3"><div class="ttname"><a href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a7cca40dca3403f0c067f53a30d5315f3">Nop.Web.Framework.WebWorkContext._storeContext</a></div><div class="ttdeci">readonly IStoreContext _storeContext</div><div class="ttdef"><b>Definition:</b> WebWorkContext.cs:40</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_framework_1_1_web_work_context_html_a9f5b8fb3170effd56dff3207981e2eb2"><div class="ttname"><a href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a9f5b8fb3170effd56dff3207981e2eb2">Nop.Web.Framework.WebWorkContext._customerService</a></div><div class="ttdeci">readonly ICustomerService _customerService</div><div class="ttdef"><b>Definition:</b> WebWorkContext.cs:36</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_framework_1_1_web_work_context_html_a9fe16f611fdf3e3dd401e2999d2acbb9"><div class="ttname"><a href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a9fe16f611fdf3e3dd401e2999d2acbb9">Nop.Web.Framework.WebWorkContext._languageService</a></div><div class="ttdeci">readonly ILanguageService _languageService</div><div class="ttdef"><b>Definition:</b> WebWorkContext.cs:39</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_framework_1_1_web_work_context_html_ab0814835f67afa1318bd1a32f128a6ee"><div class="ttname"><a href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ab0814835f67afa1318bd1a32f128a6ee">Nop.Web.Framework.WebWorkContext._genericAttributeService</a></div><div class="ttdeci">readonly IGenericAttributeService _genericAttributeService</div><div class="ttdef"><b>Definition:</b> WebWorkContext.cs:37</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_framework_1_1_web_work_context_html_ac698708a8a044cc1c49cf82673727582"><div class="ttname"><a href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ac698708a8a044cc1c49cf82673727582">Nop.Web.Framework.WebWorkContext._vendorService</a></div><div class="ttdeci">readonly IVendorService _vendorService</div><div class="ttdef"><b>Definition:</b> WebWorkContext.cs:43</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_framework_1_1_web_work_context_html_ad036af6af09cbaeae4f1336ea0195c10"><div class="ttname"><a href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ad036af6af09cbaeae4f1336ea0195c10">Nop.Web.Framework.WebWorkContext._cookieSettings</a></div><div class="ttdeci">readonly CookieSettings _cookieSettings</div><div class="ttdef"><b>Definition:</b> WebWorkContext.cs:32</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_framework_1_1_web_work_context_html_adf25c07cdab841a6e7f5db9f1c0b7f43"><div class="ttname"><a href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#adf25c07cdab841a6e7f5db9f1c0b7f43">Nop.Web.Framework.WebWorkContext._localizationSettings</a></div><div class="ttdeci">readonly LocalizationSettings _localizationSettings</div><div class="ttdef"><b>Definition:</b> WebWorkContext.cs:45</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a18dd93a5c2428ab6a7b1c7786aaa1b9b">Nop.Web.Framework.WebWorkContext._authenticationService</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ad036af6af09cbaeae4f1336ea0195c10">Nop.Web.Framework.WebWorkContext._cookieSettings</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a59b84660687f50b93b5938d43afb533b">Nop.Web.Framework.WebWorkContext._currencyService</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a7878588a1bff6b7477ddadf770d00bf6">Nop.Web.Framework.WebWorkContext._currencySettings</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a9f5b8fb3170effd56dff3207981e2eb2">Nop.Web.Framework.WebWorkContext._customerService</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ab0814835f67afa1318bd1a32f128a6ee">Nop.Web.Framework.WebWorkContext._genericAttributeService</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a4df0823eb4b7c2b34fe42c9c1e164866">Nop.Web.Framework.WebWorkContext._httpContextAccessor</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a9fe16f611fdf3e3dd401e2999d2acbb9">Nop.Web.Framework.WebWorkContext._languageService</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#adf25c07cdab841a6e7f5db9f1c0b7f43">Nop.Web.Framework.WebWorkContext._localizationSettings</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a7cca40dca3403f0c067f53a30d5315f3">Nop.Web.Framework.WebWorkContext._storeContext</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a03626aa2aa888572bd34b244b5d2e9de">Nop.Web.Framework.WebWorkContext._storeMappingService</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a118a5a2d0ac5b2f8231e6941a9afda42">Nop.Web.Framework.WebWorkContext._taxSettings</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a5cfa4124240591d4c471fef7af939c1a">Nop.Web.Framework.WebWorkContext._userAgentHelper</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ac698708a8a044cc1c49cf82673727582">Nop.Web.Framework.WebWorkContext._vendorService</a> e <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a3f06525b8334e5ee43819d9ab3110a82">Nop.Web.Framework.WebWorkContext._webHelper</a>.</p>

</div>
</div>
<h2 class="groupheader">Documentação dos métodos</h2>
<a id="aed3152ad572686f2f2ffa182e008eb47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed3152ad572686f2f2ffa182e008eb47">&#9670;&nbsp;</a></span>GetCurrentCustomerAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;<a class="el" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html">Customer</a>&gt; Nop.Web.Framework.WebWorkContext.GetCurrentCustomerAsync </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the current customer </p>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation</dd></dl>

<p>Implementa <a class="el" href="interface_nop_1_1_core_1_1_i_work_context.html#a1117b7898ed056459a9ff3f0446bbbe1">Nop.Core.IWorkContext</a>.</p>
<div class="fragment"><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        {</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;            <span class="comment">//whether there is a cached value</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a231a4b6aada5d54eff1073f05bd3914d">_cachedCustomer</a> != <span class="keyword">null</span>)</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a231a4b6aada5d54eff1073f05bd3914d">_cachedCustomer</a>;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160; </div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;            await <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a3b32b52d002c90d23c69980df78c23da">SetCurrentCustomerAsync</a>();</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160; </div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a231a4b6aada5d54eff1073f05bd3914d">_cachedCustomer</a>;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_framework_1_1_web_work_context_html_a231a4b6aada5d54eff1073f05bd3914d"><div class="ttname"><a href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a231a4b6aada5d54eff1073f05bd3914d">Nop.Web.Framework.WebWorkContext._cachedCustomer</a></div><div class="ttdeci">Customer _cachedCustomer</div><div class="ttdef"><b>Definition:</b> WebWorkContext.cs:48</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_framework_1_1_web_work_context_html_a3b32b52d002c90d23c69980df78c23da"><div class="ttname"><a href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a3b32b52d002c90d23c69980df78c23da">Nop.Web.Framework.WebWorkContext.SetCurrentCustomerAsync</a></div><div class="ttdeci">virtual async Task SetCurrentCustomerAsync(Customer customer=null)</div><div class="ttdoc">Sets the current customer</div><div class="ttdef"><b>Definition:</b> WebWorkContext.cs:215</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a231a4b6aada5d54eff1073f05bd3914d">Nop.Web.Framework.WebWorkContext._cachedCustomer</a> e <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a3b32b52d002c90d23c69980df78c23da">Nop.Web.Framework.WebWorkContext.SetCurrentCustomerAsync()</a>.</p>

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a6c640a9b5986640a77e40fbe6e79d9b2">Nop.Web.Framework.WebWorkContext.GetCurrentVendorAsync()</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ae7ed60e4fce35c3f524bb5bf0cda8540">Nop.Web.Framework.WebWorkContext.GetTaxDisplayTypeAsync()</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ad7a7cd9a5acdf9a0e15533f716c953ff">Nop.Web.Framework.WebWorkContext.GetWorkingCurrencyAsync()</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a04cb44952e3fc61d6d867bc749b21516">Nop.Web.Framework.WebWorkContext.GetWorkingLanguageAsync()</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a0a35cbbd0a986b10f76cdd6bfa49758f">Nop.Web.Framework.WebWorkContext.SetWorkingCurrencyAsync()</a> e <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ac164c3485d2c028ac1a3db2c231b29a1">Nop.Web.Framework.WebWorkContext.SetWorkingLanguageAsync()</a>.</p>

</div>
</div>
<a id="a6c640a9b5986640a77e40fbe6e79d9b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c640a9b5986640a77e40fbe6e79d9b2">&#9670;&nbsp;</a></span>GetCurrentVendorAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;<a class="el" href="class_nop_1_1_core_1_1_domain_1_1_vendors_1_1_vendor.html">Vendor</a>&gt; Nop.Web.Framework.WebWorkContext.GetCurrentVendorAsync </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the current vendor (logged-in manager) </p>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation</dd></dl>

<p>Implementa <a class="el" href="interface_nop_1_1_core_1_1_i_work_context.html#a89d734829c4f453033e1051632214427">Nop.Core.IWorkContext</a>.</p>
<div class="fragment"><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        {</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;            <span class="comment">//whether there is a cached value</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a5e93d7aed2b44f3d09e862a58d4ad87f">_cachedVendor</a> != <span class="keyword">null</span>)</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a5e93d7aed2b44f3d09e862a58d4ad87f">_cachedVendor</a>;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160; </div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;            var customer = await <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#aed3152ad572686f2f2ffa182e008eb47">GetCurrentCustomerAsync</a>();</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            <span class="keywordflow">if</span> (customer == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">null</span>;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160; </div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;            <span class="comment">//check vendor availability</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;            var vendor = await <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ac698708a8a044cc1c49cf82673727582">_vendorService</a>.<a class="code" href="interface_nop_1_1_services_1_1_vendors_1_1_i_vendor_service.html#a42318365fb0022b431a0a830ea0c7344">GetVendorByIdAsync</a>(customer.VendorId);</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;            <span class="keywordflow">if</span> (vendor == <span class="keyword">null</span> || vendor.Deleted || !vendor.Active)</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">null</span>;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160; </div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;            <span class="comment">//cache the found vendor</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a5e93d7aed2b44f3d09e862a58d4ad87f">_cachedVendor</a> = vendor;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160; </div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a5e93d7aed2b44f3d09e862a58d4ad87f">_cachedVendor</a>;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_framework_1_1_web_work_context_html_a5e93d7aed2b44f3d09e862a58d4ad87f"><div class="ttname"><a href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a5e93d7aed2b44f3d09e862a58d4ad87f">Nop.Web.Framework.WebWorkContext._cachedVendor</a></div><div class="ttdeci">Vendor _cachedVendor</div><div class="ttdef"><b>Definition:</b> WebWorkContext.cs:50</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_framework_1_1_web_work_context_html_aed3152ad572686f2f2ffa182e008eb47"><div class="ttname"><a href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#aed3152ad572686f2f2ffa182e008eb47">Nop.Web.Framework.WebWorkContext.GetCurrentCustomerAsync</a></div><div class="ttdeci">virtual async Task&lt; Customer &gt; GetCurrentCustomerAsync()</div><div class="ttdoc">Gets the current customer</div><div class="ttdef"><b>Definition:</b> WebWorkContext.cs:199</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_vendors_1_1_i_vendor_service_html_a42318365fb0022b431a0a830ea0c7344"><div class="ttname"><a href="interface_nop_1_1_services_1_1_vendors_1_1_i_vendor_service.html#a42318365fb0022b431a0a830ea0c7344">Nop.Services.Vendors.IVendorService.GetVendorByIdAsync</a></div><div class="ttdeci">Task&lt; Vendor &gt; GetVendorByIdAsync(int vendorId)</div><div class="ttdoc">Gets a vendor by vendor identifier</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a5e93d7aed2b44f3d09e862a58d4ad87f">Nop.Web.Framework.WebWorkContext._cachedVendor</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ac698708a8a044cc1c49cf82673727582">Nop.Web.Framework.WebWorkContext._vendorService</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#aed3152ad572686f2f2ffa182e008eb47">Nop.Web.Framework.WebWorkContext.GetCurrentCustomerAsync()</a> e <a class="el" href="interface_nop_1_1_services_1_1_vendors_1_1_i_vendor_service.html#a42318365fb0022b431a0a830ea0c7344">Nop.Services.Vendors.IVendorService.GetVendorByIdAsync()</a>.</p>

</div>
</div>
<a id="a5efa26d2ba927436c07aaad33a627683"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5efa26d2ba927436c07aaad33a627683">&#9670;&nbsp;</a></span>GetCustomerCookie()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual string Nop.Web.Framework.WebWorkContext.GetCustomerCookie </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get nop customer cookie </p>
<dl class="section return"><dt>Retorna</dt><dd>String value of cookie</dd></dl>
<div class="fragment"><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        {</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            var cookieName = $<span class="stringliteral">&quot;{NopCookieDefaults.Prefix}{NopCookieDefaults.CustomerCookie}&quot;</span>;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a4df0823eb4b7c2b34fe42c9c1e164866">_httpContextAccessor</a>.HttpContext?.Request?.Cookies[cookieName];</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a4df0823eb4b7c2b34fe42c9c1e164866">Nop.Web.Framework.WebWorkContext._httpContextAccessor</a>.</p>

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a3b32b52d002c90d23c69980df78c23da">Nop.Web.Framework.WebWorkContext.SetCurrentCustomerAsync()</a>.</p>

</div>
</div>
<a id="af14a7b69cce6ede8bfb6fac0e27c7081"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af14a7b69cce6ede8bfb6fac0e27c7081">&#9670;&nbsp;</a></span>GetLanguageFromRequestAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;<a class="el" href="class_nop_1_1_core_1_1_domain_1_1_localization_1_1_language.html">Language</a>&gt; Nop.Web.Framework.WebWorkContext.GetLanguageFromRequestAsync </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get language from the request </p>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the found language </dd></dl>
<div class="fragment"><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        {</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a4df0823eb4b7c2b34fe42c9c1e164866">_httpContextAccessor</a>.HttpContext?.Request == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">null</span>;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160; </div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;            <span class="comment">//get request culture</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;            var requestCulture = <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a4df0823eb4b7c2b34fe42c9c1e164866">_httpContextAccessor</a>.HttpContext.Features.Get&lt;IRequestCultureFeature&gt;()?.RequestCulture;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            <span class="keywordflow">if</span> (requestCulture == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">null</span>;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160; </div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            <span class="comment">//try to get language by culture name</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;            var requestLanguage = (await <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a9fe16f611fdf3e3dd401e2999d2acbb9">_languageService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_language_service.html#a7355c70b959779af87be67dbc90274a2">GetAllLanguagesAsync</a>()).FirstOrDefault(language =&gt;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                language.LanguageCulture.Equals(requestCulture.Culture.Name, StringComparison.InvariantCultureIgnoreCase));</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160; </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;            <span class="comment">//check language availability</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;            <span class="keywordflow">if</span> (requestLanguage == <span class="keyword">null</span> || !requestLanguage.Published || !await <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a03626aa2aa888572bd34b244b5d2e9de">_storeMappingService</a>.AuthorizeAsync(requestLanguage))</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">null</span>;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160; </div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;            <span class="keywordflow">return</span> requestLanguage;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        }</div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_localization_1_1_i_language_service_html_a7355c70b959779af87be67dbc90274a2"><div class="ttname"><a href="interface_nop_1_1_services_1_1_localization_1_1_i_language_service.html#a7355c70b959779af87be67dbc90274a2">Nop.Services.Localization.ILanguageService.GetAllLanguagesAsync</a></div><div class="ttdeci">Task&lt; IList&lt; Language &gt; &gt; GetAllLanguagesAsync(bool showHidden=false, int storeId=0)</div><div class="ttdoc">Gets all languages</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a4df0823eb4b7c2b34fe42c9c1e164866">Nop.Web.Framework.WebWorkContext._httpContextAccessor</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a9fe16f611fdf3e3dd401e2999d2acbb9">Nop.Web.Framework.WebWorkContext._languageService</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a03626aa2aa888572bd34b244b5d2e9de">Nop.Web.Framework.WebWorkContext._storeMappingService</a> e <a class="el" href="interface_nop_1_1_services_1_1_localization_1_1_i_language_service.html#a7355c70b959779af87be67dbc90274a2">Nop.Services.Localization.ILanguageService.GetAllLanguagesAsync()</a>.</p>

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a04cb44952e3fc61d6d867bc749b21516">Nop.Web.Framework.WebWorkContext.GetWorkingLanguageAsync()</a>.</p>

</div>
</div>
<a id="a0e54ab0362e9180f30e2208ae4a21b74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e54ab0362e9180f30e2208ae4a21b74">&#9670;&nbsp;</a></span>GetLanguageFromUrlAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;<a class="el" href="class_nop_1_1_core_1_1_domain_1_1_localization_1_1_language.html">Language</a>&gt; Nop.Web.Framework.WebWorkContext.GetLanguageFromUrlAsync </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get language from the requested page URL </p>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation The task result contains the found language </dd></dl>
<div class="fragment"><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        {</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a4df0823eb4b7c2b34fe42c9c1e164866">_httpContextAccessor</a>.HttpContext?.Request == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">null</span>;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160; </div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            <span class="comment">//whether the requsted URL is localized</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            var path = <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a4df0823eb4b7c2b34fe42c9c1e164866">_httpContextAccessor</a>.HttpContext.Request.Path.Value;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            var (isLocalized, language) = await path.IsLocalizedUrlAsync(<a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a4df0823eb4b7c2b34fe42c9c1e164866">_httpContextAccessor</a>.HttpContext.Request.PathBase, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            <span class="keywordflow">if</span> (!isLocalized)</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">null</span>;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160; </div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            <span class="comment">//check language availability</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            <span class="keywordflow">if</span> (!await <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a03626aa2aa888572bd34b244b5d2e9de">_storeMappingService</a>.AuthorizeAsync(language))</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">null</span>;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160; </div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            <span class="keywordflow">return</span> language;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a4df0823eb4b7c2b34fe42c9c1e164866">Nop.Web.Framework.WebWorkContext._httpContextAccessor</a> e <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a03626aa2aa888572bd34b244b5d2e9de">Nop.Web.Framework.WebWorkContext._storeMappingService</a>.</p>

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a04cb44952e3fc61d6d867bc749b21516">Nop.Web.Framework.WebWorkContext.GetWorkingLanguageAsync()</a>.</p>

</div>
</div>
<a id="ae7ed60e4fce35c3f524bb5bf0cda8540"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7ed60e4fce35c3f524bb5bf0cda8540">&#9670;&nbsp;</a></span>GetTaxDisplayTypeAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;<a class="el" href="namespace_nop_1_1_core_1_1_domain_1_1_tax.html#ad59b7fb4d9c43ceac91df05de550018c">TaxDisplayType</a>&gt; Nop.Web.Framework.WebWorkContext.GetTaxDisplayTypeAsync </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets or sets current tax display type </p>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation</dd></dl>

<p>Implementa <a class="el" href="interface_nop_1_1_core_1_1_i_work_context.html#a5bcc54eca020c516020f26a3ff84a360">Nop.Core.IWorkContext</a>.</p>
<div class="fragment"><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        {</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;            <span class="comment">//whether there is a cached value</span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a30b32460eb08730ce9897319c6179dae">_cachedTaxDisplayType</a>.HasValue)</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a30b32460eb08730ce9897319c6179dae">_cachedTaxDisplayType</a>.Value;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160; </div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;            var taxDisplayType = <a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_tax.html#ad59b7fb4d9c43ceac91df05de550018c">TaxDisplayType</a>.IncludingTax;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;            var customer = await <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#aed3152ad572686f2f2ffa182e008eb47">GetCurrentCustomerAsync</a>();</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;            var store = await <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a7cca40dca3403f0c067f53a30d5315f3">_storeContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_store_context.html#ab98a28cdb13e78df5beea58801148f19">GetCurrentStoreAsync</a>();</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160; </div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;            <span class="comment">//whether customers are allowed to select tax display type</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a118a5a2d0ac5b2f8231e6941a9afda42">_taxSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html#ad8b0185cf2d4654763f15d5725034b0f">AllowCustomersToSelectTaxDisplayType</a> &amp;&amp; customer != <span class="keyword">null</span>)</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;            {</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                <span class="comment">//try to get previously saved tax display type</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                var taxDisplayTypeId = await <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ab0814835f67afa1318bd1a32f128a6ee">_genericAttributeService</a></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                    .GetAttributeAsync&lt;<span class="keywordtype">int</span>?&gt;(customer, <a class="code" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html">NopCustomerDefaults</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html#aefa3c76e25cd71c1750abcdbfc214723">TaxDisplayTypeIdAttribute</a>, store.Id);</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                <span class="keywordflow">if</span> (taxDisplayTypeId.HasValue)</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                    taxDisplayType = (<a class="code" href="namespace_nop_1_1_core_1_1_domain_1_1_tax.html#ad59b7fb4d9c43ceac91df05de550018c">TaxDisplayType</a>)taxDisplayTypeId.Value;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                {</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                    <span class="comment">//default tax type by customer roles</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;                    var defaultRoleTaxDisplayType = await <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a9f5b8fb3170effd56dff3207981e2eb2">_customerService</a>.<a class="code" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#af933196251f55b609e66717eb5f89206">GetCustomerDefaultTaxDisplayTypeAsync</a>(customer);</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                    <span class="keywordflow">if</span> (defaultRoleTaxDisplayType != <span class="keyword">null</span>)</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                        taxDisplayType = defaultRoleTaxDisplayType.Value;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                }</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;            }</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;            {</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                <span class="comment">//default tax type by customer roles</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                var defaultRoleTaxDisplayType = await <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a9f5b8fb3170effd56dff3207981e2eb2">_customerService</a>.<a class="code" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#af933196251f55b609e66717eb5f89206">GetCustomerDefaultTaxDisplayTypeAsync</a>(customer);</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                <span class="keywordflow">if</span> (defaultRoleTaxDisplayType != <span class="keyword">null</span>)</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                    taxDisplayType = defaultRoleTaxDisplayType.Value;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;                {</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;                    <span class="comment">//or get the default tax display type</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                    taxDisplayType = <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a118a5a2d0ac5b2f8231e6941a9afda42">_taxSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html#a82f18b7fa06a2b57db30c1128c4def25">TaxDisplayType</a>;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;                }</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;            }</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160; </div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;            <span class="comment">//cache the value</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a30b32460eb08730ce9897319c6179dae">_cachedTaxDisplayType</a> = taxDisplayType;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160; </div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a30b32460eb08730ce9897319c6179dae">_cachedTaxDisplayType</a>.Value;</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults_html"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html">Nop.Core.Domain.Customers.NopCustomerDefaults</a></div><div class="ttdoc">Represents default values related to customers data</div><div class="ttdef"><b>Definition:</b> NopCustomerDefaults.cs:7</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults_html_aefa3c76e25cd71c1750abcdbfc214723"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html#aefa3c76e25cd71c1750abcdbfc214723">Nop.Core.Domain.Customers.NopCustomerDefaults.TaxDisplayTypeIdAttribute</a></div><div class="ttdeci">static string TaxDisplayTypeIdAttribute</div><div class="ttdoc">Gets a name of generic attribute to store the value of 'TaxDisplayTypeId'</div><div class="ttdef"><b>Definition:</b> NopCustomerDefaults.cs:261</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings_html_a82f18b7fa06a2b57db30c1128c4def25"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html#a82f18b7fa06a2b57db30c1128c4def25">Nop.Core.Domain.Tax.TaxSettings.TaxDisplayType</a></div><div class="ttdeci">TaxDisplayType TaxDisplayType</div><div class="ttdoc">Tax display type</div><div class="ttdef"><b>Definition:</b> TaxSettings.cs:23</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings_html_ad8b0185cf2d4654763f15d5725034b0f"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html#ad8b0185cf2d4654763f15d5725034b0f">Nop.Core.Domain.Tax.TaxSettings.AllowCustomersToSelectTaxDisplayType</a></div><div class="ttdeci">bool AllowCustomersToSelectTaxDisplayType</div><div class="ttdoc">Gets or sets a value indicating whether customers are allowed to select tax display type</div><div class="ttdef"><b>Definition:</b> TaxSettings.cs:53</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_framework_1_1_web_work_context_html_a30b32460eb08730ce9897319c6179dae"><div class="ttname"><a href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a30b32460eb08730ce9897319c6179dae">Nop.Web.Framework.WebWorkContext._cachedTaxDisplayType</a></div><div class="ttdeci">TaxDisplayType? _cachedTaxDisplayType</div><div class="ttdef"><b>Definition:</b> WebWorkContext.cs:53</div></div>
<div class="ttc" id="ainterface_nop_1_1_core_1_1_i_store_context_html_ab98a28cdb13e78df5beea58801148f19"><div class="ttname"><a href="interface_nop_1_1_core_1_1_i_store_context.html#ab98a28cdb13e78df5beea58801148f19">Nop.Core.IStoreContext.GetCurrentStoreAsync</a></div><div class="ttdeci">Task&lt; Store &gt; GetCurrentStoreAsync()</div><div class="ttdoc">Gets the current store</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_customers_1_1_i_customer_service_html_af933196251f55b609e66717eb5f89206"><div class="ttname"><a href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#af933196251f55b609e66717eb5f89206">Nop.Services.Customers.ICustomerService.GetCustomerDefaultTaxDisplayTypeAsync</a></div><div class="ttdeci">Task&lt; TaxDisplayType?&gt; GetCustomerDefaultTaxDisplayTypeAsync(Customer customer)</div><div class="ttdoc">Gets a default tax display type (if configured)</div></div>
<div class="ttc" id="anamespace_nop_1_1_core_1_1_domain_1_1_tax_html_ad59b7fb4d9c43ceac91df05de550018c"><div class="ttname"><a href="namespace_nop_1_1_core_1_1_domain_1_1_tax.html#ad59b7fb4d9c43ceac91df05de550018c">Nop.Core.Domain.Tax.TaxDisplayType</a></div><div class="ttdeci">TaxDisplayType</div><div class="ttdoc">Represents the tax display type enumeration</div><div class="ttdef"><b>Definition:</b> TaxDisplayType.cs:7</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a30b32460eb08730ce9897319c6179dae">Nop.Web.Framework.WebWorkContext._cachedTaxDisplayType</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a9f5b8fb3170effd56dff3207981e2eb2">Nop.Web.Framework.WebWorkContext._customerService</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ab0814835f67afa1318bd1a32f128a6ee">Nop.Web.Framework.WebWorkContext._genericAttributeService</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a7cca40dca3403f0c067f53a30d5315f3">Nop.Web.Framework.WebWorkContext._storeContext</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a118a5a2d0ac5b2f8231e6941a9afda42">Nop.Web.Framework.WebWorkContext._taxSettings</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html#ad8b0185cf2d4654763f15d5725034b0f">Nop.Core.Domain.Tax.TaxSettings.AllowCustomersToSelectTaxDisplayType</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#aed3152ad572686f2f2ffa182e008eb47">Nop.Web.Framework.WebWorkContext.GetCurrentCustomerAsync()</a>, <a class="el" href="interface_nop_1_1_core_1_1_i_store_context.html#ab98a28cdb13e78df5beea58801148f19">Nop.Core.IStoreContext.GetCurrentStoreAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#af933196251f55b609e66717eb5f89206">Nop.Services.Customers.ICustomerService.GetCustomerDefaultTaxDisplayTypeAsync()</a> e <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html#aefa3c76e25cd71c1750abcdbfc214723">Nop.Core.Domain.Customers.NopCustomerDefaults.TaxDisplayTypeIdAttribute</a>.</p>

</div>
</div>
<a id="ad7a7cd9a5acdf9a0e15533f716c953ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7a7cd9a5acdf9a0e15533f716c953ff">&#9670;&nbsp;</a></span>GetWorkingCurrencyAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;<a class="el" href="class_nop_1_1_core_1_1_domain_1_1_directory_1_1_currency.html">Currency</a>&gt; Nop.Web.Framework.WebWorkContext.GetWorkingCurrencyAsync </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets current user working currency </p>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation</dd></dl>

<p>Implementa <a class="el" href="interface_nop_1_1_core_1_1_i_work_context.html#a34d59971fa4eafe471e74c89f0d05349">Nop.Core.IWorkContext</a>.</p>
<div class="fragment"><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        {</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;            <span class="comment">//whether there is a cached value</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a896618be54ccbeb02e9dfe0021bb4a01">_cachedCurrency</a> != <span class="keyword">null</span>)</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a896618be54ccbeb02e9dfe0021bb4a01">_cachedCurrency</a>;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160; </div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;            var adminAreaUrl = $<span class="stringliteral">&quot;{_webHelper.GetStoreLocation()}admin&quot;</span>;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160; </div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;            <span class="comment">//return primary store currency when we&#39;re in admin area/mode</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a3f06525b8334e5ee43819d9ab3110a82">_webHelper</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_web_helper.html#a0c2715a0d221c22784ce22d0431b7ed9">GetThisPageUrl</a>(<span class="keyword">false</span>).StartsWith(adminAreaUrl, StringComparison.InvariantCultureIgnoreCase))</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;            {</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                var primaryStoreCurrency = await <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a59b84660687f50b93b5938d43afb533b">_currencyService</a>.<a class="code" href="interface_nop_1_1_services_1_1_directory_1_1_i_currency_service.html#a81c78d1c9841ac8dc226e43d5a19a4e4">GetCurrencyByIdAsync</a>(<a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a7878588a1bff6b7477ddadf770d00bf6">_currencySettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_directory_1_1_currency_settings.html#a5d5ba8e598d20352aa491a9924572da8">PrimaryStoreCurrencyId</a>);</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                <span class="keywordflow">if</span> (primaryStoreCurrency != <span class="keyword">null</span>)</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                {</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                    <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a896618be54ccbeb02e9dfe0021bb4a01">_cachedCurrency</a> = primaryStoreCurrency;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                    <span class="keywordflow">return</span> primaryStoreCurrency;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                }</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;            }</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160; </div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;            var customer = await <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#aed3152ad572686f2f2ffa182e008eb47">GetCurrentCustomerAsync</a>();</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;            var store = await <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a7cca40dca3403f0c067f53a30d5315f3">_storeContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_store_context.html#ab98a28cdb13e78df5beea58801148f19">GetCurrentStoreAsync</a>();</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160; </div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;            <span class="comment">//find a currency previously selected by a customer</span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;            var customerCurrencyId = await <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ab0814835f67afa1318bd1a32f128a6ee">_genericAttributeService</a></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                .GetAttributeAsync&lt;<span class="keywordtype">int</span>&gt;(customer, <a class="code" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html">NopCustomerDefaults</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html#a2822cda4872e4da9449b86f3442aa87c">CurrencyIdAttribute</a>, store.Id);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160; </div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            var allStoreCurrencies = await <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a59b84660687f50b93b5938d43afb533b">_currencyService</a>.<a class="code" href="interface_nop_1_1_services_1_1_directory_1_1_i_currency_service.html#afc6a50a8e65e27bb10b03194ba55c911">GetAllCurrenciesAsync</a>(storeId: store.Id);</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160; </div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;            <span class="comment">//check customer currency availability</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;            var customerCurrency = allStoreCurrencies.FirstOrDefault(currency =&gt; currency.Id == customerCurrencyId);</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;            <span class="keywordflow">if</span> (customerCurrency == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;            {</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                <span class="comment">//it not found, then try to get the default currency for the current language (if specified)</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                var language = await <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a04cb44952e3fc61d6d867bc749b21516">GetWorkingLanguageAsync</a>();</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                customerCurrency = allStoreCurrencies</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                    .FirstOrDefault(currency =&gt; currency.Id == language.DefaultCurrencyId);</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;            }</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160; </div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;            <span class="comment">//if the default currency for the current store not found, then try to get the first one</span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;            <span class="keywordflow">if</span> (customerCurrency == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                customerCurrency = allStoreCurrencies.FirstOrDefault();</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160; </div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;            <span class="comment">//if there are no currencies for the current store try to get the first one regardless of the store</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;            <span class="keywordflow">if</span> (customerCurrency == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                customerCurrency = (await <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a59b84660687f50b93b5938d43afb533b">_currencyService</a>.<a class="code" href="interface_nop_1_1_services_1_1_directory_1_1_i_currency_service.html#afc6a50a8e65e27bb10b03194ba55c911">GetAllCurrenciesAsync</a>()).FirstOrDefault();</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160; </div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;            <span class="comment">//cache the found currency</span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a896618be54ccbeb02e9dfe0021bb4a01">_cachedCurrency</a> = customerCurrency;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160; </div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a896618be54ccbeb02e9dfe0021bb4a01">_cachedCurrency</a>;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults_html_a2822cda4872e4da9449b86f3442aa87c"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html#a2822cda4872e4da9449b86f3442aa87c">Nop.Core.Domain.Customers.NopCustomerDefaults.CurrencyIdAttribute</a></div><div class="ttdeci">static string CurrencyIdAttribute</div><div class="ttdoc">Gets a name of generic attribute to store the value of 'CurrencyId'</div><div class="ttdef"><b>Definition:</b> NopCustomerDefaults.cs:206</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_directory_1_1_currency_settings_html_a5d5ba8e598d20352aa491a9924572da8"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_directory_1_1_currency_settings.html#a5d5ba8e598d20352aa491a9924572da8">Nop.Core.Domain.Directory.CurrencySettings.PrimaryStoreCurrencyId</a></div><div class="ttdeci">int PrimaryStoreCurrencyId</div><div class="ttdoc">Primary store currency identifier</div><div class="ttdef"><b>Definition:</b> CurrencySettings.cs:18</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_framework_1_1_web_work_context_html_a04cb44952e3fc61d6d867bc749b21516"><div class="ttname"><a href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a04cb44952e3fc61d6d867bc749b21516">Nop.Web.Framework.WebWorkContext.GetWorkingLanguageAsync</a></div><div class="ttdeci">virtual async Task&lt; Language &gt; GetWorkingLanguageAsync()</div><div class="ttdoc">Gets current user working language</div><div class="ttdef"><b>Definition:</b> WebWorkContext.cs:340</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_framework_1_1_web_work_context_html_a896618be54ccbeb02e9dfe0021bb4a01"><div class="ttname"><a href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a896618be54ccbeb02e9dfe0021bb4a01">Nop.Web.Framework.WebWorkContext._cachedCurrency</a></div><div class="ttdeci">Currency _cachedCurrency</div><div class="ttdef"><b>Definition:</b> WebWorkContext.cs:52</div></div>
<div class="ttc" id="ainterface_nop_1_1_core_1_1_i_web_helper_html_a0c2715a0d221c22784ce22d0431b7ed9"><div class="ttname"><a href="interface_nop_1_1_core_1_1_i_web_helper.html#a0c2715a0d221c22784ce22d0431b7ed9">Nop.Core.IWebHelper.GetThisPageUrl</a></div><div class="ttdeci">string GetThisPageUrl(bool includeQueryString, bool? useSsl=null, bool lowercaseUrl=false)</div><div class="ttdoc">Gets this page URL</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_directory_1_1_i_currency_service_html_a81c78d1c9841ac8dc226e43d5a19a4e4"><div class="ttname"><a href="interface_nop_1_1_services_1_1_directory_1_1_i_currency_service.html#a81c78d1c9841ac8dc226e43d5a19a4e4">Nop.Services.Directory.ICurrencyService.GetCurrencyByIdAsync</a></div><div class="ttdeci">Task&lt; Currency &gt; GetCurrencyByIdAsync(int currencyId)</div><div class="ttdoc">Gets a currency</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_directory_1_1_i_currency_service_html_afc6a50a8e65e27bb10b03194ba55c911"><div class="ttname"><a href="interface_nop_1_1_services_1_1_directory_1_1_i_currency_service.html#afc6a50a8e65e27bb10b03194ba55c911">Nop.Services.Directory.ICurrencyService.GetAllCurrenciesAsync</a></div><div class="ttdeci">Task&lt; IList&lt; Currency &gt; &gt; GetAllCurrenciesAsync(bool showHidden=false, int storeId=0)</div><div class="ttdoc">Gets all currencies</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a896618be54ccbeb02e9dfe0021bb4a01">Nop.Web.Framework.WebWorkContext._cachedCurrency</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a59b84660687f50b93b5938d43afb533b">Nop.Web.Framework.WebWorkContext._currencyService</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a7878588a1bff6b7477ddadf770d00bf6">Nop.Web.Framework.WebWorkContext._currencySettings</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ab0814835f67afa1318bd1a32f128a6ee">Nop.Web.Framework.WebWorkContext._genericAttributeService</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a7cca40dca3403f0c067f53a30d5315f3">Nop.Web.Framework.WebWorkContext._storeContext</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a3f06525b8334e5ee43819d9ab3110a82">Nop.Web.Framework.WebWorkContext._webHelper</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html#a2822cda4872e4da9449b86f3442aa87c">Nop.Core.Domain.Customers.NopCustomerDefaults.CurrencyIdAttribute</a>, <a class="el" href="interface_nop_1_1_services_1_1_directory_1_1_i_currency_service.html#afc6a50a8e65e27bb10b03194ba55c911">Nop.Services.Directory.ICurrencyService.GetAllCurrenciesAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_directory_1_1_i_currency_service.html#a81c78d1c9841ac8dc226e43d5a19a4e4">Nop.Services.Directory.ICurrencyService.GetCurrencyByIdAsync()</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#aed3152ad572686f2f2ffa182e008eb47">Nop.Web.Framework.WebWorkContext.GetCurrentCustomerAsync()</a>, <a class="el" href="interface_nop_1_1_core_1_1_i_store_context.html#ab98a28cdb13e78df5beea58801148f19">Nop.Core.IStoreContext.GetCurrentStoreAsync()</a>, <a class="el" href="interface_nop_1_1_core_1_1_i_web_helper.html#a0c2715a0d221c22784ce22d0431b7ed9">Nop.Core.IWebHelper.GetThisPageUrl()</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a04cb44952e3fc61d6d867bc749b21516">Nop.Web.Framework.WebWorkContext.GetWorkingLanguageAsync()</a> e <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_directory_1_1_currency_settings.html#a5d5ba8e598d20352aa491a9924572da8">Nop.Core.Domain.Directory.CurrencySettings.PrimaryStoreCurrencyId</a>.</p>

</div>
</div>
<a id="a04cb44952e3fc61d6d867bc749b21516"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04cb44952e3fc61d6d867bc749b21516">&#9670;&nbsp;</a></span>GetWorkingLanguageAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a>&lt;<a class="el" href="class_nop_1_1_core_1_1_domain_1_1_localization_1_1_language.html">Language</a>&gt; Nop.Web.Framework.WebWorkContext.GetWorkingLanguageAsync </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets current user working language </p>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation</dd></dl>

<p>Implementa <a class="el" href="interface_nop_1_1_core_1_1_i_work_context.html#a686f2cf36883b0c44436ddbf33a023a5">Nop.Core.IWorkContext</a>.</p>
<div class="fragment"><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        {</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;            <span class="comment">//whether there is a cached value</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a20e7ce8dfc02f9ff6e8a1761b7276d31">_cachedLanguage</a> != <span class="keyword">null</span>)</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a20e7ce8dfc02f9ff6e8a1761b7276d31">_cachedLanguage</a>;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160; </div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;            var customer = await <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#aed3152ad572686f2f2ffa182e008eb47">GetCurrentCustomerAsync</a>();</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            var store = await <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a7cca40dca3403f0c067f53a30d5315f3">_storeContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_store_context.html#ab98a28cdb13e78df5beea58801148f19">GetCurrentStoreAsync</a>();</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160; </div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;            <a class="code" href="class_nop_1_1_core_1_1_domain_1_1_localization_1_1_language.html">Language</a> detectedLanguage = <span class="keyword">null</span>;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160; </div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;            <span class="comment">//localized URLs are enabled, so try to get language from the requested page URL</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#adf25c07cdab841a6e7f5db9f1c0b7f43">_localizationSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_localization_1_1_localization_settings.html#a344047eca1c99af8c3fea84768f2e230">SeoFriendlyUrlsForLanguagesEnabled</a>)</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                detectedLanguage = await <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a0e54ab0362e9180f30e2208ae4a21b74">GetLanguageFromUrlAsync</a>();</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160; </div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;            <span class="comment">//whether we should detect the language from the request</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;            <span class="keywordflow">if</span> (detectedLanguage == <span class="keyword">null</span> &amp;&amp; <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#adf25c07cdab841a6e7f5db9f1c0b7f43">_localizationSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_localization_1_1_localization_settings.html#a60a6bd92b0a49d11bf95b9566c5cdc2e">AutomaticallyDetectLanguage</a>)</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;            {</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                <span class="comment">//whether language already detected by this way</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                var alreadyDetected = await <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ab0814835f67afa1318bd1a32f128a6ee">_genericAttributeService</a></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                    .GetAttributeAsync&lt;<span class="keywordtype">bool</span>&gt;(customer, <a class="code" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html">NopCustomerDefaults</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html#ae871c7186336240d15014cd3db9a8721">LanguageAutomaticallyDetectedAttribute</a>, store.Id);</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160; </div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                <span class="comment">//if not, try to get language from the request</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                <span class="keywordflow">if</span> (!alreadyDetected)</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                {</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                    detectedLanguage = await <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#af14a7b69cce6ede8bfb6fac0e27c7081">GetLanguageFromRequestAsync</a>();</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                    <span class="keywordflow">if</span> (detectedLanguage != <span class="keyword">null</span>)</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                    {</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                        <span class="comment">//language already detected</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                        await <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ab0814835f67afa1318bd1a32f128a6ee">_genericAttributeService</a></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                            .SaveAttributeAsync(customer, <a class="code" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html">NopCustomerDefaults</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html#ae871c7186336240d15014cd3db9a8721">LanguageAutomaticallyDetectedAttribute</a>, <span class="keyword">true</span>, store.Id);</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                    }</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                }</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;            }</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160; </div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;            <span class="comment">//if the language is detected we need to save it</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;            <span class="keywordflow">if</span> (detectedLanguage != <span class="keyword">null</span>)</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;            {</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                <span class="comment">//get current saved language identifier</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                var currentLanguageId = await <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ab0814835f67afa1318bd1a32f128a6ee">_genericAttributeService</a></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                    .GetAttributeAsync&lt;<span class="keywordtype">int</span>&gt;(customer, <a class="code" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html">NopCustomerDefaults</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html#a722df216cf706b1c1e6daa60a7be761f">LanguageIdAttribute</a>, store.Id);</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160; </div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                <span class="comment">//save the detected language identifier if it differs from the current one</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                <span class="keywordflow">if</span> (detectedLanguage.<a class="code" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Id</a> != currentLanguageId)</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                {</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                    await <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ab0814835f67afa1318bd1a32f128a6ee">_genericAttributeService</a></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                        .SaveAttributeAsync(customer, <a class="code" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html">NopCustomerDefaults</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html#a722df216cf706b1c1e6daa60a7be761f">LanguageIdAttribute</a>, detectedLanguage.<a class="code" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Id</a>, store.Id);</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                }</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            }</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160; </div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;            <span class="comment">//get current customer language identifier</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            var customerLanguageId = await <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ab0814835f67afa1318bd1a32f128a6ee">_genericAttributeService</a></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                .GetAttributeAsync&lt;<span class="keywordtype">int</span>&gt;(customer, <a class="code" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html">NopCustomerDefaults</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html#a722df216cf706b1c1e6daa60a7be761f">LanguageIdAttribute</a>, store.Id);</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160; </div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;            var allStoreLanguages = await <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a9fe16f611fdf3e3dd401e2999d2acbb9">_languageService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_language_service.html#a7355c70b959779af87be67dbc90274a2">GetAllLanguagesAsync</a>(storeId: store.Id);</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160; </div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            <span class="comment">//check customer language availability</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;            var customerLanguage = allStoreLanguages.FirstOrDefault(language =&gt; language.Id == customerLanguageId);</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;            <span class="keywordflow">if</span> (customerLanguage == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;            {</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                <span class="comment">//it not found, then try to get the default language for the current store (if specified)</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                customerLanguage = allStoreLanguages.FirstOrDefault(language =&gt; language.Id == store.DefaultLanguageId);</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            }</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160; </div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            <span class="comment">//if the default language for the current store not found, then try to get the first one</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            <span class="keywordflow">if</span> (customerLanguage == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                customerLanguage = allStoreLanguages.FirstOrDefault();</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160; </div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;            <span class="comment">//if there are no languages for the current store try to get the first one regardless of the store</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;            <span class="keywordflow">if</span> (customerLanguage == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                customerLanguage = (await <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a9fe16f611fdf3e3dd401e2999d2acbb9">_languageService</a>.<a class="code" href="interface_nop_1_1_services_1_1_localization_1_1_i_language_service.html#a7355c70b959779af87be67dbc90274a2">GetAllLanguagesAsync</a>()).FirstOrDefault();</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160; </div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;            <span class="comment">//cache the found language</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a20e7ce8dfc02f9ff6e8a1761b7276d31">_cachedLanguage</a> = customerLanguage;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160; </div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a20e7ce8dfc02f9ff6e8a1761b7276d31">_cachedLanguage</a>;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_base_entity_html_a6908f7c042a024f82d7e7947e75bca53"><div class="ttname"><a href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Nop.Core.BaseEntity.Id</a></div><div class="ttdeci">int Id</div><div class="ttdoc">Gets or sets the entity identifier</div><div class="ttdef"><b>Definition:</b> BaseEntity.cs:11</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults_html_a722df216cf706b1c1e6daa60a7be761f"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html#a722df216cf706b1c1e6daa60a7be761f">Nop.Core.Domain.Customers.NopCustomerDefaults.LanguageIdAttribute</a></div><div class="ttdeci">static string LanguageIdAttribute</div><div class="ttdoc">Gets a name of generic attribute to store the value of 'LanguageId'</div><div class="ttdef"><b>Definition:</b> NopCustomerDefaults.cs:211</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults_html_ae871c7186336240d15014cd3db9a8721"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html#ae871c7186336240d15014cd3db9a8721">Nop.Core.Domain.Customers.NopCustomerDefaults.LanguageAutomaticallyDetectedAttribute</a></div><div class="ttdeci">static string LanguageAutomaticallyDetectedAttribute</div><div class="ttdoc">Gets a name of generic attribute to store the value of 'LanguageAutomaticallyDetected'</div><div class="ttdef"><b>Definition:</b> NopCustomerDefaults.cs:216</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_localization_1_1_language_html"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_localization_1_1_language.html">Nop.Core.Domain.Localization.Language</a></div><div class="ttdoc">Represents a language</div><div class="ttdef"><b>Definition:</b> Language.cs:9</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_localization_1_1_localization_settings_html_a344047eca1c99af8c3fea84768f2e230"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_localization_1_1_localization_settings.html#a344047eca1c99af8c3fea84768f2e230">Nop.Core.Domain.Localization.LocalizationSettings.SeoFriendlyUrlsForLanguagesEnabled</a></div><div class="ttdeci">bool SeoFriendlyUrlsForLanguagesEnabled</div><div class="ttdoc">A value indicating whether SEO friendly URLs with multiple languages are enabled</div><div class="ttdef"><b>Definition:</b> LocalizationSettings.cs:23</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_localization_1_1_localization_settings_html_a60a6bd92b0a49d11bf95b9566c5cdc2e"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_localization_1_1_localization_settings.html#a60a6bd92b0a49d11bf95b9566c5cdc2e">Nop.Core.Domain.Localization.LocalizationSettings.AutomaticallyDetectLanguage</a></div><div class="ttdeci">bool AutomaticallyDetectLanguage</div><div class="ttdoc">A value indicating whether we should detect the current language by a customer region (browser settin...</div><div class="ttdef"><b>Definition:</b> LocalizationSettings.cs:28</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_framework_1_1_web_work_context_html_a0e54ab0362e9180f30e2208ae4a21b74"><div class="ttname"><a href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a0e54ab0362e9180f30e2208ae4a21b74">Nop.Web.Framework.WebWorkContext.GetLanguageFromUrlAsync</a></div><div class="ttdeci">virtual async Task&lt; Language &gt; GetLanguageFromUrlAsync()</div><div class="ttdoc">Get language from the requested page URL</div><div class="ttdef"><b>Definition:</b> WebWorkContext.cs:144</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_framework_1_1_web_work_context_html_a20e7ce8dfc02f9ff6e8a1761b7276d31"><div class="ttname"><a href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a20e7ce8dfc02f9ff6e8a1761b7276d31">Nop.Web.Framework.WebWorkContext._cachedLanguage</a></div><div class="ttdeci">Language _cachedLanguage</div><div class="ttdef"><b>Definition:</b> WebWorkContext.cs:51</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_framework_1_1_web_work_context_html_af14a7b69cce6ede8bfb6fac0e27c7081"><div class="ttname"><a href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#af14a7b69cce6ede8bfb6fac0e27c7081">Nop.Web.Framework.WebWorkContext.GetLanguageFromRequestAsync</a></div><div class="ttdeci">virtual async Task&lt; Language &gt; GetLanguageFromRequestAsync()</div><div class="ttdoc">Get language from the request</div><div class="ttdef"><b>Definition:</b> WebWorkContext.cs:170</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a20e7ce8dfc02f9ff6e8a1761b7276d31">Nop.Web.Framework.WebWorkContext._cachedLanguage</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ab0814835f67afa1318bd1a32f128a6ee">Nop.Web.Framework.WebWorkContext._genericAttributeService</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a9fe16f611fdf3e3dd401e2999d2acbb9">Nop.Web.Framework.WebWorkContext._languageService</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#adf25c07cdab841a6e7f5db9f1c0b7f43">Nop.Web.Framework.WebWorkContext._localizationSettings</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a7cca40dca3403f0c067f53a30d5315f3">Nop.Web.Framework.WebWorkContext._storeContext</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_localization_1_1_localization_settings.html#a60a6bd92b0a49d11bf95b9566c5cdc2e">Nop.Core.Domain.Localization.LocalizationSettings.AutomaticallyDetectLanguage</a>, <a class="el" href="interface_nop_1_1_services_1_1_localization_1_1_i_language_service.html#a7355c70b959779af87be67dbc90274a2">Nop.Services.Localization.ILanguageService.GetAllLanguagesAsync()</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#aed3152ad572686f2f2ffa182e008eb47">Nop.Web.Framework.WebWorkContext.GetCurrentCustomerAsync()</a>, <a class="el" href="interface_nop_1_1_core_1_1_i_store_context.html#ab98a28cdb13e78df5beea58801148f19">Nop.Core.IStoreContext.GetCurrentStoreAsync()</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#af14a7b69cce6ede8bfb6fac0e27c7081">Nop.Web.Framework.WebWorkContext.GetLanguageFromRequestAsync()</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a0e54ab0362e9180f30e2208ae4a21b74">Nop.Web.Framework.WebWorkContext.GetLanguageFromUrlAsync()</a>, <a class="el" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Nop.Core.BaseEntity.Id</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html#ae871c7186336240d15014cd3db9a8721">Nop.Core.Domain.Customers.NopCustomerDefaults.LanguageAutomaticallyDetectedAttribute</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html#a722df216cf706b1c1e6daa60a7be761f">Nop.Core.Domain.Customers.NopCustomerDefaults.LanguageIdAttribute</a> e <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_localization_1_1_localization_settings.html#a344047eca1c99af8c3fea84768f2e230">Nop.Core.Domain.Localization.LocalizationSettings.SeoFriendlyUrlsForLanguagesEnabled</a>.</p>

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ad7a7cd9a5acdf9a0e15533f716c953ff">Nop.Web.Framework.WebWorkContext.GetWorkingCurrencyAsync()</a>.</p>

</div>
</div>
<a id="a3b32b52d002c90d23c69980df78c23da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b32b52d002c90d23c69980df78c23da">&#9670;&nbsp;</a></span>SetCurrentCustomerAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a> Nop.Web.Framework.WebWorkContext.SetCurrentCustomerAsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html">Customer</a>&#160;</td>
          <td class="paramname"><em>customer</em> = <code>null</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the current customer </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">customer</td><td>Current customer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation</dd></dl>

<p>Implementa <a class="el" href="interface_nop_1_1_core_1_1_i_work_context.html#aafdc8d772c6cd4e0c3ee0b39c9b29f1b">Nop.Core.IWorkContext</a>.</p>
<div class="fragment"><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        {</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            <span class="keywordflow">if</span> (customer == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            {</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                <span class="comment">//check whether request is made by a background (schedule) task</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a4df0823eb4b7c2b34fe42c9c1e164866">_httpContextAccessor</a>.HttpContext?.Request</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                    ?.Path.Equals(<span class="keyword">new</span> PathString($<span class="stringliteral">&quot;/{Services.Tasks.NopTaskDefaults.ScheduleTaskPath}&quot;</span>), StringComparison.InvariantCultureIgnoreCase)</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                    ?? <span class="keyword">true</span>)</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                {</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                    <span class="comment">//in this case return built-in customer record for background task</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                    customer = await <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a9f5b8fb3170effd56dff3207981e2eb2">_customerService</a>.<a class="code" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#a97fcdceaf853ece95126b8de2588acec">GetOrCreateBackgroundTaskUserAsync</a>();</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                }</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160; </div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                <span class="keywordflow">if</span> (customer == <span class="keyword">null</span> || customer.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html#ae36d166d6f35b0664ea43027d0d7a2d2">Deleted</a> || !customer.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html#abd163f24346570027187da8cfc94cf8d">Active</a> || customer.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html#af9839675f3dbe8c50016a2645bf93384">RequireReLogin</a>)</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                {</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                    <span class="comment">//check whether request is made by a search engine, in this case return built-in customer record for search engines</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a5cfa4124240591d4c471fef7af939c1a">_userAgentHelper</a>.<a class="code" href="interface_nop_1_1_services_1_1_helpers_1_1_i_user_agent_helper.html#a106359025dd60dc496d2fd551fd7f5c1">IsSearchEngine</a>())</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                        customer = await <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a9f5b8fb3170effd56dff3207981e2eb2">_customerService</a>.<a class="code" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#a6f03e98dbb13a9c1acbc062e1e5f8630">GetOrCreateSearchEngineUserAsync</a>();</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                }</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160; </div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                <span class="keywordflow">if</span> (customer == <span class="keyword">null</span> || customer.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html#ae36d166d6f35b0664ea43027d0d7a2d2">Deleted</a> || !customer.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html#abd163f24346570027187da8cfc94cf8d">Active</a> || customer.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html#af9839675f3dbe8c50016a2645bf93384">RequireReLogin</a>)</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                {</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                    <span class="comment">//try to get registered user</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                    customer = await <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a18dd93a5c2428ab6a7b1c7786aaa1b9b">_authenticationService</a>.<a class="code" href="interface_nop_1_1_services_1_1_authentication_1_1_i_authentication_service.html#a651466185dccbbec73e0deb1be419dc3">GetAuthenticatedCustomerAsync</a>();</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                }</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160; </div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                <span class="keywordflow">if</span> (customer != <span class="keyword">null</span> &amp;&amp; !customer.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html#ae36d166d6f35b0664ea43027d0d7a2d2">Deleted</a> &amp;&amp; customer.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html#abd163f24346570027187da8cfc94cf8d">Active</a> &amp;&amp; !customer.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html#af9839675f3dbe8c50016a2645bf93384">RequireReLogin</a>)</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                {</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                    <span class="comment">//get impersonate user if required</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                    var impersonatedCustomerId = await <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ab0814835f67afa1318bd1a32f128a6ee">_genericAttributeService</a></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                        .GetAttributeAsync&lt;<span class="keywordtype">int</span>?&gt;(customer, <a class="code" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html">NopCustomerDefaults</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html#a8dd926ef5be6cd688f3eed1242d14468">ImpersonatedCustomerIdAttribute</a>);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                    <span class="keywordflow">if</span> (impersonatedCustomerId.HasValue &amp;&amp; impersonatedCustomerId.Value &gt; 0)</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                    {</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                        var impersonatedCustomer = await <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a9f5b8fb3170effd56dff3207981e2eb2">_customerService</a>.<a class="code" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#a9d2dc587d116a6f656792c4f4cf22e09">GetCustomerByIdAsync</a>(impersonatedCustomerId.Value);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                        <span class="keywordflow">if</span> (impersonatedCustomer != <span class="keyword">null</span> &amp;&amp; !impersonatedCustomer.Deleted &amp;&amp;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                            impersonatedCustomer.Active &amp;&amp;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                            !impersonatedCustomer.RequireReLogin)</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                        {</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                            <span class="comment">//set impersonated customer</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                            <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a126a0a929a139f4a0aeb8bd3548891b1">_originalCustomerIfImpersonated</a> = customer;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                            customer = impersonatedCustomer;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                        }</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                    }</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                }</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160; </div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                <span class="keywordflow">if</span> (customer == <span class="keyword">null</span> || customer.Deleted || !customer.Active || customer.RequireReLogin)</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                    <span class="comment">//get guest customer</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                    var customerCookie = <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a5efa26d2ba927436c07aaad33a627683">GetCustomerCookie</a>();</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                    <span class="keywordflow">if</span> (Guid.TryParse(customerCookie, out var customerGuid))</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                    {</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                        <span class="comment">//get customer from cookie (should not be registered)</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                        var customerByCookie = await <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a9f5b8fb3170effd56dff3207981e2eb2">_customerService</a>.<a class="code" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#af2421c9cc8d636aaedce28a03e1a852b">GetCustomerByGuidAsync</a>(customerGuid);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                        <span class="keywordflow">if</span> (customerByCookie != <span class="keyword">null</span> &amp;&amp; !await <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a9f5b8fb3170effd56dff3207981e2eb2">_customerService</a>.<a class="code" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#af6b928fad7e1ea6d21e194c5aa74fc6b">IsRegisteredAsync</a>(customerByCookie))</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                            customer = customerByCookie;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                    }</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                }</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160; </div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                <span class="keywordflow">if</span> (customer == <span class="keyword">null</span> || customer.Deleted || !customer.Active || customer.RequireReLogin)</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                {</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                    <span class="comment">//create guest if not exists</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                    customer = await <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a9f5b8fb3170effd56dff3207981e2eb2">_customerService</a>.<a class="code" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#ac30bc9d30d38d21a7b7c2e745fb68306">InsertGuestCustomerAsync</a>();</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                }</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            }</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160; </div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;            <span class="keywordflow">if</span> (!customer.Deleted &amp;&amp; customer.Active &amp;&amp; !customer.RequireReLogin)</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            {</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                <span class="comment">//set customer cookie</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a36c884154f609c3b6e4eaf01da26f21a">SetCustomerCookie</a>(customer.CustomerGuid);</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160; </div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                <span class="comment">//cache the found customer</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a231a4b6aada5d54eff1073f05bd3914d">_cachedCustomer</a> = customer;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            }</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer_html_abd163f24346570027187da8cfc94cf8d"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html#abd163f24346570027187da8cfc94cf8d">Nop.Core.Domain.Customers.Customer.Active</a></div><div class="ttdeci">bool Active</div><div class="ttdoc">Gets or sets a value indicating whether the customer is active</div><div class="ttdef"><b>Definition:</b> Customer.cs:84</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer_html_ae36d166d6f35b0664ea43027d0d7a2d2"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html#ae36d166d6f35b0664ea43027d0d7a2d2">Nop.Core.Domain.Customers.Customer.Deleted</a></div><div class="ttdeci">bool Deleted</div><div class="ttdoc">Gets or sets a value indicating whether the customer has been deleted</div><div class="ttdef"><b>Definition:</b> Customer.cs:89</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer_html_af9839675f3dbe8c50016a2645bf93384"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html#af9839675f3dbe8c50016a2645bf93384">Nop.Core.Domain.Customers.Customer.RequireReLogin</a></div><div class="ttdeci">bool RequireReLogin</div><div class="ttdoc">Gets or sets a value indicating whether the customer is required to re-login</div><div class="ttdef"><b>Definition:</b> Customer.cs:69</div></div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults_html_a8dd926ef5be6cd688f3eed1242d14468"><div class="ttname"><a href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html#a8dd926ef5be6cd688f3eed1242d14468">Nop.Core.Domain.Customers.NopCustomerDefaults.ImpersonatedCustomerIdAttribute</a></div><div class="ttdeci">static string ImpersonatedCustomerIdAttribute</div><div class="ttdoc">Gets a name of generic attribute to store the value of 'ImpersonatedCustomerId'</div><div class="ttdef"><b>Definition:</b> NopCustomerDefaults.cs:196</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_framework_1_1_web_work_context_html_a126a0a929a139f4a0aeb8bd3548891b1"><div class="ttname"><a href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a126a0a929a139f4a0aeb8bd3548891b1">Nop.Web.Framework.WebWorkContext._originalCustomerIfImpersonated</a></div><div class="ttdeci">Customer _originalCustomerIfImpersonated</div><div class="ttdef"><b>Definition:</b> WebWorkContext.cs:49</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_framework_1_1_web_work_context_html_a36c884154f609c3b6e4eaf01da26f21a"><div class="ttname"><a href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a36c884154f609c3b6e4eaf01da26f21a">Nop.Web.Framework.WebWorkContext.SetCustomerCookie</a></div><div class="ttdeci">virtual void SetCustomerCookie(Guid customerGuid)</div><div class="ttdoc">Set nop customer cookie</div><div class="ttdef"><b>Definition:</b> WebWorkContext.cs:110</div></div>
<div class="ttc" id="aclass_nop_1_1_web_1_1_framework_1_1_web_work_context_html_a5efa26d2ba927436c07aaad33a627683"><div class="ttname"><a href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a5efa26d2ba927436c07aaad33a627683">Nop.Web.Framework.WebWorkContext.GetCustomerCookie</a></div><div class="ttdeci">virtual string GetCustomerCookie()</div><div class="ttdoc">Get nop customer cookie</div><div class="ttdef"><b>Definition:</b> WebWorkContext.cs:100</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_authentication_1_1_i_authentication_service_html_a651466185dccbbec73e0deb1be419dc3"><div class="ttname"><a href="interface_nop_1_1_services_1_1_authentication_1_1_i_authentication_service.html#a651466185dccbbec73e0deb1be419dc3">Nop.Services.Authentication.IAuthenticationService.GetAuthenticatedCustomerAsync</a></div><div class="ttdeci">Task&lt; Customer &gt; GetAuthenticatedCustomerAsync()</div><div class="ttdoc">Get authenticated customer</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_customers_1_1_i_customer_service_html_a6f03e98dbb13a9c1acbc062e1e5f8630"><div class="ttname"><a href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#a6f03e98dbb13a9c1acbc062e1e5f8630">Nop.Services.Customers.ICustomerService.GetOrCreateSearchEngineUserAsync</a></div><div class="ttdeci">Task&lt; Customer &gt; GetOrCreateSearchEngineUserAsync()</div><div class="ttdoc">Gets built-in system guest record used for requests from search engines</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_customers_1_1_i_customer_service_html_a97fcdceaf853ece95126b8de2588acec"><div class="ttname"><a href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#a97fcdceaf853ece95126b8de2588acec">Nop.Services.Customers.ICustomerService.GetOrCreateBackgroundTaskUserAsync</a></div><div class="ttdeci">Task&lt; Customer &gt; GetOrCreateBackgroundTaskUserAsync()</div><div class="ttdoc">Gets built-in system record used for background tasks</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_customers_1_1_i_customer_service_html_a9d2dc587d116a6f656792c4f4cf22e09"><div class="ttname"><a href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#a9d2dc587d116a6f656792c4f4cf22e09">Nop.Services.Customers.ICustomerService.GetCustomerByIdAsync</a></div><div class="ttdeci">Task&lt; Customer &gt; GetCustomerByIdAsync(int customerId)</div><div class="ttdoc">Gets a customer</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_customers_1_1_i_customer_service_html_ac30bc9d30d38d21a7b7c2e745fb68306"><div class="ttname"><a href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#ac30bc9d30d38d21a7b7c2e745fb68306">Nop.Services.Customers.ICustomerService.InsertGuestCustomerAsync</a></div><div class="ttdeci">Task&lt; Customer &gt; InsertGuestCustomerAsync()</div><div class="ttdoc">Insert a guest customer</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_customers_1_1_i_customer_service_html_af2421c9cc8d636aaedce28a03e1a852b"><div class="ttname"><a href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#af2421c9cc8d636aaedce28a03e1a852b">Nop.Services.Customers.ICustomerService.GetCustomerByGuidAsync</a></div><div class="ttdeci">Task&lt; Customer &gt; GetCustomerByGuidAsync(Guid customerGuid)</div><div class="ttdoc">Gets a customer by GUID</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_customers_1_1_i_customer_service_html_af6b928fad7e1ea6d21e194c5aa74fc6b"><div class="ttname"><a href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#af6b928fad7e1ea6d21e194c5aa74fc6b">Nop.Services.Customers.ICustomerService.IsRegisteredAsync</a></div><div class="ttdeci">Task&lt; bool &gt; IsRegisteredAsync(Customer customer, bool onlyActiveCustomerRoles=true)</div><div class="ttdoc">Gets a value indicating whether customer is registered</div></div>
<div class="ttc" id="ainterface_nop_1_1_services_1_1_helpers_1_1_i_user_agent_helper_html_a106359025dd60dc496d2fd551fd7f5c1"><div class="ttname"><a href="interface_nop_1_1_services_1_1_helpers_1_1_i_user_agent_helper.html#a106359025dd60dc496d2fd551fd7f5c1">Nop.Services.Helpers.IUserAgentHelper.IsSearchEngine</a></div><div class="ttdeci">bool IsSearchEngine()</div><div class="ttdoc">Get a value indicating whether the request is made by search engine (web crawler)</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a18dd93a5c2428ab6a7b1c7786aaa1b9b">Nop.Web.Framework.WebWorkContext._authenticationService</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a231a4b6aada5d54eff1073f05bd3914d">Nop.Web.Framework.WebWorkContext._cachedCustomer</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a9f5b8fb3170effd56dff3207981e2eb2">Nop.Web.Framework.WebWorkContext._customerService</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ab0814835f67afa1318bd1a32f128a6ee">Nop.Web.Framework.WebWorkContext._genericAttributeService</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a4df0823eb4b7c2b34fe42c9c1e164866">Nop.Web.Framework.WebWorkContext._httpContextAccessor</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a126a0a929a139f4a0aeb8bd3548891b1">Nop.Web.Framework.WebWorkContext._originalCustomerIfImpersonated</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a5cfa4124240591d4c471fef7af939c1a">Nop.Web.Framework.WebWorkContext._userAgentHelper</a>, <a class="el" href="interface_nop_1_1_services_1_1_authentication_1_1_i_authentication_service.html#a651466185dccbbec73e0deb1be419dc3">Nop.Services.Authentication.IAuthenticationService.GetAuthenticatedCustomerAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#af2421c9cc8d636aaedce28a03e1a852b">Nop.Services.Customers.ICustomerService.GetCustomerByGuidAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#a9d2dc587d116a6f656792c4f4cf22e09">Nop.Services.Customers.ICustomerService.GetCustomerByIdAsync()</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a5efa26d2ba927436c07aaad33a627683">Nop.Web.Framework.WebWorkContext.GetCustomerCookie()</a>, <a class="el" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#a97fcdceaf853ece95126b8de2588acec">Nop.Services.Customers.ICustomerService.GetOrCreateBackgroundTaskUserAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#a6f03e98dbb13a9c1acbc062e1e5f8630">Nop.Services.Customers.ICustomerService.GetOrCreateSearchEngineUserAsync()</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html#a8dd926ef5be6cd688f3eed1242d14468">Nop.Core.Domain.Customers.NopCustomerDefaults.ImpersonatedCustomerIdAttribute</a>, <a class="el" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#ac30bc9d30d38d21a7b7c2e745fb68306">Nop.Services.Customers.ICustomerService.InsertGuestCustomerAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html#af6b928fad7e1ea6d21e194c5aa74fc6b">Nop.Services.Customers.ICustomerService.IsRegisteredAsync()</a>, <a class="el" href="interface_nop_1_1_services_1_1_helpers_1_1_i_user_agent_helper.html#a106359025dd60dc496d2fd551fd7f5c1">Nop.Services.Helpers.IUserAgentHelper.IsSearchEngine()</a> e <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a36c884154f609c3b6e4eaf01da26f21a">Nop.Web.Framework.WebWorkContext.SetCustomerCookie()</a>.</p>

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#aed3152ad572686f2f2ffa182e008eb47">Nop.Web.Framework.WebWorkContext.GetCurrentCustomerAsync()</a>.</p>

</div>
</div>
<a id="a36c884154f609c3b6e4eaf01da26f21a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36c884154f609c3b6e4eaf01da26f21a">&#9670;&nbsp;</a></span>SetCustomerCookie()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Nop.Web.Framework.WebWorkContext.SetCustomerCookie </td>
          <td>(</td>
          <td class="paramtype">Guid&#160;</td>
          <td class="paramname"><em>customerGuid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set nop customer cookie </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">customerGuid</td><td>Guid of the customer</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        {</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a4df0823eb4b7c2b34fe42c9c1e164866">_httpContextAccessor</a>.HttpContext?.Response?.HasStarted ?? <span class="keyword">true</span>)</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            <span class="comment">//delete current cookie value</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;            var cookieName = $<span class="stringliteral">&quot;{NopCookieDefaults.Prefix}{NopCookieDefaults.CustomerCookie}&quot;</span>;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a4df0823eb4b7c2b34fe42c9c1e164866">_httpContextAccessor</a>.HttpContext.Response.Cookies.Delete(cookieName);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160; </div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            <span class="comment">//get date of cookie expiration</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            var cookieExpires = <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ad036af6af09cbaeae4f1336ea0195c10">_cookieSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_security_1_1_cookie_settings.html#ae950ef629a4067355338eb506372efc3">CustomerCookieExpires</a>;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;            var cookieExpiresDate = DateTime.Now.AddHours(cookieExpires);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160; </div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;            <span class="comment">//if passed guid is empty set cookie as expired</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;            <span class="keywordflow">if</span> (customerGuid == Guid.Empty)</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                cookieExpiresDate = DateTime.Now.AddMonths(-1);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160; </div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            <span class="comment">//set new cookie value</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;            var options = <span class="keyword">new</span> CookieOptions</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;            {</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                HttpOnly = <span class="keyword">true</span>,</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                Expires = cookieExpiresDate,</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                Secure = <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a3f06525b8334e5ee43819d9ab3110a82">_webHelper</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_web_helper.html#a150abb215b4d539e72df7b74da1be1bc">IsCurrentConnectionSecured</a>()</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            };</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a4df0823eb4b7c2b34fe42c9c1e164866">_httpContextAccessor</a>.HttpContext.Response.Cookies.Append(cookieName, customerGuid.ToString(), options);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        }</div>
<div class="ttc" id="aclass_nop_1_1_core_1_1_security_1_1_cookie_settings_html_ae950ef629a4067355338eb506372efc3"><div class="ttname"><a href="class_nop_1_1_core_1_1_security_1_1_cookie_settings.html#ae950ef629a4067355338eb506372efc3">Nop.Core.Security.CookieSettings.CustomerCookieExpires</a></div><div class="ttdeci">int CustomerCookieExpires</div><div class="ttdoc">Expiration time on hours for the &quot;Customer&quot; cookie</div><div class="ttdef"><b>Definition:</b> CookieSettings.cs:20</div></div>
<div class="ttc" id="ainterface_nop_1_1_core_1_1_i_web_helper_html_a150abb215b4d539e72df7b74da1be1bc"><div class="ttname"><a href="interface_nop_1_1_core_1_1_i_web_helper.html#a150abb215b4d539e72df7b74da1be1bc">Nop.Core.IWebHelper.IsCurrentConnectionSecured</a></div><div class="ttdeci">bool IsCurrentConnectionSecured()</div><div class="ttdoc">Gets a value indicating whether current connection is secured</div></div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ad036af6af09cbaeae4f1336ea0195c10">Nop.Web.Framework.WebWorkContext._cookieSettings</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a4df0823eb4b7c2b34fe42c9c1e164866">Nop.Web.Framework.WebWorkContext._httpContextAccessor</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a3f06525b8334e5ee43819d9ab3110a82">Nop.Web.Framework.WebWorkContext._webHelper</a>, <a class="el" href="class_nop_1_1_core_1_1_security_1_1_cookie_settings.html#ae950ef629a4067355338eb506372efc3">Nop.Core.Security.CookieSettings.CustomerCookieExpires</a> e <a class="el" href="interface_nop_1_1_core_1_1_i_web_helper.html#a150abb215b4d539e72df7b74da1be1bc">Nop.Core.IWebHelper.IsCurrentConnectionSecured()</a>.</p>

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a3b32b52d002c90d23c69980df78c23da">Nop.Web.Framework.WebWorkContext.SetCurrentCustomerAsync()</a>.</p>

</div>
</div>
<a id="abff4bdfd9b55398cfbee82b58f93b344"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abff4bdfd9b55398cfbee82b58f93b344">&#9670;&nbsp;</a></span>SetTaxDisplayTypeAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a> Nop.Web.Framework.WebWorkContext.SetTaxDisplayTypeAsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespace_nop_1_1_core_1_1_domain_1_1_tax.html#ad59b7fb4d9c43ceac91df05de550018c">TaxDisplayType</a>&#160;</td>
          <td class="paramname"><em>taxDisplayType</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation</dd></dl>
</p>

<p>Implementa <a class="el" href="interface_nop_1_1_core_1_1_i_work_context.html#a8eaa96d5690844683d0dad48910069db">Nop.Core.IWorkContext</a>.</p>
<div class="fragment"><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        {</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;            <span class="comment">//whether customers are allowed to select tax display type</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a118a5a2d0ac5b2f8231e6941a9afda42">_taxSettings</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html#ad8b0185cf2d4654763f15d5725034b0f">AllowCustomersToSelectTaxDisplayType</a>)</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160; </div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;            <span class="comment">//save passed value</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;            var customer = await <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#aed3152ad572686f2f2ffa182e008eb47">GetCurrentCustomerAsync</a>();</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;            var store = await <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a7cca40dca3403f0c067f53a30d5315f3">_storeContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_store_context.html#ab98a28cdb13e78df5beea58801148f19">GetCurrentStoreAsync</a>();</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;            await <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ab0814835f67afa1318bd1a32f128a6ee">_genericAttributeService</a></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                .SaveAttributeAsync(customer, <a class="code" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html">NopCustomerDefaults</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html#aefa3c76e25cd71c1750abcdbfc214723">TaxDisplayTypeIdAttribute</a>, (<span class="keywordtype">int</span>)taxDisplayType, store.Id);</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160; </div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;            <span class="comment">//then reset the cached value</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a30b32460eb08730ce9897319c6179dae">_cachedTaxDisplayType</a> = <span class="keyword">null</span>;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html#aefa3c76e25cd71c1750abcdbfc214723">Nop.Core.Domain.Customers.NopCustomerDefaults.TaxDisplayTypeIdAttribute</a>.</p>

</div>
</div>
<a id="a0a35cbbd0a986b10f76cdd6bfa49758f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a35cbbd0a986b10f76cdd6bfa49758f">&#9670;&nbsp;</a></span>SetWorkingCurrencyAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a> Nop.Web.Framework.WebWorkContext.SetWorkingCurrencyAsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_directory_1_1_currency.html">Currency</a>&#160;</td>
          <td class="paramname"><em>currency</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets current user working currency </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">currency</td><td>Currency</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation</dd></dl>

<p>Implementa <a class="el" href="interface_nop_1_1_core_1_1_i_work_context.html#a5baaa250e6a0d60529cc7ff4554b6d6d">Nop.Core.IWorkContext</a>.</p>
<div class="fragment"><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        {</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;            <span class="comment">//save passed currency identifier</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;            var customer = await <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#aed3152ad572686f2f2ffa182e008eb47">GetCurrentCustomerAsync</a>();</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;            var store = await <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a7cca40dca3403f0c067f53a30d5315f3">_storeContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_store_context.html#ab98a28cdb13e78df5beea58801148f19">GetCurrentStoreAsync</a>();</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;            await <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ab0814835f67afa1318bd1a32f128a6ee">_genericAttributeService</a>.SaveAttributeAsync(customer, <a class="code" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html">NopCustomerDefaults</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html#a2822cda4872e4da9449b86f3442aa87c">CurrencyIdAttribute</a>, currency?.Id ?? 0, store.Id);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160; </div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;            <span class="comment">//then reset the cached value</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a896618be54ccbeb02e9dfe0021bb4a01">_cachedCurrency</a> = <span class="keyword">null</span>;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a896618be54ccbeb02e9dfe0021bb4a01">Nop.Web.Framework.WebWorkContext._cachedCurrency</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ab0814835f67afa1318bd1a32f128a6ee">Nop.Web.Framework.WebWorkContext._genericAttributeService</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a7cca40dca3403f0c067f53a30d5315f3">Nop.Web.Framework.WebWorkContext._storeContext</a>, <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html#a2822cda4872e4da9449b86f3442aa87c">Nop.Core.Domain.Customers.NopCustomerDefaults.CurrencyIdAttribute</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#aed3152ad572686f2f2ffa182e008eb47">Nop.Web.Framework.WebWorkContext.GetCurrentCustomerAsync()</a>, <a class="el" href="interface_nop_1_1_core_1_1_i_store_context.html#ab98a28cdb13e78df5beea58801148f19">Nop.Core.IStoreContext.GetCurrentStoreAsync()</a> e <a class="el" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Nop.Core.BaseEntity.Id</a>.</p>

</div>
</div>
<a id="ac164c3485d2c028ac1a3db2c231b29a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac164c3485d2c028ac1a3db2c231b29a1">&#9670;&nbsp;</a></span>SetWorkingLanguageAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async <a class="el" href="_sendinblue_plugin_8cs.html#a9f49374e6bc76a6b5261e5c211d2e63d">Task</a> Nop.Web.Framework.WebWorkContext.SetWorkingLanguageAsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_localization_1_1_language.html">Language</a>&#160;</td>
          <td class="paramname"><em>language</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets current user working language </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">language</td><td>Language</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retorna</dt><dd>A task that represents the asynchronous operation</dd></dl>

<p>Implementa <a class="el" href="interface_nop_1_1_core_1_1_i_work_context.html#a0e4d4eb30b22bb6287c16f57e10575f8">Nop.Core.IWorkContext</a>.</p>
<div class="fragment"><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        {</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            <span class="comment">//save passed language identifier</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;            var customer = await <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#aed3152ad572686f2f2ffa182e008eb47">GetCurrentCustomerAsync</a>();</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            var store = await <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a7cca40dca3403f0c067f53a30d5315f3">_storeContext</a>.<a class="code" href="interface_nop_1_1_core_1_1_i_store_context.html#ab98a28cdb13e78df5beea58801148f19">GetCurrentStoreAsync</a>();</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;            await <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ab0814835f67afa1318bd1a32f128a6ee">_genericAttributeService</a>.SaveAttributeAsync(customer, <a class="code" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html">NopCustomerDefaults</a>.<a class="code" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html#a722df216cf706b1c1e6daa60a7be761f">LanguageIdAttribute</a>, language?.Id ?? 0, store.Id);</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160; </div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;            <span class="comment">//then reset the cached value</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;            <a class="code" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a20e7ce8dfc02f9ff6e8a1761b7276d31">_cachedLanguage</a> = <span class="keyword">null</span>;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">Referências <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a20e7ce8dfc02f9ff6e8a1761b7276d31">Nop.Web.Framework.WebWorkContext._cachedLanguage</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ab0814835f67afa1318bd1a32f128a6ee">Nop.Web.Framework.WebWorkContext._genericAttributeService</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a7cca40dca3403f0c067f53a30d5315f3">Nop.Web.Framework.WebWorkContext._storeContext</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#aed3152ad572686f2f2ffa182e008eb47">Nop.Web.Framework.WebWorkContext.GetCurrentCustomerAsync()</a>, <a class="el" href="interface_nop_1_1_core_1_1_i_store_context.html#ab98a28cdb13e78df5beea58801148f19">Nop.Core.IStoreContext.GetCurrentStoreAsync()</a>, <a class="el" href="class_nop_1_1_core_1_1_base_entity.html#a6908f7c042a024f82d7e7947e75bca53">Nop.Core.BaseEntity.Id</a> e <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_nop_customer_defaults.html#a722df216cf706b1c1e6daa60a7be761f">Nop.Core.Domain.Customers.NopCustomerDefaults.LanguageIdAttribute</a>.</p>

</div>
</div>
<h2 class="groupheader">Documentação dos dados membro</h2>
<a id="a18dd93a5c2428ab6a7b1c7786aaa1b9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18dd93a5c2428ab6a7b1c7786aaa1b9b">&#9670;&nbsp;</a></span>_authenticationService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_authentication_1_1_i_authentication_service.html">IAuthenticationService</a> Nop.Web.Framework.WebWorkContext._authenticationService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a3b32b52d002c90d23c69980df78c23da">Nop.Web.Framework.WebWorkContext.SetCurrentCustomerAsync()</a> e <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a58d3dc86e3b139f79b80839a7e91ce23">Nop.Web.Framework.WebWorkContext.WebWorkContext()</a>.</p>

</div>
</div>
<a id="a896618be54ccbeb02e9dfe0021bb4a01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a896618be54ccbeb02e9dfe0021bb4a01">&#9670;&nbsp;</a></span>_cachedCurrency</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_directory_1_1_currency.html">Currency</a> Nop.Web.Framework.WebWorkContext._cachedCurrency</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ad7a7cd9a5acdf9a0e15533f716c953ff">Nop.Web.Framework.WebWorkContext.GetWorkingCurrencyAsync()</a> e <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a0a35cbbd0a986b10f76cdd6bfa49758f">Nop.Web.Framework.WebWorkContext.SetWorkingCurrencyAsync()</a>.</p>

</div>
</div>
<a id="a231a4b6aada5d54eff1073f05bd3914d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a231a4b6aada5d54eff1073f05bd3914d">&#9670;&nbsp;</a></span>_cachedCustomer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html">Customer</a> Nop.Web.Framework.WebWorkContext._cachedCustomer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#aed3152ad572686f2f2ffa182e008eb47">Nop.Web.Framework.WebWorkContext.GetCurrentCustomerAsync()</a> e <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a3b32b52d002c90d23c69980df78c23da">Nop.Web.Framework.WebWorkContext.SetCurrentCustomerAsync()</a>.</p>

</div>
</div>
<a id="a20e7ce8dfc02f9ff6e8a1761b7276d31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20e7ce8dfc02f9ff6e8a1761b7276d31">&#9670;&nbsp;</a></span>_cachedLanguage</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_localization_1_1_language.html">Language</a> Nop.Web.Framework.WebWorkContext._cachedLanguage</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a04cb44952e3fc61d6d867bc749b21516">Nop.Web.Framework.WebWorkContext.GetWorkingLanguageAsync()</a> e <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ac164c3485d2c028ac1a3db2c231b29a1">Nop.Web.Framework.WebWorkContext.SetWorkingLanguageAsync()</a>.</p>

</div>
</div>
<a id="a30b32460eb08730ce9897319c6179dae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30b32460eb08730ce9897319c6179dae">&#9670;&nbsp;</a></span>_cachedTaxDisplayType</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_nop_1_1_core_1_1_domain_1_1_tax.html#ad59b7fb4d9c43ceac91df05de550018c">TaxDisplayType</a>? Nop.Web.Framework.WebWorkContext._cachedTaxDisplayType</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ae7ed60e4fce35c3f524bb5bf0cda8540">Nop.Web.Framework.WebWorkContext.GetTaxDisplayTypeAsync()</a>.</p>

</div>
</div>
<a id="a5e93d7aed2b44f3d09e862a58d4ad87f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e93d7aed2b44f3d09e862a58d4ad87f">&#9670;&nbsp;</a></span>_cachedVendor</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_vendors_1_1_vendor.html">Vendor</a> Nop.Web.Framework.WebWorkContext._cachedVendor</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a6c640a9b5986640a77e40fbe6e79d9b2">Nop.Web.Framework.WebWorkContext.GetCurrentVendorAsync()</a>.</p>

</div>
</div>
<a id="ad036af6af09cbaeae4f1336ea0195c10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad036af6af09cbaeae4f1336ea0195c10">&#9670;&nbsp;</a></span>_cookieSettings</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="class_nop_1_1_core_1_1_security_1_1_cookie_settings.html">CookieSettings</a> Nop.Web.Framework.WebWorkContext._cookieSettings</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a36c884154f609c3b6e4eaf01da26f21a">Nop.Web.Framework.WebWorkContext.SetCustomerCookie()</a> e <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a58d3dc86e3b139f79b80839a7e91ce23">Nop.Web.Framework.WebWorkContext.WebWorkContext()</a>.</p>

</div>
</div>
<a id="a59b84660687f50b93b5938d43afb533b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59b84660687f50b93b5938d43afb533b">&#9670;&nbsp;</a></span>_currencyService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_directory_1_1_i_currency_service.html">ICurrencyService</a> Nop.Web.Framework.WebWorkContext._currencyService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ad7a7cd9a5acdf9a0e15533f716c953ff">Nop.Web.Framework.WebWorkContext.GetWorkingCurrencyAsync()</a> e <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a58d3dc86e3b139f79b80839a7e91ce23">Nop.Web.Framework.WebWorkContext.WebWorkContext()</a>.</p>

</div>
</div>
<a id="a7878588a1bff6b7477ddadf770d00bf6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7878588a1bff6b7477ddadf770d00bf6">&#9670;&nbsp;</a></span>_currencySettings</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_directory_1_1_currency_settings.html">CurrencySettings</a> Nop.Web.Framework.WebWorkContext._currencySettings</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ad7a7cd9a5acdf9a0e15533f716c953ff">Nop.Web.Framework.WebWorkContext.GetWorkingCurrencyAsync()</a> e <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a58d3dc86e3b139f79b80839a7e91ce23">Nop.Web.Framework.WebWorkContext.WebWorkContext()</a>.</p>

</div>
</div>
<a id="a9f5b8fb3170effd56dff3207981e2eb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f5b8fb3170effd56dff3207981e2eb2">&#9670;&nbsp;</a></span>_customerService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_customers_1_1_i_customer_service.html">ICustomerService</a> Nop.Web.Framework.WebWorkContext._customerService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ae7ed60e4fce35c3f524bb5bf0cda8540">Nop.Web.Framework.WebWorkContext.GetTaxDisplayTypeAsync()</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a3b32b52d002c90d23c69980df78c23da">Nop.Web.Framework.WebWorkContext.SetCurrentCustomerAsync()</a> e <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a58d3dc86e3b139f79b80839a7e91ce23">Nop.Web.Framework.WebWorkContext.WebWorkContext()</a>.</p>

</div>
</div>
<a id="ab0814835f67afa1318bd1a32f128a6ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0814835f67afa1318bd1a32f128a6ee">&#9670;&nbsp;</a></span>_genericAttributeService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_common_1_1_i_generic_attribute_service.html">IGenericAttributeService</a> Nop.Web.Framework.WebWorkContext._genericAttributeService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ae7ed60e4fce35c3f524bb5bf0cda8540">Nop.Web.Framework.WebWorkContext.GetTaxDisplayTypeAsync()</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ad7a7cd9a5acdf9a0e15533f716c953ff">Nop.Web.Framework.WebWorkContext.GetWorkingCurrencyAsync()</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a04cb44952e3fc61d6d867bc749b21516">Nop.Web.Framework.WebWorkContext.GetWorkingLanguageAsync()</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a3b32b52d002c90d23c69980df78c23da">Nop.Web.Framework.WebWorkContext.SetCurrentCustomerAsync()</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a0a35cbbd0a986b10f76cdd6bfa49758f">Nop.Web.Framework.WebWorkContext.SetWorkingCurrencyAsync()</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ac164c3485d2c028ac1a3db2c231b29a1">Nop.Web.Framework.WebWorkContext.SetWorkingLanguageAsync()</a> e <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a58d3dc86e3b139f79b80839a7e91ce23">Nop.Web.Framework.WebWorkContext.WebWorkContext()</a>.</p>

</div>
</div>
<a id="a4df0823eb4b7c2b34fe42c9c1e164866"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4df0823eb4b7c2b34fe42c9c1e164866">&#9670;&nbsp;</a></span>_httpContextAccessor</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly IHttpContextAccessor Nop.Web.Framework.WebWorkContext._httpContextAccessor</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a5efa26d2ba927436c07aaad33a627683">Nop.Web.Framework.WebWorkContext.GetCustomerCookie()</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#af14a7b69cce6ede8bfb6fac0e27c7081">Nop.Web.Framework.WebWorkContext.GetLanguageFromRequestAsync()</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a0e54ab0362e9180f30e2208ae4a21b74">Nop.Web.Framework.WebWorkContext.GetLanguageFromUrlAsync()</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a3b32b52d002c90d23c69980df78c23da">Nop.Web.Framework.WebWorkContext.SetCurrentCustomerAsync()</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a36c884154f609c3b6e4eaf01da26f21a">Nop.Web.Framework.WebWorkContext.SetCustomerCookie()</a> e <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a58d3dc86e3b139f79b80839a7e91ce23">Nop.Web.Framework.WebWorkContext.WebWorkContext()</a>.</p>

</div>
</div>
<a id="a9fe16f611fdf3e3dd401e2999d2acbb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fe16f611fdf3e3dd401e2999d2acbb9">&#9670;&nbsp;</a></span>_languageService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_localization_1_1_i_language_service.html">ILanguageService</a> Nop.Web.Framework.WebWorkContext._languageService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#af14a7b69cce6ede8bfb6fac0e27c7081">Nop.Web.Framework.WebWorkContext.GetLanguageFromRequestAsync()</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a04cb44952e3fc61d6d867bc749b21516">Nop.Web.Framework.WebWorkContext.GetWorkingLanguageAsync()</a> e <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a58d3dc86e3b139f79b80839a7e91ce23">Nop.Web.Framework.WebWorkContext.WebWorkContext()</a>.</p>

</div>
</div>
<a id="adf25c07cdab841a6e7f5db9f1c0b7f43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf25c07cdab841a6e7f5db9f1c0b7f43">&#9670;&nbsp;</a></span>_localizationSettings</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_localization_1_1_localization_settings.html">LocalizationSettings</a> Nop.Web.Framework.WebWorkContext._localizationSettings</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a04cb44952e3fc61d6d867bc749b21516">Nop.Web.Framework.WebWorkContext.GetWorkingLanguageAsync()</a> e <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a58d3dc86e3b139f79b80839a7e91ce23">Nop.Web.Framework.WebWorkContext.WebWorkContext()</a>.</p>

</div>
</div>
<a id="a126a0a929a139f4a0aeb8bd3548891b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a126a0a929a139f4a0aeb8bd3548891b1">&#9670;&nbsp;</a></span>_originalCustomerIfImpersonated</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html">Customer</a> Nop.Web.Framework.WebWorkContext._originalCustomerIfImpersonated</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a3b32b52d002c90d23c69980df78c23da">Nop.Web.Framework.WebWorkContext.SetCurrentCustomerAsync()</a>.</p>

</div>
</div>
<a id="a7cca40dca3403f0c067f53a30d5315f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cca40dca3403f0c067f53a30d5315f3">&#9670;&nbsp;</a></span>_storeContext</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_core_1_1_i_store_context.html">IStoreContext</a> Nop.Web.Framework.WebWorkContext._storeContext</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ae7ed60e4fce35c3f524bb5bf0cda8540">Nop.Web.Framework.WebWorkContext.GetTaxDisplayTypeAsync()</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ad7a7cd9a5acdf9a0e15533f716c953ff">Nop.Web.Framework.WebWorkContext.GetWorkingCurrencyAsync()</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a04cb44952e3fc61d6d867bc749b21516">Nop.Web.Framework.WebWorkContext.GetWorkingLanguageAsync()</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a0a35cbbd0a986b10f76cdd6bfa49758f">Nop.Web.Framework.WebWorkContext.SetWorkingCurrencyAsync()</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ac164c3485d2c028ac1a3db2c231b29a1">Nop.Web.Framework.WebWorkContext.SetWorkingLanguageAsync()</a> e <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a58d3dc86e3b139f79b80839a7e91ce23">Nop.Web.Framework.WebWorkContext.WebWorkContext()</a>.</p>

</div>
</div>
<a id="a03626aa2aa888572bd34b244b5d2e9de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03626aa2aa888572bd34b244b5d2e9de">&#9670;&nbsp;</a></span>_storeMappingService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_stores_1_1_i_store_mapping_service.html">IStoreMappingService</a> Nop.Web.Framework.WebWorkContext._storeMappingService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#af14a7b69cce6ede8bfb6fac0e27c7081">Nop.Web.Framework.WebWorkContext.GetLanguageFromRequestAsync()</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a0e54ab0362e9180f30e2208ae4a21b74">Nop.Web.Framework.WebWorkContext.GetLanguageFromUrlAsync()</a> e <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a58d3dc86e3b139f79b80839a7e91ce23">Nop.Web.Framework.WebWorkContext.WebWorkContext()</a>.</p>

</div>
</div>
<a id="a118a5a2d0ac5b2f8231e6941a9afda42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a118a5a2d0ac5b2f8231e6941a9afda42">&#9670;&nbsp;</a></span>_taxSettings</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_tax_1_1_tax_settings.html">TaxSettings</a> Nop.Web.Framework.WebWorkContext._taxSettings</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ae7ed60e4fce35c3f524bb5bf0cda8540">Nop.Web.Framework.WebWorkContext.GetTaxDisplayTypeAsync()</a> e <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a58d3dc86e3b139f79b80839a7e91ce23">Nop.Web.Framework.WebWorkContext.WebWorkContext()</a>.</p>

</div>
</div>
<a id="a5cfa4124240591d4c471fef7af939c1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cfa4124240591d4c471fef7af939c1a">&#9670;&nbsp;</a></span>_userAgentHelper</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_helpers_1_1_i_user_agent_helper.html">IUserAgentHelper</a> Nop.Web.Framework.WebWorkContext._userAgentHelper</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a3b32b52d002c90d23c69980df78c23da">Nop.Web.Framework.WebWorkContext.SetCurrentCustomerAsync()</a> e <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a58d3dc86e3b139f79b80839a7e91ce23">Nop.Web.Framework.WebWorkContext.WebWorkContext()</a>.</p>

</div>
</div>
<a id="ac698708a8a044cc1c49cf82673727582"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac698708a8a044cc1c49cf82673727582">&#9670;&nbsp;</a></span>_vendorService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_services_1_1_vendors_1_1_i_vendor_service.html">IVendorService</a> Nop.Web.Framework.WebWorkContext._vendorService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a6c640a9b5986640a77e40fbe6e79d9b2">Nop.Web.Framework.WebWorkContext.GetCurrentVendorAsync()</a> e <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a58d3dc86e3b139f79b80839a7e91ce23">Nop.Web.Framework.WebWorkContext.WebWorkContext()</a>.</p>

</div>
</div>
<a id="a3f06525b8334e5ee43819d9ab3110a82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f06525b8334e5ee43819d9ab3110a82">&#9670;&nbsp;</a></span>_webHelper</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_nop_1_1_core_1_1_i_web_helper.html">IWebHelper</a> Nop.Web.Framework.WebWorkContext._webHelper</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenciado por <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#ad7a7cd9a5acdf9a0e15533f716c953ff">Nop.Web.Framework.WebWorkContext.GetWorkingCurrencyAsync()</a>, <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a36c884154f609c3b6e4eaf01da26f21a">Nop.Web.Framework.WebWorkContext.SetCustomerCookie()</a> e <a class="el" href="class_nop_1_1_web_1_1_framework_1_1_web_work_context.html#a58d3dc86e3b139f79b80839a7e91ce23">Nop.Web.Framework.WebWorkContext.WebWorkContext()</a>.</p>

</div>
</div>
<h2 class="groupheader">Documentação das propriedades</h2>
<a id="a0f075f9ef7b8e8e93389ab96bda19607"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f075f9ef7b8e8e93389ab96bda19607">&#9670;&nbsp;</a></span>IsAdmin</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool Nop.Web.Framework.WebWorkContext.IsAdmin</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets or sets value indicating whether we're in admin area </p>
<div class="fragment"><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;{ <span class="keyword">get</span>; <span class="keyword">set</span>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a36378b868bed441c387fdf0a8c26853b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36378b868bed441c387fdf0a8c26853b">&#9670;&nbsp;</a></span>OriginalCustomerIfImpersonated</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="class_nop_1_1_core_1_1_domain_1_1_customers_1_1_customer.html">Customer</a> Nop.Web.Framework.WebWorkContext.OriginalCustomerIfImpersonated</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the original customer (in case the current one is impersonated) </p>

</div>
</div>
<hr/>A documentação para esta classe foi gerada a partir do seguinte ficheiro:<ul>
<li>C:/Users/gabri/Documents/Projetos/GitHub/Estudos/Nopcommercer plugin/nopCommerce_4.40.3_Source - Copia/src/Presentation/Nop.Web.Framework/<a class="el" href="_web_work_context_8cs.html">WebWorkContext.cs</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Gerado por&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
